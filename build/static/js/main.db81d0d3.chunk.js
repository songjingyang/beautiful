(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1073:function(e,t,a){},1075:function(e,t,a){},1081:function(e,t,a){},1512:function(e,t,a){},558:function(e,t,a){"use strict";a.d(t,"a",function(){return r});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},560:function(e,t,a){"use strict";var r,n,i,c,o,s=a(0),l=a.n(s),u=a(8),m=(a(575),a(562)),d=(a(577),a(3)),p=a.n(d),g=a(12),b=a(21),f=a(9),h=a(10),y=a(5),v=(a(84),a(4)),E=a(20),O=a(1546),j=a(541),w=a.n(j),S=a(1545),C="http://120.77.207.21",P={getPolicy:"/file/basematerial/aliyun/oss/policy",login:"/auth/oauth/token",logout:"/auth/token/logout",getCode:"/code",getCityList:"/admin/basecity/list",getMenuInfo:"/admin/menu/tree",getScenicSpotPage:"/admin/basescenery/page",CreateScenicSpot:"/admin/basescenery",getScenicSpotSingle:"/admin/basescenery",DeleteScenic:"/admin/basescenery",baseHotelUrl:"/admin/basehotel/page",HotelUrl:"/admin/basehotel",baseRestaurantUrl:"/admin/baserestaurant/page",RestaurantUrl:"/admin/baserestaurant",baseTripModeUrl:"/admin/basetirp/page",TripModeUrl:"/admin/basetirp",basePictureUrl:"/admin/baseimage/page",PictureUrl:"/admin/baseimage",baseVideoUrl:"/admin/basevideo/page",VideoUrl:"/admin/basevideo",baseBasicProductsUrl:"/admin/baseproduct/page",BasicProductsUrl:"/admin/baseproduct",baseTouris:"/admin/bmtourproduct/page",baseTourisUrl:"/admin/bmtourproduct",EditTourRecommoned:"/admin/bmtourproduct/recommendById",baseTag:"/admin/bmtourtag/page",baseTagUrl:"/admin/bmtourtag",editTag:"/admin/bmtourtag/updateStateById",baseRoleUrl:"/admin/role/page",baseOwnPicture:"/admin/bmmaterial/page",deleteImg:"/admin/bmmaterial",baseRecommend:"/admin/bmtourproduct/recommendById",baseUp:"/admin/bmtourproduct/stateById",baseCalendarPrice:"/admin/bmtourproductdays/page",basePictuerStrategy:"/admin/bmstrategyimage/page",PictuerStrategyUrl:"/admin/bmstrategyimage",getPictureCity:"/admin/baseimage/listCityByType",baseAdvertisement:"/admin/bmadvert/page",AdvertisementUrl:"/admin/bmadvert",baseComment:"/admin/usercompose/page",baseCommentUrl:"/admin/usercompose",baseVideoStrategy:"/admin/bmstrategyvideo/page",VideoStrategyUrl:"/admin/bmstrategyvideo",baseCityStraegyPage:"/admin/bmstrategycity/page",CityStraegyUrl:"/admin/bmstrategycity",baseAnswer:"/admin/useranswers/getUserAnswersPage",baseAnswerUrl:"/admin/useranswers",userAnswer:"/admin/useranswers/page",baseBroadcast:"/admin/bmcarousel/page",BroadcastUrl:"/admin/bmcarousel",baseRelation:"/admin/bmtourproductdays/getRelationProductPage",videoUp:"/admin/bmstrategyvideo/operation",imageUp:"/admin/bmstrategyimage/operation",CityRecommend:"/admin/bmstrategycity/recommend",CityState:"/admin/bmstrategycity/operation",EditProducts:"/admin/bmstrategycityproduct/relationProductById",baseUserAnswer:"/admin/useranswers/page",upOrDown:"/admin/useranswers/updateShelfById",editState:"/admin/useranswers/updateStateById",travelsPage:"/admin/usertravels/page",baseTravels:"/admin/usertravels",travelsUpOrDown:"/admin/usertravels/updateShelfById",travelsPass:"/admin/usertravels/updateStateById",travelsCommend:"/admin/usertravels/updateRecommendById",getOrderPage:"/admin/order/page",getSearchOrder:"/admin/order",getAfterSales:"/admin/order/getByRunningNumber",getUserList:"/admin/user/page",EnableShutdown:""};function k(e,t){return x.apply(this,arguments)}function x(){return(x=Object(g.a)(p.a.mark(function e(t,a){var r,n,i,c=arguments;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=c.length>2&&void 0!==c[2]?c[2]:{method:"GET"}).originUrl=t,t=C+t,a=a||{},n=Object(E.a)({},r,{data:a}),i=JSON.parse(window.localStorage.getItem("user_cloud"))||{},n.headers=n.headers||{},i&&(n.headers.Authorization=localStorage.getItem("user_cloud")?"Bearer "+i.accessToken:"Basic cGlnOnBpZw=="),"POST"===n.method||"PUT"===n.method||"DELETE"===n.method?n.data instanceof FormData?n.headers=Object(E.a)({Accept:"application/json"},n.headers):(n.headers=Object(E.a)({Accept:"application/json","Content-Type":"application/json; charset=utf-8"},n.headers),console.log("TCL:   newOptions.data",n.data),n.data=JSON.stringify(n.data)):"GET"===n.method&&(n.params=n.data,n.headers=Object(E.a)({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},n.headers)),n.url=n.url||t,e.abrupt("return",w()(n).then(function(e){return"code"in e.data?(1e3===e.data.code?(window.location.href=Object(S.a)("/user/login"),localStorage.removeItem("user_cloud")):0!==e.data.code&&"0"!==e.data.code?O.a.error({message:"\u8bf7\u6c42\u9519\u8bef ".concat(e.status,": ").concat(e.url),description:e.data.msg}):e.data.ts&&(window.timeDiff=(new Date).getTime()-1e3*e.data.ts),Object(E.a)({},e.data,{loading:!1})):{code:200,msg:"",data:e,ts:(new Date).getTime(),loading:!1}},function(e){var t=e.response;return t&&t.data&&("-800"===t.data.code?(window.location.href=Object(S.a)("/user/login"),localStorage.removeItem("user_cloud")):"1"!==t.data.code?O.a.error({message:"\u8bf7\u6c42\u9519\u8bef ".concat(t.status,": ").concat(t.url),description:t.data.msg}):200!==t.data.code&&O.a.error({message:"\u8bf7\u6c42\u9519\u8bef ".concat(t.status,": ").concat(t.url),description:t.data.msg})),t}).catch(function(e){console.log("e :",e)}));case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var T,D,I,z,M,N,L,R,V,U,B,F,_,A,Y,q,H,K,G,J,Q,W,Z,$,X,ee,te,ae,re,ne,ie,ce,oe,se,le,ue,me,de,pe,ge,be,fe,he,ye,ve,Ee,Oe,je,we,Se,Ce,Pe,ke,xe,Te,De,Ie,ze,Me,Ne,Le,Re,Ve,Ue,Be,Fe,_e,Ae,Ye,qe,He,Ke,Ge,Je,Qe,We,Ze,$e,Xe,et,tt,at,rt,nt,it,ct,ot,st,lt,ut,mt,dt,pt,gt,bt,ft,ht,yt,vt,Et,Ot,jt,wt,St,Ct,Pt,kt,xt,Tt,Dt,It,zt,Mt,Nt=a(459),Lt=(r=function(){function e(){Object(f.a)(this,e),Object(b.a)(this,"userInfo",n,this),Object(b.a)(this,"editInfo",i,this),Object(b.a)(this,"forgetPassInfo",c,this),Object(b.a)(this,"codeBack",o,this)}return Object(h.a)(e,[{key:"login",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n,i,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,Nt(a.password),e.next=4,k(P.login+"?randomStr="+a.randomStr+"&grant_type=password&scope=server&type=2&username="+a.username+"&password="+a.password+"&code="+a.code,a,{method:"POST"});case 4:n=e.sent,console.log("TCL: User -> login -> res",n),"0"!==n.code&&0!==n.code||(i=n.data,c=i,this.userInfo=i,localStorage.setItem("user_cloud",JSON.stringify(c))),r&&r(n);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.logout,a,{method:"DELETE"});case 3:200===(n=e.sent).code&&localStorage.removeItem("user_cloud"),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editPass",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n,i,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.editPass,a,{method:"POST"});case 3:200===(n=e.sent).data&&(i=n.data,c=i,this.editInfo=c),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"forgetPass",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.forgetPass,a,{method:"POST"});case 3:200===(n=e.sent).data&&(this.forgetPassInfo=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sendPhoneCode",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.sendCode,a,{method:"POST"});case 3:200===(n=e.sent).code&&(this.codeBack=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),n=Object(y.a)(r.prototype,"userInfo",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{access_token:"",dept_id:0,expires_in:0,license:"",refresh_token:"",scope:"",token_type:"",user_id:0,username:""}}}),i=Object(y.a)(r.prototype,"editInfo",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=Object(y.a)(r.prototype,"forgetPassInfo",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=Object(y.a)(r.prototype,"codeBack",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{code:0}}}),Object(y.a)(r.prototype,"login",[v.d],Object.getOwnPropertyDescriptor(r.prototype,"login"),r.prototype),Object(y.a)(r.prototype,"logout",[v.d],Object.getOwnPropertyDescriptor(r.prototype,"logout"),r.prototype),Object(y.a)(r.prototype,"editPass",[v.d],Object.getOwnPropertyDescriptor(r.prototype,"editPass"),r.prototype),Object(y.a)(r.prototype,"forgetPass",[v.d],Object.getOwnPropertyDescriptor(r.prototype,"forgetPass"),r.prototype),Object(y.a)(r.prototype,"sendPhoneCode",[v.d],Object.getOwnPropertyDescriptor(r.prototype,"sendPhoneCode"),r.prototype),r),Rt=a(446),Vt=(T=function(){function e(){Object(f.a)(this,e),Object(b.a)(this,"videoStyle",D,this),Object(b.a)(this,"products",I,this),Object(b.a)(this,"relationPage",z,this),Object(b.a)(this,"menuInfo",M,this),Object(b.a)(this,"cityList",N,this),Object(b.a)(this,"pictureCity",L,this),Object(b.a)(this,"policy",R,this)}return Object(h.a)(e,[{key:"getRelationPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseRelation,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.relationPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getMenuData",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.getMenuInfo,a,{method:"GET"});case 3:0===(n=e.sent).code?this.menuInfo.data=n.data:0!==n.code&&(window.location.href=Object(Rt.a)("/user/login"),localStorage.removeItem("user_cloud")),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCityList",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.getCityList,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.cityList=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getPictureCity",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.getPictureCity,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.pictureCity=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getPolicy",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.getPolicy,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.policy=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getVideoStyle",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n,i,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,n=a&&a.url.split("/video/admin")[1].split(".")[1],i=a&&a.url.replace(n,"jpg").replace("admin","cover"),e.next=5,k(i,{"x-oss-process":"image/info"},{method:"GET",url:i});case 5:200===(c=e.sent).code&&(this.videoStyle.data=c.data.data),r&&r(c);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditProducts",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.EditProducts,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.products=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),D=Object(y.a)(T.prototype,"videoStyle",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:{FileSize:{value:""},Format:{value:""},ImageHeight:{value:""},ImageWidth:{value:""},ResolutionUnit:{value:""},XResolution:{value:""},YResolution:{value:""}}}}}),I=Object(y.a)(T.prototype,"products",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),z=Object(y.a)(T.prototype,"relationPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),M=Object(y.a)(T.prototype,"menuInfo",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{code:-1,data:[{authority:"",children:[],code:"",component:null,icon:"",id:"",keepAlive:"",label:"",name:"",parentId:"",path:null,redirect:null,sort:null,spread:!1,type:null}],msg:""}}}),N=Object(y.a)(T.prototype,"cityList",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{name:"",id:""}]}}),L=Object(y.a)(T.prototype,"pictureCity",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{name:"",id:""}]}}),R=Object(y.a)(T.prototype,"policy",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{accessKeyId:"",policy:"",signature:"",dir:"",host:"",callback:""}}}),Object(y.a)(T.prototype,"getRelationPage",[v.d],Object.getOwnPropertyDescriptor(T.prototype,"getRelationPage"),T.prototype),Object(y.a)(T.prototype,"getMenuData",[v.d],Object.getOwnPropertyDescriptor(T.prototype,"getMenuData"),T.prototype),Object(y.a)(T.prototype,"getCityList",[v.d],Object.getOwnPropertyDescriptor(T.prototype,"getCityList"),T.prototype),Object(y.a)(T.prototype,"getPictureCity",[v.d],Object.getOwnPropertyDescriptor(T.prototype,"getPictureCity"),T.prototype),Object(y.a)(T.prototype,"getPolicy",[v.d],Object.getOwnPropertyDescriptor(T.prototype,"getPolicy"),T.prototype),Object(y.a)(T.prototype,"getVideoStyle",[v.d],Object.getOwnPropertyDescriptor(T.prototype,"getVideoStyle"),T.prototype),Object(y.a)(T.prototype,"EditProducts",[v.d],Object.getOwnPropertyDescriptor(T.prototype,"EditProducts"),T.prototype),T),Ut=(V=function(){function e(){Object(f.a)(this,e),Object(b.a)(this,"scenicPage",U,this),Object(b.a)(this,"hotelPage",B,this),Object(b.a)(this,"restaurantPage",F,this),Object(b.a)(this,"tripModePage",_,this),Object(b.a)(this,"picturePage",A,this),Object(b.a)(this,"videoPage",Y,this),Object(b.a)(this,"basicProductsPage",q,this),Object(b.a)(this,"scenicCreate",H,this),Object(b.a)(this,"basicProductsCreate",K,this),Object(b.a)(this,"hotelCreate",G,this),Object(b.a)(this,"restaurantCreate",J,this),Object(b.a)(this,"tripModeCreate",Q,this),Object(b.a)(this,"pictureCreate",W,this),Object(b.a)(this,"videoCreate",Z,this),Object(b.a)(this,"hotelDelete",$,this),Object(b.a)(this,"restaurantDelete",X,this),Object(b.a)(this,"scenicDelete",ee,this),Object(b.a)(this,"tripModeDelete",te,this),Object(b.a)(this,"pictureDelete",ae,this),Object(b.a)(this,"videoDelete",re,this),Object(b.a)(this,"basicProductsDelete",ne,this),Object(b.a)(this,"scenicCreateSingle",ie,this),Object(b.a)(this,"hotelSingle",ce,this),Object(b.a)(this,"restaurantSingle",oe,this),Object(b.a)(this,"tripModeSingle",se,this),Object(b.a)(this,"pictureSingle",le,this),Object(b.a)(this,"videoSingle",ue,this),Object(b.a)(this,"productSingle",me,this)}return Object(h.a)(e,[{key:"getScenicSpot",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.getScenicSpotPage,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.scenicPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getHotelPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseHotelUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.hotelPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getRestaurantPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseRestaurantUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.restaurantPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getTripModePage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseTripModeUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.tripModePage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getPicturePage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.basePictureUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.picturePage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getVideoPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseVideoUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.videoPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getBasicProductsPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseBasicProductsUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.basicProductsPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"CreateScenicSpot",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.CreateScenicSpot,a,{method:"POST"});case 3:0===(n=e.sent).code&&(this.scenicCreate=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"CreateHotel",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.HotelUrl,a,{method:"POST"});case 3:0===(n=e.sent).code&&(this.hotelCreate=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"CreateRestaurant",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.RestaurantUrl,a,{method:"POST"});case 3:0===(n=e.sent).code&&(this.restaurantCreate=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"CreateTripMode",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.TripModeUrl,a,{method:"POST"});case 3:0===(n=e.sent).code&&(this.tripModeCreate=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"CreatePicture",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.PictureUrl,a,{method:"POST"});case 3:0===(n=e.sent).code&&(this.pictureCreate=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"CreateVideo",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.VideoUrl,a,{method:"POST"});case 3:0===(n=e.sent).code&&(this.videoCreate=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"CreateBasicProducts",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.BasicProductsUrl,a,{method:"POST"});case 3:0===(n=e.sent).code&&(this.basicProductsCreate=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditScenicSpot",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.CreateScenicSpot,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.scenicPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditHotel",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.HotelUrl,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.hotelPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditRestaurant",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.RestaurantUrl,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.restaurantPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditTripMode",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.TripModeUrl,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.tripModePage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditPicture",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.PictureUrl,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.picturePage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditVideo",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.VideoUrl,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.videoPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditBasicProducts",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.BasicProductsUrl,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.basicProductsPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getScenicSpotSingle",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.getScenicSpotSingle,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.scenicCreateSingle=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getHotelSingle",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.HotelUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.hotelSingle=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getRestaurantSingle",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.RestaurantUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.restaurantSingle=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getTripModeSingle",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.TripModeUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.tripModeSingle=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getPictureSingle",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.PictureUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.pictureSingle=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getVideoSingle",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.VideoUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.videoSingle=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getProductSingle",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.BasicProductsUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.productSingle=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"DeleteScenic",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.DeleteScenic+"?id="+a.id,a,{method:"DELETE"});case 3:0===(n=e.sent).code&&(this.scenicDelete=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"DeleteHotel",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.HotelUrl+"?id="+a.id,a,{method:"DELETE"});case 3:0===(n=e.sent).code&&(this.hotelDelete=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"DeleteRestaurant",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.RestaurantUrl+"?id="+a.id,a,{method:"DELETE"});case 3:0===(n=e.sent).code&&(this.restaurantDelete=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"DeleteTripMode",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.TripModeUrl+"?id="+a.id,a,{method:"DELETE"});case 3:0===(n=e.sent).code&&(this.tripModeDelete=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"DeletePicture",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.PictureUrl+"?id="+a.id,a,{method:"DELETE"});case 3:0===(n=e.sent).code&&(this.pictureDelete=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"DeleteVideo",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.VideoUrl+"?id="+a.id,a,{method:"DELETE"});case 3:0===(n=e.sent).code&&(this.videoDelete=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"DeleteBasicProducts",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.BasicProductsUrl+"?id="+a.id,a,{method:"DELETE"});case 3:0===(n=e.sent).code&&(this.basicProductsDelete=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),U=Object(y.a)(V.prototype,"scenicPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),B=Object(y.a)(V.prototype,"hotelPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),F=Object(y.a)(V.prototype,"restaurantPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),_=Object(y.a)(V.prototype,"tripModePage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),A=Object(y.a)(V.prototype,"picturePage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),Y=Object(y.a)(V.prototype,"videoPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),q=Object(y.a)(V.prototype,"basicProductsPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),H=Object(y.a)(V.prototype,"scenicCreate",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),K=Object(y.a)(V.prototype,"basicProductsCreate",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),G=Object(y.a)(V.prototype,"hotelCreate",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),J=Object(y.a)(V.prototype,"restaurantCreate",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Q=Object(y.a)(V.prototype,"tripModeCreate",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),W=Object(y.a)(V.prototype,"pictureCreate",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Z=Object(y.a)(V.prototype,"videoCreate",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$=Object(y.a)(V.prototype,"hotelDelete",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),X=Object(y.a)(V.prototype,"restaurantDelete",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ee=Object(y.a)(V.prototype,"scenicDelete",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),te=Object(y.a)(V.prototype,"tripModeDelete",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ae=Object(y.a)(V.prototype,"pictureDelete",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),re=Object(y.a)(V.prototype,"videoDelete",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ne=Object(y.a)(V.prototype,"basicProductsDelete",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ie=Object(y.a)(V.prototype,"scenicCreateSingle",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:"",name:"",city:"",introduce:"",createTime:"",userId:"",convenient:""}}}),ce=Object(y.a)(V.prototype,"hotelSingle",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:"",name:"",city:"",introduce:"",createTime:"",address:"",telephone:"",traffic:"",userId:"",star:""}}}),oe=Object(y.a)(V.prototype,"restaurantSingle",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:"",name:"",city:"",introduce:"",createTime:"",address:"",telephone:"",traffic:"",userId:"",star:""}}}),se=Object(y.a)(V.prototype,"tripModeSingle",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:"",tirpMode:"",subordinate:"",start:"",end:"",number:"",startHour:"",startMin:"",createTime:"",transfer:"",userId:""}}}),le=Object(y.a)(V.prototype,"pictureSingle",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:"",type:"",city:"",itemId:"",url:"",wide:"",high:"",createTime:"",userId:"",urls:""}}}),ue=Object(y.a)(V.prototype,"videoSingle",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:"",name:"",city:"",url:"",wide:"",high:"",duration:"",createTime:"",userId:""}}}),me=Object(y.a)(V.prototype,"productSingle",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:"",name:"",copywriting:"",days:"",createTime:"",brightSpot:"",pdfUrl:"",userId:"",state:0,type:0,baseProductDaysList:[]}}}),Object(y.a)(V.prototype,"getScenicSpot",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"getScenicSpot"),V.prototype),Object(y.a)(V.prototype,"getHotelPage",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"getHotelPage"),V.prototype),Object(y.a)(V.prototype,"getRestaurantPage",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"getRestaurantPage"),V.prototype),Object(y.a)(V.prototype,"getTripModePage",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"getTripModePage"),V.prototype),Object(y.a)(V.prototype,"getPicturePage",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"getPicturePage"),V.prototype),Object(y.a)(V.prototype,"getVideoPage",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"getVideoPage"),V.prototype),Object(y.a)(V.prototype,"getBasicProductsPage",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"getBasicProductsPage"),V.prototype),Object(y.a)(V.prototype,"CreateScenicSpot",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"CreateScenicSpot"),V.prototype),Object(y.a)(V.prototype,"CreateHotel",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"CreateHotel"),V.prototype),Object(y.a)(V.prototype,"CreateRestaurant",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"CreateRestaurant"),V.prototype),Object(y.a)(V.prototype,"CreateTripMode",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"CreateTripMode"),V.prototype),Object(y.a)(V.prototype,"CreatePicture",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"CreatePicture"),V.prototype),Object(y.a)(V.prototype,"CreateVideo",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"CreateVideo"),V.prototype),Object(y.a)(V.prototype,"CreateBasicProducts",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"CreateBasicProducts"),V.prototype),Object(y.a)(V.prototype,"EditScenicSpot",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"EditScenicSpot"),V.prototype),Object(y.a)(V.prototype,"EditHotel",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"EditHotel"),V.prototype),Object(y.a)(V.prototype,"EditRestaurant",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"EditRestaurant"),V.prototype),Object(y.a)(V.prototype,"EditTripMode",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"EditTripMode"),V.prototype),Object(y.a)(V.prototype,"EditPicture",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"EditPicture"),V.prototype),Object(y.a)(V.prototype,"EditVideo",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"EditVideo"),V.prototype),Object(y.a)(V.prototype,"EditBasicProducts",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"EditBasicProducts"),V.prototype),Object(y.a)(V.prototype,"getScenicSpotSingle",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"getScenicSpotSingle"),V.prototype),Object(y.a)(V.prototype,"getHotelSingle",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"getHotelSingle"),V.prototype),Object(y.a)(V.prototype,"getRestaurantSingle",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"getRestaurantSingle"),V.prototype),Object(y.a)(V.prototype,"getTripModeSingle",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"getTripModeSingle"),V.prototype),Object(y.a)(V.prototype,"getPictureSingle",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"getPictureSingle"),V.prototype),Object(y.a)(V.prototype,"getVideoSingle",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"getVideoSingle"),V.prototype),Object(y.a)(V.prototype,"getProductSingle",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"getProductSingle"),V.prototype),Object(y.a)(V.prototype,"DeleteScenic",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"DeleteScenic"),V.prototype),Object(y.a)(V.prototype,"DeleteHotel",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"DeleteHotel"),V.prototype),Object(y.a)(V.prototype,"DeleteRestaurant",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"DeleteRestaurant"),V.prototype),Object(y.a)(V.prototype,"DeleteTripMode",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"DeleteTripMode"),V.prototype),Object(y.a)(V.prototype,"DeletePicture",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"DeletePicture"),V.prototype),Object(y.a)(V.prototype,"DeleteVideo",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"DeleteVideo"),V.prototype),Object(y.a)(V.prototype,"DeleteBasicProducts",[v.d],Object.getOwnPropertyDescriptor(V.prototype,"DeleteBasicProducts"),V.prototype),V),Bt=(de=function(){function e(){Object(f.a)(this,e),Object(b.a)(this,"previlePage",pe,this)}return Object(h.a)(e,[{key:"getPrevilePage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseRoleUrl,a,{method:"GET"});case 3:n=e.sent,console.log("TCL: System -> getPrevilePage -> res",n),0===n.code&&(this.previlePage=n.data),r&&r(n);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),pe=Object(y.a)(de.prototype,"previlePage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),Object(y.a)(de.prototype,"getPrevilePage",[v.d],Object.getOwnPropertyDescriptor(de.prototype,"getPrevilePage"),de.prototype),de),Ft=a(22),_t=a.n(Ft),At=(ge=function(){function e(){Object(f.a)(this,e),Object(b.a)(this,"tourismPage",be,this),Object(b.a)(this,"ownPicturePage",fe,this),Object(b.a)(this,"calendarPrice",he,this),Object(b.a)(this,"tourismCreate",ye,this),Object(b.a)(this,"tourismDelete",ve,this),Object(b.a)(this,"imageDelete",Ee,this),Object(b.a)(this,"recommend",Oe,this),Object(b.a)(this,"upDown",je,this),Object(b.a)(this,"tourismSingle",we,this),Object(b.a)(this,"EditPrice",Se,this),Object(b.a)(this,"ClearPrice",Ce,this),Object(b.a)(this,"EditStartTime",Pe,this),Object(b.a)(this,"EditEndTime",ke,this)}return Object(h.a)(e,[{key:"getTourismPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseTouris,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.tourismPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getOwnPictures",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseOwnPicture,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.ownPicturePage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCalendarPrice",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseCalendarPrice,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.calendarPrice=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"CreateTourism",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseTourisUrl,a,{method:"POST"});case 3:0===(n=e.sent).code&&(this.tourismCreate=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditRecommend",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.EditTourRecommoned,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.recommend=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditUpDown",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseUp,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.upDown=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditTourism",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseTourisUrl,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.tourismPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"DeleteTourism",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseTourisUrl+"?id="+a.id,a,{method:"DELETE"});case 3:0===(n=e.sent).code&&(this.tourismDelete=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"DeleteImage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.deleteImg+"?id="+a.id,a,{method:"DELETE"});case 3:0===(n=e.sent).code&&(this.imageDelete=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getTourismSingle",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n,i=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseTourisUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&("1"===n.data.type?this.tourismSingle.bmTourProductDaysList=[n.data.bmTourProductDaysList[0]]:"2"===n.data.type&&1===n.data.period?[0,1,2,3,4,5,6].forEach(function(e){var t=n.data.bmTourProductDaysList.find(function(t){return _t()(t.data).day()==e});t&&i.tourismSingle.bmTourProductDaysList.push(t)}):"2"===n.data.type&&2===n.data.period?[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31].forEach(function(e){var t=n.data.bmTourProductDaysList.find(function(t){return _t()(t.data).get("D")==e});t&&i.tourismSingle.bmTourProductDaysList.push(t)}):"3"===n.data.type&&(this.tourismSingle.bmTourProductDaysList=n.data.bmTourProductDaysList.filter(function(e){return _t()(e.data).get("D")<=31||_t()(e.data).get("D")>=1})),this.tourismSingle=Object(E.a)({},n.data,{bmTourProductDaysList:this.tourismSingle.bmTourProductDaysList})),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),be=Object(y.a)(ge.prototype,"tourismPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),fe=Object(y.a)(ge.prototype,"ownPicturePage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),he=Object(y.a)(ge.prototype,"calendarPrice",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),ye=Object(y.a)(ge.prototype,"tourismCreate",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ve=Object(y.a)(ge.prototype,"tourismDelete",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ee=Object(y.a)(ge.prototype,"imageDelete",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Oe=Object(y.a)(ge.prototype,"recommend",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),je=Object(y.a)(ge.prototype,"upDown",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),we=Object(y.a)(ge.prototype,"tourismSingle",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:"",title:"",baseProductId:"",type:"",holiday:0,weekend:0,state:0,period:0,startTime:"",endTime:"",createTime:"",coverUrl:"",tagId:"",userId:"",recommend:0,bmMaterialList:[],bmTourProductDaysList:[],howDays:0}}}),Object(y.a)(ge.prototype,"getTourismPage",[v.d],Object.getOwnPropertyDescriptor(ge.prototype,"getTourismPage"),ge.prototype),Object(y.a)(ge.prototype,"getOwnPictures",[v.d],Object.getOwnPropertyDescriptor(ge.prototype,"getOwnPictures"),ge.prototype),Object(y.a)(ge.prototype,"getCalendarPrice",[v.d],Object.getOwnPropertyDescriptor(ge.prototype,"getCalendarPrice"),ge.prototype),Object(y.a)(ge.prototype,"CreateTourism",[v.d],Object.getOwnPropertyDescriptor(ge.prototype,"CreateTourism"),ge.prototype),Object(y.a)(ge.prototype,"EditRecommend",[v.d],Object.getOwnPropertyDescriptor(ge.prototype,"EditRecommend"),ge.prototype),Object(y.a)(ge.prototype,"EditUpDown",[v.d],Object.getOwnPropertyDescriptor(ge.prototype,"EditUpDown"),ge.prototype),Object(y.a)(ge.prototype,"EditTourism",[v.d],Object.getOwnPropertyDescriptor(ge.prototype,"EditTourism"),ge.prototype),Object(y.a)(ge.prototype,"DeleteTourism",[v.d],Object.getOwnPropertyDescriptor(ge.prototype,"DeleteTourism"),ge.prototype),Object(y.a)(ge.prototype,"DeleteImage",[v.d],Object.getOwnPropertyDescriptor(ge.prototype,"DeleteImage"),ge.prototype),Object(y.a)(ge.prototype,"getTourismSingle",[v.d],Object.getOwnPropertyDescriptor(ge.prototype,"getTourismSingle"),ge.prototype),Se=Object(y.a)(ge.prototype,"EditPrice",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a){var r,n=a.type,i=a.period,c=_t()(t.data.valueOf()).day(),o=_t()(t.data.valueOf()).get("D");"1"===n?r=e.tourismSingle.bmTourProductDaysList[0]:"2"===n&&1===i?r=e.tourismSingle.bmTourProductDaysList.find(function(e){return _t()(e.data).day()===c}):"2"===n&&2===i?r=e.tourismSingle.bmTourProductDaysList.find(function(e){return _t()(e.data).get("D")===o}):"3"===n&&(r=e.tourismSingle.bmTourProductDaysList.find(function(e){return t.data===e.data})),r?(r.price=t.price,r.childrenPrice=t.childrenPrice,r.babyPrice=t.babyPrice,console.log("\u7f16\u8f91start")):(console.log("\u6dfb\u52a0start"),e.tourismSingle.bmTourProductDaysList.push(t),console.log("\u6dfb\u52a0end"))}}}),Ce=Object(y.a)(ge.prototype,"ClearPrice",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.tourismSingle.bmTourProductDaysList=[]}}}),Pe=Object(y.a)(ge.prototype,"EditStartTime",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e){console.log("TCL: @actionEditStartTime -> value",e)}}}),ke=Object(y.a)(ge.prototype,"EditEndTime",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e){console.log("TCL: @actionEditEndTime -> value",e)}}}),ge),Yt=(xe=function(){function e(){Object(f.a)(this,e),Object(b.a)(this,"tagPage",Te,this),Object(b.a)(this,"tagDelete",De,this),Object(b.a)(this,"createTag",Ie,this),Object(b.a)(this,"stateTag",ze,this),Object(b.a)(this,"tagSingle",Me,this)}return Object(h.a)(e,[{key:"getTagPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseTag,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.tagPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"DeleteTag",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseTagUrl+"?id="+a.id,a,{method:"DELETE"});case 3:0===(n=e.sent).code&&(this.tagPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"CreateTag",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseTagUrl,a,{method:"POST"});case 3:0===(n=e.sent).code&&(this.createTag=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},{key:"EditTag",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseTagUrl,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.createTag=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getTagSingle",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseTagUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.tagSingle=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditState",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.editTag,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.stateTag=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Te=Object(y.a)(xe.prototype,"tagPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),De=Object(y.a)(xe.prototype,"tagDelete",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ie=Object(y.a)(xe.prototype,"createTag",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ze=Object(y.a)(xe.prototype,"stateTag",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Me=Object(y.a)(xe.prototype,"tagSingle",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:"",title:"",subtitle:"",state:2,startTime:"",endTime:"",sort:0}}}),Object(y.a)(xe.prototype,"getTagPage",[v.d],Object.getOwnPropertyDescriptor(xe.prototype,"getTagPage"),xe.prototype),Object(y.a)(xe.prototype,"DeleteTag",[v.d],Object.getOwnPropertyDescriptor(xe.prototype,"DeleteTag"),xe.prototype),Object(y.a)(xe.prototype,"CreateTag",[v.d],Object.getOwnPropertyDescriptor(xe.prototype,"CreateTag"),xe.prototype),Object(y.a)(xe.prototype,"EditTag",[v.d],Object.getOwnPropertyDescriptor(xe.prototype,"EditTag"),xe.prototype),Object(y.a)(xe.prototype,"getTagSingle",[v.d],Object.getOwnPropertyDescriptor(xe.prototype,"getTagSingle"),xe.prototype),Object(y.a)(xe.prototype,"EditState",[v.d],Object.getOwnPropertyDescriptor(xe.prototype,"EditState"),xe.prototype),xe),qt=(Ne=function(){function e(){Object(f.a)(this,e),Object(b.a)(this,"selectInfo",Le,this),Object(b.a)(this,"cityRecommend",Re,this),Object(b.a)(this,"cityState",Ve,this),Object(b.a)(this,"videoStraegyPage",Ue,this),Object(b.a)(this,"cityStraegyPage",Be,this),Object(b.a)(this,"pictureStraegyPage",Fe,this),Object(b.a)(this,"videoStraegyPageDelete",_e,this),Object(b.a)(this,"createPictureStraegy",Ae,this),Object(b.a)(this,"upDownVideoStraegy",Ye,this),Object(b.a)(this,"upDownImageStraegy",qe,this),Object(b.a)(this,"createVideoStraegy",He,this),Object(b.a)(this,"createCityStraegy",Ke,this),Object(b.a)(this,"pictureSingle",Ge,this),Object(b.a)(this,"videoSingle",Je,this),Object(b.a)(this,"citySingle",Qe,this),Object(b.a)(this,"AddSelectInfo",We,this),Object(b.a)(this,"DeleteSelectInfo",Ze,this),Object(b.a)(this,"getSelectInfo",$e,this)}return Object(h.a)(e,[{key:"getPictureStrategyPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.basePictuerStrategy,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.pictureStraegyPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getVideoStrategyPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseVideoStrategy,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.videoStraegyPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCityStrategyPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseCityStraegyPage,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.cityStraegyPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"DeletePictureStrategyPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.PictuerStrategyUrl+"?id="+a.id,a,{method:"DELETE"});case 3:0===(n=e.sent).code&&(this.pictureStraegyPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"DeleteVideoStrategyPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.VideoStrategyUrl+"?id="+a.id,a,{method:"DELETE"});case 3:0===(n=e.sent).code&&(this.videoStraegyPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"CreatePictureStraegy",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.PictuerStrategyUrl,a,{method:"POST"});case 3:0===(n=e.sent).code&&(this.createPictureStraegy=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},{key:"EditPictureStraegy",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.PictuerStrategyUrl,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.createPictureStraegy=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"CreateVideoStraegy",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.VideoStrategyUrl,a,{method:"POST"});case 3:0===(n=e.sent).code&&(this.createVideoStraegy=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},{key:"AddCityStraegy",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,console.log("TCL: CreateCityStraegy -> urlMaps.CityStraegyUrl",P.CityStraegyUrl),e.next=4,k(P.CityStraegyUrl,a,{method:"POST"});case 4:n=e.sent,console.log("TCL: CreateCityStraegy -> res",n),0===n.code&&(this.createCityStraegy=n.data),r&&r(n);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditCityStraegy",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.CityStraegyUrl,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.createVideoStraegy=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditVideoStraegy",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.VideoStrategyUrl,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.createVideoStraegy=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"SetRecommend",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.CityRecommend,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.cityRecommend=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"SetCityState",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.CityState,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.cityState=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditVideoUpOrDown",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.videoUp,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.upDownVideoStraegy=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditImageUpOrDown",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.imageUp,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.upDownImageStraegy=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getPictureSingle",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.PictuerStrategyUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.pictureSingle=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getVideoSingle",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.VideoStrategyUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.videoSingle=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCitySingle",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.CityStraegyUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.citySingle=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Le=Object(y.a)(Ne.prototype,"selectInfo",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{selectedRow:[]}}}),Re=Object(y.a)(Ne.prototype,"cityRecommend",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ve=Object(y.a)(Ne.prototype,"cityState",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ue=Object(y.a)(Ne.prototype,"videoStraegyPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),Be=Object(y.a)(Ne.prototype,"cityStraegyPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),Fe=Object(y.a)(Ne.prototype,"pictureStraegyPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),_e=Object(y.a)(Ne.prototype,"videoStraegyPageDelete",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ae=Object(y.a)(Ne.prototype,"createPictureStraegy",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ye=Object(y.a)(Ne.prototype,"upDownVideoStraegy",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),qe=Object(y.a)(Ne.prototype,"upDownImageStraegy",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),He=Object(y.a)(Ne.prototype,"createVideoStraegy",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ke=Object(y.a)(Ne.prototype,"createCityStraegy",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ge=Object(y.a)(Ne.prototype,"pictureSingle",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{bmMaterialList:[],bmTourProductDaysList:[],city:"",content:"",createTime:"",id:"",recommend:0,state:0,title:"",type:0,userId:""}}}),Je=Object(y.a)(Ne.prototype,"videoSingle",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{bmMaterialList:[],bmTourProductDaysList:[],city:"",content:"",createTime:"",id:"",recommend:0,state:0,title:"",type:0,userId:""}}}),Qe=Object(y.a)(Ne.prototype,"citySingle",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{bmMaterialList:[],bmTourProductDaysList:[],city:"",composeCount:0,createTime:"",id:"",imgUrl:"",information:"",name:"",recommend:1,state:1,strategyCityIntroduceList:[],userId:""}}}),Object(y.a)(Ne.prototype,"getPictureStrategyPage",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"getPictureStrategyPage"),Ne.prototype),Object(y.a)(Ne.prototype,"getVideoStrategyPage",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"getVideoStrategyPage"),Ne.prototype),Object(y.a)(Ne.prototype,"getCityStrategyPage",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"getCityStrategyPage"),Ne.prototype),Object(y.a)(Ne.prototype,"DeletePictureStrategyPage",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"DeletePictureStrategyPage"),Ne.prototype),Object(y.a)(Ne.prototype,"DeleteVideoStrategyPage",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"DeleteVideoStrategyPage"),Ne.prototype),Object(y.a)(Ne.prototype,"CreatePictureStraegy",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"CreatePictureStraegy"),Ne.prototype),Object(y.a)(Ne.prototype,"EditPictureStraegy",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"EditPictureStraegy"),Ne.prototype),Object(y.a)(Ne.prototype,"CreateVideoStraegy",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"CreateVideoStraegy"),Ne.prototype),Object(y.a)(Ne.prototype,"AddCityStraegy",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"AddCityStraegy"),Ne.prototype),Object(y.a)(Ne.prototype,"EditCityStraegy",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"EditCityStraegy"),Ne.prototype),Object(y.a)(Ne.prototype,"EditVideoStraegy",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"EditVideoStraegy"),Ne.prototype),Object(y.a)(Ne.prototype,"SetRecommend",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"SetRecommend"),Ne.prototype),Object(y.a)(Ne.prototype,"SetCityState",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"SetCityState"),Ne.prototype),Object(y.a)(Ne.prototype,"EditVideoUpOrDown",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"EditVideoUpOrDown"),Ne.prototype),Object(y.a)(Ne.prototype,"EditImageUpOrDown",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"EditImageUpOrDown"),Ne.prototype),Object(y.a)(Ne.prototype,"getPictureSingle",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"getPictureSingle"),Ne.prototype),Object(y.a)(Ne.prototype,"getVideoSingle",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"getVideoSingle"),Ne.prototype),Object(y.a)(Ne.prototype,"getCitySingle",[v.d],Object.getOwnPropertyDescriptor(Ne.prototype,"getCitySingle"),Ne.prototype),We=Object(y.a)(Ne.prototype,"AddSelectInfo",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.selectInfo.selectedRow=t}}}),Ze=Object(y.a)(Ne.prototype,"DeleteSelectInfo",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.selectInfo.selectedRow=e.selectInfo.selectedRow.filter(function(e){return e!==t})}}}),$e=Object(y.a)(Ne.prototype,"getSelectInfo",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.selectInfo.selectedRow=e.selectInfo.selectedRow}}}),Ne),Ht=(Xe=function(){function e(){Object(f.a)(this,e),Object(b.a)(this,"advertisementPage",et,this),Object(b.a)(this,"advertisementDelete",tt,this),Object(b.a)(this,"createAdvertisement",at,this),Object(b.a)(this,"advertisementSingle",rt,this)}return Object(h.a)(e,[{key:"getAdvertisementPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseAdvertisement,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.advertisementPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"DeleteAdvertisement",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.AdvertisementUrl+"?id="+a.id,a,{method:"DELETE"});case 3:0===(n=e.sent).code&&(this.advertisementDelete=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"CreateAdvert",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.AdvertisementUrl,a,{method:"POST"});case 3:0===(n=e.sent).code&&(this.createAdvertisement=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditAdvert",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.AdvertisementUrl,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.createAdvertisement=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getAdvertisementSingle",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.AdvertisementUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.advertisementSingle=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),et=Object(y.a)(Xe.prototype,"advertisementPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),tt=Object(y.a)(Xe.prototype,"advertisementDelete",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),at=Object(y.a)(Xe.prototype,"createAdvertisement",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),rt=Object(y.a)(Xe.prototype,"advertisementSingle",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:"",title:"",url:"",position:0,startTime:"",endTime:"",jump:0,jumpUrl:"",state:0,itemId:null,tourTagId:"",cityId:"",createTime:""}}}),Object(y.a)(Xe.prototype,"getAdvertisementPage",[v.d],Object.getOwnPropertyDescriptor(Xe.prototype,"getAdvertisementPage"),Xe.prototype),Object(y.a)(Xe.prototype,"DeleteAdvertisement",[v.d],Object.getOwnPropertyDescriptor(Xe.prototype,"DeleteAdvertisement"),Xe.prototype),Object(y.a)(Xe.prototype,"CreateAdvert",[v.d],Object.getOwnPropertyDescriptor(Xe.prototype,"CreateAdvert"),Xe.prototype),Object(y.a)(Xe.prototype,"EditAdvert",[v.d],Object.getOwnPropertyDescriptor(Xe.prototype,"EditAdvert"),Xe.prototype),Object(y.a)(Xe.prototype,"getAdvertisementSingle",[v.d],Object.getOwnPropertyDescriptor(Xe.prototype,"getAdvertisementSingle"),Xe.prototype),Xe),Kt=(nt=function(){function e(){Object(f.a)(this,e),Object(b.a)(this,"commentPage",it,this),Object(b.a)(this,"commentDelete",ct,this)}return Object(h.a)(e,[{key:"getCommentPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseComment,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.commentPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"DeleteComment",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseCommentUrl+"?id="+a.id,a,{method:"DELETE"});case 3:0===(n=e.sent).code&&(this.commentPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),it=Object(y.a)(nt.prototype,"commentPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),ct=Object(y.a)(nt.prototype,"commentDelete",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Object(y.a)(nt.prototype,"getCommentPage",[v.d],Object.getOwnPropertyDescriptor(nt.prototype,"getCommentPage"),nt.prototype),Object(y.a)(nt.prototype,"DeleteComment",[v.d],Object.getOwnPropertyDescriptor(nt.prototype,"DeleteComment"),nt.prototype),nt),Gt=(ot=function(){function e(){Object(f.a)(this,e),Object(b.a)(this,"answerPage",st,this),Object(b.a)(this,"userAnswer",lt,this),Object(b.a)(this,"userAnswerPage",ut,this),Object(b.a)(this,"userAnswerDelete",mt,this),Object(b.a)(this,"answerShelf",dt,this),Object(b.a)(this,"answerState",pt,this)}return Object(h.a)(e,[{key:"getAnswerPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseAnswer,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.answerPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getUserAnswer",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseUserAnswer,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.userAnswer=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getUserAnswerPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.userAnswer,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.userAnswerPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"DeleteUserAnswer",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseAnswerUrl+"?id="+a.id,a,{method:"DELETE"});case 3:0===(n=e.sent).code&&(this.userAnswerDelete=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EnableShutDown",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.upOrDown,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.answerShelf=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EnableState",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.editState,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.answerState=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),st=Object(y.a)(ot.prototype,"answerPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),lt=Object(y.a)(ot.prototype,"userAnswer",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),ut=Object(y.a)(ot.prototype,"userAnswerPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),mt=Object(y.a)(ot.prototype,"userAnswerDelete",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),dt=Object(y.a)(ot.prototype,"answerShelf",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),pt=Object(y.a)(ot.prototype,"answerState",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Object(y.a)(ot.prototype,"getAnswerPage",[v.d],Object.getOwnPropertyDescriptor(ot.prototype,"getAnswerPage"),ot.prototype),Object(y.a)(ot.prototype,"getUserAnswer",[v.d],Object.getOwnPropertyDescriptor(ot.prototype,"getUserAnswer"),ot.prototype),Object(y.a)(ot.prototype,"getUserAnswerPage",[v.d],Object.getOwnPropertyDescriptor(ot.prototype,"getUserAnswerPage"),ot.prototype),Object(y.a)(ot.prototype,"DeleteUserAnswer",[v.d],Object.getOwnPropertyDescriptor(ot.prototype,"DeleteUserAnswer"),ot.prototype),Object(y.a)(ot.prototype,"EnableShutDown",[v.d],Object.getOwnPropertyDescriptor(ot.prototype,"EnableShutDown"),ot.prototype),Object(y.a)(ot.prototype,"EnableState",[v.d],Object.getOwnPropertyDescriptor(ot.prototype,"EnableState"),ot.prototype),ot),Jt=(gt=function(){function e(){Object(f.a)(this,e),Object(b.a)(this,"broadcastPage",bt,this),Object(b.a)(this,"castDelete",ft,this),Object(b.a)(this,"createBroadcast",ht,this),Object(b.a)(this,"broadcastSingle",yt,this)}return Object(h.a)(e,[{key:"getBroadcastPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseBroadcast,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.broadcastPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"DeleteCast",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.BroadcastUrl+"?id="+a.id,a,{method:"DELETE"});case 3:0===(n=e.sent).code&&(this.castDelete=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"CreateBroadcast",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.BroadcastUrl,a,{method:"POST"});case 3:0===(n=e.sent).code&&(this.createBroadcast=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},{key:"EditBroadcast",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.BroadcastUrl,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.createBroadcast=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getBroadcastSingle",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.BroadcastUrl,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.broadcastSingle=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),bt=Object(y.a)(gt.prototype,"broadcastPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),ft=Object(y.a)(gt.prototype,"castDelete",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ht=Object(y.a)(gt.prototype,"createBroadcast",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),yt=Object(y.a)(gt.prototype,"broadcastSingle",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:"",title:"",url:"",position:0,startTime:"",endTime:"",jump:0,jumpUrl:"",state:0,itemId:null,tourTagId:"",cityId:"",createTime:""}}}),Object(y.a)(gt.prototype,"getBroadcastPage",[v.d],Object.getOwnPropertyDescriptor(gt.prototype,"getBroadcastPage"),gt.prototype),Object(y.a)(gt.prototype,"DeleteCast",[v.d],Object.getOwnPropertyDescriptor(gt.prototype,"DeleteCast"),gt.prototype),Object(y.a)(gt.prototype,"CreateBroadcast",[v.d],Object.getOwnPropertyDescriptor(gt.prototype,"CreateBroadcast"),gt.prototype),Object(y.a)(gt.prototype,"EditBroadcast",[v.d],Object.getOwnPropertyDescriptor(gt.prototype,"EditBroadcast"),gt.prototype),Object(y.a)(gt.prototype,"getBroadcastSingle",[v.d],Object.getOwnPropertyDescriptor(gt.prototype,"getBroadcastSingle"),gt.prototype),gt),Qt=(vt=function(){function e(){Object(f.a)(this,e),Object(b.a)(this,"travelsPage",Et,this),Object(b.a)(this,"travelsState",Ot,this),Object(b.a)(this,"travelsupOrDown",jt,this),Object(b.a)(this,"travelstravelsCommend",wt,this),Object(b.a)(this,"travelsSingle",St,this)}return Object(h.a)(e,[{key:"getTravelsPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.travelsPage,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.travelsPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getTravelsSingle",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.baseTravels,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.travelsSingle=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditTravelsState",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.travelsPass,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.travelsState=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditTravelsupOrDown",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.travelsUpOrDown,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.travelsupOrDown=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EditTravelstravelsCommend",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.travelsCommend,a,{method:"PUT"});case 3:0===(n=e.sent).code&&(this.travelstravelsCommend=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Et=Object(y.a)(vt.prototype,"travelsPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),Ot=Object(y.a)(vt.prototype,"travelsState",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),jt=Object(y.a)(vt.prototype,"travelsupOrDown",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),wt=Object(y.a)(vt.prototype,"travelstravelsCommend",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),St=Object(y.a)(vt.prototype,"travelsSingle",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:"",userId:"",createTime:"",title:"",content:"",startTime:"",state:0,cityId:"",city:0,headUrl:"",nickName:"",shelf:0,recommend:0,materialType:0,materialCount:0,composeCount:0,productCount:0,userMaterialList:[]}}}),Object(y.a)(vt.prototype,"getTravelsPage",[v.d],Object.getOwnPropertyDescriptor(vt.prototype,"getTravelsPage"),vt.prototype),vt),Wt=(Ct=function(){function e(){Object(f.a)(this,e),Object(b.a)(this,"afterSales",Pt,this),Object(b.a)(this,"orderPage",kt,this),Object(b.a)(this,"searchOrder",xt,this)}return Object(h.a)(e,[{key:"getOrderPage",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.getOrderPage,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.orderPage=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getSearchOrder",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.getSearchOrder,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.searchOrder=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getAfterSales",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.getAfterSales,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.afterSales=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Pt=Object(y.a)(Ct.prototype,"afterSales",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:"",runningNumber:"",createTime:"",reason:"",phone:""}}}),kt=Object(y.a)(Ct.prototype,"orderPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),xt=Object(y.a)(Ct.prototype,"searchOrder",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:"",runningNumber:"",type:0,goodsId:"",subClass:0,price:"",num:"",name:"",img:"",businessId:"",createTime:"",shoppingOrderId:"",userId:"",nickName:"",state:0,shoppingOrderDetails:[],shoppingParticipants:[],userContacts:[]}}}),Object(y.a)(Ct.prototype,"getOrderPage",[v.d],Object.getOwnPropertyDescriptor(Ct.prototype,"getOrderPage"),Ct.prototype),Object(y.a)(Ct.prototype,"getSearchOrder",[v.d],Object.getOwnPropertyDescriptor(Ct.prototype,"getSearchOrder"),Ct.prototype),Object(y.a)(Ct.prototype,"getAfterSales",[v.d],Object.getOwnPropertyDescriptor(Ct.prototype,"getAfterSales"),Ct.prototype),Ct),Zt=(Tt=function(){function e(){Object(f.a)(this,e),Object(b.a)(this,"userList",Dt,this),Object(b.a)(this,"status",It,this)}return Object(h.a)(e,[{key:"getUserList",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.getUserList,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.userList=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"EnableShutdown",value:function(){var e=Object(g.a)(p.a.mark(function e(t){var a,r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,r=t.callback,e.next=3,k(P.getUserList,a,{method:"GET"});case 3:0===(n=e.sent).code&&(this.status=n.data),r&&r(n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Dt=Object(y.a)(Tt.prototype,"userList",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{records:[],pages:1,searchCount:!0,size:10,total:0,current:1}}}),It=Object(y.a)(Tt.prototype,"status",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Object(y.a)(Tt.prototype,"getUserList",[v.d],Object.getOwnPropertyDescriptor(Tt.prototype,"getUserList"),Tt.prototype),Object(y.a)(Tt.prototype,"EnableShutdown",[v.d],Object.getOwnPropertyDescriptor(Tt.prototype,"EnableShutdown"),Tt.prototype),Tt),$t={user:new Lt,global:new Vt,resource:new Ut,system:new Bt,tourisms:new At,tag:new Yt,strategy:new qt,advertisement:new Ht,comment:new Kt,answer:new Gt,broadcast:new Jt,travels:new Qt,orders:new Wt,userAdmin:new Zt},Xt=a(1570),ea=a(1571),ta=a(17),aa=a(16),ra=a(18),na=a(1573),ia=a(1574),ca=a(271),oa=a.n(ca),sa=a(543),la=a(544),ua=a(2),ma=a.n(ua),da=a(1547),pa=a(25),ga=(a(683),a(1562)),ba=ga.a.Text,fa=function(e){function t(e){return Object(f.a)(this,t),Object(ta.a)(this,Object(aa.a)(t).call(this,e))}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(ba,{type:"secondary"}," 2019-2021"),l.a.createElement(ba,{type:"secondary"},"\u7248\u6743\u6240\u6709 @ 2019-2021"))}}]),t}(l.a.Component),ha=a(1541),ya=a(436),va=a(471),Ea=(a(695),Object(u.b)("user")(zt=Object(u.c)(zt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).onMenuClick=function(e){var t=e.key;"triggerError"!==t&&"logout"===t&&a.props.user.logout({data:{},callback:function(e){0===e.code&&(window.location.href="/user/login")}})},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("user_cloud")||""),t=l.a.createElement(ha.a,{className:"menu",selectedKeys:[],onClick:this.onMenuClick},l.a.createElement(ha.a.Item,{disabled:!0},l.a.createElement(pa.a,{type:"user"}),"\u4e2a\u4eba\u4e2d\u5fc3"),l.a.createElement(ha.a.Divider,null),l.a.createElement(ha.a.Item,{key:"logout"},l.a.createElement(pa.a,{type:"logout"}),"\u9000\u51fa\u767b\u5f55"));return l.a.createElement("div",{className:"header___IFkxT"},this.props.children,l.a.createElement("div",{className:"right"},e?l.a.createElement(ya.a,{overlay:t},l.a.createElement("span",{className:"account"},l.a.createElement(pa.a,{type:"smile",theme:"twoTone"}),l.a.createElement("span",{className:"name"},e.username))):l.a.createElement(va.a,{size:"small",style:{marginLeft:8}})))}}]),t}(l.a.Component))||zt)||zt),Oa=a(1548),ja=(a(709),ha.a.SubMenu),wa=da.a.Sider,Sa=Object(u.c)(Mt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).state={pathName:window.location.pathname},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){$t.global.getMenuData({data:{}})}},{key:"render",value:function(){var e=this.props.collapsed,t="/"+this.state.pathName.split("/")[1],a=$t.global.menuInfo;return l.a.createElement(wa,{trigger:null,style:{overflow:"auto",height:"100vh",position:"fixed",left:0},collapsible:!0,collapsed:e,breakpoint:"lg",className:"sider"},l.a.createElement("div",{className:"logo___QK8Sl"},l.a.createElement(pa.a,{type:"wallet",className:"logo-img"}),!e&&l.a.createElement("h1",null,"\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf")),l.a.createElement(ha.a,{mode:"inline",theme:"dark",defaultSelectedKeys:[this.state.pathName?this.state.pathName.split("/")[2]:"basescenery"],defaultOpenKeys:[this.state.pathName?t:"/resources"],inlineCollapsed:e},a.data.map(function(e){return e.children?l.a.createElement(ja,{key:e.path,title:l.a.createElement("span",null,l.a.createElement(pa.a,{type:e.icon}),l.a.createElement("span",null,e.name))},e.children.map(function(t){return l.a.createElement(ha.a.Item,{key:t.path},l.a.createElement(Oa.a,{to:e.path+"/"+t.path},l.a.createElement("span",null,t.name)))})):l.a.createElement(ha.a.Item,{key:e.path},l.a.createElement("span",null,l.a.createElement(Oa.a,{className:"nav-link___2nzKy",to:e.path},l.a.createElement(pa.a,{type:e.icon}),l.a.createElement("span",null,e.name))))})))}}]),t}(l.a.Component))||Mt,Ca=(a(711),{"screen-xs":{maxWidth:575},"screen-sm":{minWidth:576,maxWidth:767},"screen-md":{minWidth:768,maxWidth:991},"screen-lg":{minWidth:992,maxWidth:1199},"screen-xl":{minWidth:1200,maxWidth:1599},"screen-xxl":{minWidth:1600}});Object(la.enquireScreen)(function(e){e},void 0);var Pa,ka,xa,Ta,Da,Ia,za,Ma,Na,La,Ra,Va,Ua,Ba,Fa,_a,Aa,Ya,qa,Ha,Ka,Ga,Ja,Qa,Wa,Za,$a,Xa,er,tr,ar,rr,nr,ir=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).toggle=function(){a.setState({collapsed:!a.state.collapsed})},a.state={isMobile:!1,collapsed:!1},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=l.a.createElement(da.a,null,l.a.createElement(Sa,{collapsed:this.state.collapsed}),l.a.createElement(da.a,null,l.a.createElement(da.a.Header,{style:{background:"#fff",padding:0}},l.a.createElement(Ea,{user:this.props.user},!this.state.isMobile&&l.a.createElement(pa.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}))),l.a.createElement(da.a.Content,null,l.a.createElement(ea.a,null,this.props.children)),l.a.createElement(da.a.Footer,null,l.a.createElement(fa,null))));return l.a.createElement(oa.a,{title:""},l.a.createElement(sa.ContainerQuery,{query:Ca},function(t){return l.a.createElement("div",{className:ma()(t)},e)}))}}]),t}(l.a.Component),cr=a(199),or=a.n(cr),sr=(a(713),{"./UserLayout.less":{"user-layout":"user-layout___3dTnx","user-layout-container":"user-layout-container___34W3M","user-layout-content":"user-layout-content___FmFpJ","user-layout-top":"user-layout-top___sgP6q","user-layout-header":"user-layout-header___WRvRq","user-layout-logo":"user-layout-logo___NQBPw","user-layout-title":"user-layout-title___MSzCR","user-layout-desc":"user-layout-desc___1tO1M"}}),lr=function(e){function t(){return Object(f.a)(this,t),Object(ta.a)(this,Object(aa.a)(t).apply(this,arguments))}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"getPageTitle",value:function(){return""}},{key:"render",value:function(){return l.a.createElement(oa.a,{title:this.getPageTitle()},l.a.createElement("div",{className:or()("user-layout-container ",sr)},l.a.createElement("div",{className:or()("user-layout-content",sr)},l.a.createElement("div",{className:or()("user-layout-top",sr)},l.a.createElement("div",{className:or()("user-layout-header",sr)},l.a.createElement(Oa.a,{to:"/"},l.a.createElement("span",{className:or()("user-layout-title",sr)},"\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf"))),l.a.createElement("div",{className:or()("user-layout-desc",sr)})),l.a.createElement(ea.a,null,this.props.children)),l.a.createElement(fa,null)))}}]),t}(l.a.PureComponent),ur=a(1561),mr=a(801),dr=a(802),pr=a(1565),gr=a(156),br=(a(715),a(459),ur.a.Item),fr=(Pa=Object(u.b)("user"),Pa(ka=Object(u.c)((xa=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.props.user.login({data:Object(E.a)({randomStr:a.state.code,grant_type:"password",scope:"server",type:"2"},t,{password:t.password}),callback:function(e){console.log("TCL: Login -> handleSubmit -> res",e),"0"===e.code||0===e.code?a.props.history.push("/resources/basehotel"):a.changeCode()}})})},a.handleChange=function(){a.setState({status:!1})},a.changeCode=function(){a.setState({code:(new Date).getTime().toString()})},a.state={status:!0,code:(new Date).getTime().toString()},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.changeCode()},500)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return l.a.createElement(ur.a,{onSubmit:this.handleSubmit,className:"login-form"},l.a.createElement(mr.a,{gutter:{xs:8,sm:16,md:24}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(br,{label:"\u7528\u6237\u540d"},e("username",{initialValue:"",rules:[{required:!0,message:"\u7528\u6237\u540d\u683c\u5f0f\u4e0d\u6b63\u786e"}]})(l.a.createElement(pr.a,{size:"large",prefix:l.a.createElement(pa.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",readOnly:this.state.status,onFocus:this.handleChange})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(br,{label:"\u5bc6\u7801"},e("password",{initialValue:"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]})(l.a.createElement(pr.a.Password,{size:"large",prefix:l.a.createElement(pa.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",readOnly:this.state.status,onFocus:this.handleChange})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(br,{label:"\u9a8c\u8bc1\u7801"},e("code",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}]})(l.a.createElement(pr.a,{size:"large",prefix:l.a.createElement(pa.a,{type:"message",style:{color:"rgba(0,0,0,.25)"}}),type:"verification",placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(br,null,l.a.createElement("img",{src:C+P.getCode+"?randomStr="+this.state.code,style:{width:"150px",height:"60px"},title:"\u70b9\u51fb\u5237\u65b0",onClick:this.changeCode,alt:""}))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(br,null,l.a.createElement(gr.a,{size:"large",type:"primary",htmlType:"submit",className:"login-form-button"},"\u767b\u5f55")))))}}]),t}(l.a.Component),ka=xa))||ka)||ka),hr=ur.a.create()(fr),yr=a(1558),vr=a(1559),Er=a(1549),Or=a(1556),jr=a(1555),wr=a(188),Sr=a(151),Cr=a(1557),Pr=a(1560),kr=ur.a.Item,xr=(jr.a.RangePicker,wr.a.Option,Sr.a.Button,pr.a.TextArea,Sr.a.Group,Cr.a.Dragger,Pr.a.TreeNode),Tr=[{title:"0-0",key:"0-0",children:[{title:"0-0-0",key:"0-0-0",children:[{title:"0-0-0-0",key:"0-0-0-0"},{title:"0-0-0-1",key:"0-0-0-1"},{title:"0-0-0-2",key:"0-0-0-2"}]},{title:"0-0-1",key:"0-0-1",children:[{title:"0-0-1-0",key:"0-0-1-0"},{title:"0-0-1-1",key:"0-0-1-1"},{title:"0-0-1-2",key:"0-0-1-2"}]},{title:"0-0-2",key:"0-0-2"}]},{title:"0-1",key:"0-1",children:[{title:"0-1-0-0",key:"0-1-0-0"},{title:"0-1-0-1",key:"0-1-0-1"},{title:"0-1-0-2",key:"0-1-0-2"}]},{title:"0-2",key:"0-2"}],Dr=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault()},a.onExpand=function(e){console.log("onExpand",e),a.setState({expandedKeys:e,autoExpandParent:!1})},a.onCheck=function(e){console.log("onCheck",e),a.setState({checkedKeys:e})},a.onSelect=function(e,t){console.log("onSelect",t),a.setState({selectedKeys:e})},a.renderTreeNodes=function(e){return e.map(function(e){return e.children?l.a.createElement(xr,{title:e.title,key:e.key,dataRef:e},a.renderTreeNodes(e.children)):l.a.createElement(xr,Object.assign({key:e.key},e))})},a.state={status:!0,fileList:[],expandedKeys:["0-0-0","0-0-1"],autoExpandParent:!0,checkedKeys:["0-0-0"],selectedKeys:[]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.data,a={labelCol:{span:6},wrapperCol:{span:14}};window.location.protocol,document.domain,window.location.port;return l.a.createElement(yr.a,{bordered:!1,title:t?"\u7f16\u8f91\u6743\u9650":"\u6dfb\u52a0\u6743\u9650",className:"CreateMito"},l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{xs:8,sm:16,md:24}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(kr,Object.assign({label:"\u6743\u9650\u540d\u79f0"},a,{className:"form-inline-item"}),e("title",{rules:[{required:!0,whitespace:!0,message:"\u6743\u9650\u540d\u79f0"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u6743\u9650\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(kr,Object.assign({label:"\u6743\u9650\u8bbe\u7f6e"},a,{className:"form-inline-item"}),e("title",{rules:[{required:!0,whitespace:!0,message:"\u6743\u9650\u8bbe\u7f6e"}]})(l.a.createElement(Pr.a,{checkable:!0,onExpand:this.onExpand,expandedKeys:this.state.expandedKeys,autoExpandParent:this.state.autoExpandParent,onCheck:this.onCheck,checkedKeys:this.state.checkedKeys,onSelect:this.onSelect,selectedKeys:this.state.selectedKeys},this.renderTreeNodes(Tr))))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,offset:6},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))))}}]),t}(s.Component),Ir=ur.a.create()(Dr),zr=(Ta=Object(u.b)("system"),Ta(Da=Object(u.c)((Ia=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getPrivilegePage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("PrivilegePage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),1===e.current&&(e.ts=(new Date).valueOf()),e.page_size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.system.getPrevilePage({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.EnableShutdown=function(e){},a.isCreatePrivilege=function(e){a.setState({visible:e})},a.CreatePrivilege=function(e){console.log("TCL: PrivilegeManagement -> CreatePrivilege -> item",e),a.isCreatePrivilege(!0),a.setState({currItem:e})},a.PropsInfo=function(e){a.isCreatePrivilege(!1)},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||0,a.setState({pagination:n}),window.scroll(0,0)},a.state={loading:!0,visible:!1,currItem:{},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u89d2\u8272",dataIndex:"roleName"},{title:"\u72b6\u6001",dataIndex:"url"},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreatePrivilege(t)}},"\u7f16\u8f91"))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getPrivilegePage()}},{key:"render",value:function(){var e=this,t=this.props.system.previlePage;return l.a.createElement(yr.a,{title:"\u89d2\u8272\u7ba1\u7406",bordered:!1},this.state.visible&&l.a.createElement(vr.a,{visible:this.state.visible,width:900,onCancel:function(){return e.isCreatePrivilege(!1)},footer:null},l.a.createElement(Ir,{data:this.state.currItem})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(dr.a,{xl:12,md:24,sm:24,style:{marginBottom:"10px"}},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch",onClick:function(){e.CreatePrivilege()}},"\u6dfb\u52a0\u89d2\u8272")),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component),Da=Ia))||Da)||Da),Mr=ur.a.create()(zr),Nr=a(1550),Lr=ur.a.Item,Rr=(jr.a.RangePicker,wr.a.Option),Vr=(Sr.a.Button,pr.a.TextArea,Sr.a.Group,Cr.a.Dragger,function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault()},a.state={status:!0},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.data,a={labelCol:{span:6},wrapperCol:{span:14}};window.location.protocol,document.domain,window.location.port;return l.a.createElement(yr.a,{bordered:!1,title:t?"\u7f16\u8f91\u4f9b\u5e94\u5546":"\u6dfb\u52a0\u4f9b\u5e94\u5546",className:"CreateMito"},l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{xs:8,sm:16,md:24}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Lr,Object.assign({label:"\u4f9b\u5e94\u5546"},a,{className:"form-inline-item"}),e("title",{rules:[{required:!0,whitespace:!0,message:"\u4f9b\u5e94\u5546"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Lr,Object.assign({label:"\u5bc6\u7801"},a,{className:"form-inline-item"}),e("title",{rules:[{required:!0,whitespace:!0,message:"\u5bc6\u7801"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Lr,Object.assign({label:"\u8054\u7cfb\u4eba"},a,{className:"form-inline-item"}),e("title",{rules:[{required:!0,whitespace:!0,message:"\u8054\u7cfb\u4eba"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Lr,Object.assign({label:"\u7535\u8bdd"},a,{className:"form-inline-item"}),e("title",{rules:[{required:!0,whitespace:!0,message:"\u7535\u8bdd"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u7535\u8bdd"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Lr,Object.assign({label:"\u6743\u9650"},a,{className:"form-inline-item"}),e("title",{rules:[{required:!0,whitespace:!0,message:"\u6743\u9650"}]})(l.a.createElement(wr.a,{defaultValue:"lucy",style:{width:300},placeholder:"\u9009\u62e9\u6743\u9650"},l.a.createElement(Rr,{value:"jack"},"Jack"),l.a.createElement(Rr,{value:"lucy"},"Lucy"),l.a.createElement(Rr,{value:"disabled",disabled:!0},"Disabled"),l.a.createElement(Rr,{value:"Yiminghe"},"yiminghe"))))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,offset:6},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))))}}]),t}(s.Component)),Ur=ur.a.create()(Vr),Br=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getPrivilegePage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,a){if(t)console.log("PrivilegePage error");else{var r=Object(E.a)({},a);e.current||(e.current=1),1===e.current&&(e.ts=(new Date).valueOf()),e.page_size||(e.size=20),r.timeRange&&(0!==r.timeRange.length?(r.start_at=parseInt(r.timeRange[0].valueOf()),r.end_at=parseInt(r.timeRange[1].valueOf())):(r.start_at=0,r.end_at=0)),r=Object(E.a)({},r,e)}})},a.EnableShutdown=function(e){},a.isCreatePrivilege=function(e){a.setState({visible:e})},a.CreatePrivilege=function(e){console.log("TCL: SupplierManagement -> CreatePrivilege -> item",e),a.isCreatePrivilege(!0),a.setState({currItem:e})},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||0,a.setState({pagination:n}),window.scroll(0,0)},a.state={loading:!0,visible:!1,currItem:{},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u4f9b\u5e94\u5546",dataIndex:"name"},{title:"\u8054\u7cfb\u4eba",dataIndex:"url"},{title:"\u7535\u8bdd",dataIndex:"url"},{title:"\u6743\u9650",dataIndex:"url"},{title:"\u72b6\u6001",dataIndex:"url"},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u542f\u7528\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.EnableShutdown(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u542f\u7528")),l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u505c\u7528\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.EnableShutdown(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u505c\u7528")),l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreatePrivilege(t)}},"\u7f16\u8f91"))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return l.a.createElement(yr.a,{title:"\u4f9b\u5e94\u5546\u7ba1\u7406",bordered:!1},this.state.visible&&l.a.createElement(vr.a,{visible:this.state.visible,width:900,onCancel:function(){return e.isCreatePrivilege(!1)},footer:null},l.a.createElement(Ur,{data:this.state.currItem})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(dr.a,{xl:12,md:24,sm:24,style:{marginBottom:"10px"}},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch",onClick:function(){e.CreatePrivilege()}},"\u6dfb\u52a0\u4f9b\u5e94\u5546")),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:[],pagination:{showQuickJumper:!0,hideOnSinglePage:!0},onChange:this.handleTableChange}))))}}]),t}(l.a.Component),Fr=ur.a.create()(Br),_r=a(1551),Ar=a(56),Yr=a.n(Ar),qr=(a(91),a(92),ur.a.Item),Hr=(jr.a.RangePicker,wr.a.Option),Kr=(Sr.a.Button,pr.a.TextArea,Sr.a.Group,Cr.a.Dragger,za=Object(u.b)("resource"),za(Ma=Object(u.c)((Na=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(a.props.data?$t.resource.EditScenicSpot({data:Object(E.a)({id:a.props.data.id},t,{introduce:t.introduce.toHTML(),convenient:t.convenient.toHTML()}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}):$t.resource.CreateScenicSpot({data:Object(E.a)({},t,{introduce:t.introduce.toHTML(),convenient:t.convenient.toHTML()}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}))})},a.state={status:!0},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.data&&$t.resource.getScenicSpotSingle({data:{id:this.props.data.id},callback:function(t){0===t.code&&e.props.form.setFieldsValue({introduce:Yr.a.createEditorState(t.data.introduce),convenient:Yr.a.createEditorState(t.data.convenient)})}}),$t.global.getCityList({data:{}})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=$t.global.cityList;console.log("TCL: CreateScenicSpot -> render -> CityList",t);var a=void 0!==this.props.data,r={labelCol:{span:6},wrapperCol:{span:14}},n=$t.resource.scenicCreateSingle;window.location.protocol,document.domain,window.location.port;return l.a.createElement(yr.a,{bordered:!1,title:a?"\u7f16\u8f91\u666f\u70b9":"\u6dfb\u52a0\u666f\u70b9",className:"CreateMito"},l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{xs:8,sm:16,md:24}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(qr,Object.assign({label:"\u666f\u70b9\u540d\u79f0"},r,{className:"form-inline-item"}),e("name",{initialValue:a?n.name:"",rules:[{required:!0,whitespace:!0,message:"\u666f\u70b9\u540d\u79f0"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u666f\u70b9\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(qr,Object.assign({label:"\u6240\u5c5e\u57ce\u5e02"},r,{className:"form-inline-item"}),e("city",{initialValue:a?n.city:void 0,rules:[{required:!0,whitespace:!0,message:"\u6240\u5c5e\u57ce\u5e02"}]})(l.a.createElement(wr.a,{style:{width:300},placeholder:"\u9009\u62e9\u6240\u5c5e\u57ce\u5e02"},t.map(function(e,t){return l.a.createElement(Hr,{key:e.id,value:e.id},e.name)}))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(qr,Object.assign({},r,{label:"\u4fbf\u6377\u4fe1\u606f"}),e("convenient",{initialValue:a?Yr.a.createEditorState(n.convenient):Yr.a.createEditorState(null),rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4fbf\u6377\u4fe1\u606f"}]})(l.a.createElement(Yr.a,{className:"my-editor",style:{width:"750px"},excludeControls:["link","code","media","clear","blockquote"],placeholder:"\u8bf7\u8f93\u5165\u6b63\u6587\u5185\u5bb9"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(qr,Object.assign({},r,{label:"\u666f\u70b9\u4ecb\u7ecd"}),e("introduce",{initialValue:a?Yr.a.createEditorState(n.introduce):Yr.a.createEditorState(null),rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u666f\u70b9\u4ecb\u7ecd"}]})(l.a.createElement(Yr.a,{className:"my-editor",style:{width:"750px"},excludeControls:["link","code","media","clear","blockquote"],placeholder:"\u8bf7\u8f93\u5165\u6b63\u6587\u5185\u5bb9"})))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,offset:6},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))))}}]),t}(s.Component),Ma=Na))||Ma)||Ma),Gr=ur.a.create()(Kr),Jr=ur.a.Item,Qr=wr.a.Option,Wr=(La=Object(u.b)("resource","global"),La(Ra=Object(u.c)((Va=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getScenicSpot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("PrivilegePage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.page_size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.resource.getScenicSpot({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.DeleteSingle=function(e){a.props.resource.DeleteScenic({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getScenicSpot()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.EnableShutdown=function(e){},a.isCreatePrivilege=function(e){a.setState({visible:e})},a.CreatePrivilege=function(e){a.isCreatePrivilege(!0),a.setState({currItem:e})},a.PropsInfo=function(e){a.isCreatePrivilege(!1)},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getScenicSpot({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getScenicSpot(t)})},a.state={loading:!0,visible:!1,currItem:{},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u666f\u70b9",dataIndex:"name"},{title:"\u6240\u5c5e\u57ce\u5e02",dataIndex:"city"},{title:"\u4fbf\u6377\u4fe1\u606f",dataIndex:"convenient",render:function(e){return l.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})}},{title:"\u666f\u70b9\u4ecb\u7ecd",dataIndex:"introduce",render:function(e){return l.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})}},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreatePrivilege(t)}},"\u7f16\u8f91"))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getScenicSpot(),this.props.global.getCityList({data:{}})}},{key:"render",value:function(){var e=this,t=this.props.resource.scenicPage,a=this.props.form.getFieldDecorator,r=this.props.global.cityList,n={labelCol:{span:6},wrapperCol:{span:14}};return l.a.createElement(yr.a,{title:"\u666f\u70b9\u7ba1\u7406",bordered:!1,loading:this.state.loading},this.state.visible&&l.a.createElement(vr.a,{visible:this.state.visible,width:1100,onCancel:function(){return e.isCreatePrivilege(!1)},footer:null},l.a.createElement(Gr,{data:this.state.currItem,onClose:function(){e.PropsInfo(!1),e.getScenicSpot({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(Jr,Object.assign({label:"\u666f\u70b9\u540d\u79f0"},n,{className:"form-inline-item"}),a("name")(l.a.createElement(pr.a,{placeholder:"\u666f\u70b9\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(Jr,Object.assign({label:"\u641c\u7d22\u57ce\u5e02"},n,{className:"form-inline-item"}),a("city")(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u641c\u7d22\u57ce\u5e02"},r.map(function(e,t){return l.a.createElement(Qr,{key:e.id,value:e.id},e.name)}))))),l.a.createElement(dr.a,{xl:10,md:24,sm:24,offset:2,style:{marginBottom:"10px"}},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch"},"\u67e5\u8be2"))))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,style:{marginBottom:"10px"}},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch",onClick:function(){e.CreatePrivilege()}},"\u6dfb\u52a0\u666f\u70b9")),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component),Ra=Va))||Ra)||Ra),Zr=ur.a.create()(Wr),$r=ur.a.Item,Xr=(jr.a.RangePicker,wr.a.Option),en=(Sr.a.Button,pr.a.TextArea),tn=(Sr.a.Group,Cr.a.Dragger,Object(u.b)("resource")(Ua=Object(u.c)(Ua=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){console.log("TCL: handleSubmit -> values",t),e||(a.props.data?$t.resource.EditHotel({data:Object(E.a)({id:a.props.data.id},t,{introduce:t.introduce.toHTML()}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}):$t.resource.CreateHotel({data:Object(E.a)({},t,{introduce:t.introduce.toHTML()}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}))})},a.state={status:!0},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.data&&$t.resource.getHotelSingle({data:{id:this.props.data.id},callback:function(t){0===t.code&&e.props.form.setFieldsValue({introduce:Yr.a.createEditorState(t.data.introduce)})}}),$t.global.getCityList({data:{}})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=$t.global.cityList,a=void 0!==this.props.data,r={labelCol:{span:6},wrapperCol:{span:14}},n=$t.resource.hotelSingle;return l.a.createElement(yr.a,{bordered:!1,title:a?"\u7f16\u8f91\u9152\u5e97":"\u6dfb\u52a0\u9152\u5e97",className:"CreateMito"},l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{xs:8,sm:16,md:24}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement($r,Object.assign({label:"\u9152\u5e97\u540d\u79f0"},r,{className:"form-inline-item"}),e("name",{initialValue:a?n.name:"",rules:[{required:!0,whitespace:!0,message:"\u9152\u5e97\u540d\u79f0"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u9152\u5e97\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement($r,Object.assign({label:"\u6240\u5c5e\u57ce\u5e02"},r,{className:"form-inline-item"}),e("city",{initialValue:a?n.city:void 0,rules:[{required:!0,whitespace:!0,message:"\u6240\u5c5e\u57ce\u5e02"}]})(l.a.createElement(wr.a,{style:{width:300},placeholder:"\u9009\u62e9\u6240\u5c5e\u57ce\u5e02"},t.map(function(e,t){return l.a.createElement(Xr,{key:e.id,value:e.id},e.name)}))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement($r,Object.assign({label:"\u9152\u5e97\u5730\u5740"},r,{className:"form-inline-item"}),e("address",{initialValue:a?n.address:"",rules:[{required:!0,whitespace:!0,message:"\u9152\u5e97\u5730\u5740"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u9152\u5e97\u5730\u5740"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement($r,Object.assign({label:"\u9152\u5e97\u7535\u8bdd"},r,{className:"form-inline-item"}),e("telephone",{initialValue:a?n.telephone:"",rules:[{required:!0,whitespace:!0,message:"\u9152\u5e97\u7535\u8bdd"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u9152\u5e97\u7535\u8bdd"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement($r,Object.assign({label:"\u661f\u7ea7"},r,{className:"form-inline-item"}),e("star",{initialValue:a?n.star:"",rules:[{required:!0,whitespace:!0,message:"\u661f\u7ea7"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u661f\u7ea7"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement($r,Object.assign({label:"\u4ea4\u901a\u653b\u7565"},r,{className:"form-inline-item"}),e("traffic",{initialValue:a?n.traffic:"",rules:[{required:!0,whitespace:!0,message:"\u4ea4\u901a\u653b\u7565"}]})(l.a.createElement(en,{placeholder:"\u8bf7\u8f93\u5165\u4ea4\u901a\u653b\u7565",autoSize:{minRows:5}})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement($r,Object.assign({},r,{label:"\u9152\u5e97\u4ecb\u7ecd"}),e("introduce",{initialValue:a?Yr.a.createEditorState(n.introduce):Yr.a.createEditorState(null),rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9152\u5e97\u4ecb\u7ecd"}]})(l.a.createElement(Yr.a,{className:"my-editor",style:{width:"750px"},excludeControls:["link","code","media","clear","blockquote"],placeholder:"\u8bf7\u8f93\u5165\u6b63\u6587\u5185\u5bb9"})))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,offset:6},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))))}}]),t}(s.Component))||Ua)||Ua),an=ur.a.create()(tn),rn=ur.a.Item,nn=wr.a.Option,cn=Object(u.b)("resource","global")(Ba=Object(u.c)(Ba=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getHotelPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getHotelPage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.resource.getHotelPage({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.DeleteSingle=function(e){a.props.resource.DeleteHotel({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getHotelPage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.EnableShutdown=function(e){},a.isCreateHotel=function(e){a.setState({visible:e})},a.CreateHotel=function(e){a.isCreateHotel(!0),a.setState({currItem:e})},a.PropsInfo=function(e){a.isCreateHotel(!1)},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getHotelPage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getHotelPage(t)})},a.state={loading:!0,visible:!1,currItem:{},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u9152\u5e97\u540d\u79f0",dataIndex:"name"},{title:"\u6240\u5c5e\u57ce\u5e02",dataIndex:"city"},{title:"\u661f\u7ea7",dataIndex:"star"},{title:"\u9152\u5e97\u4ecb\u7ecd",dataIndex:"introduce",render:function(e){return l.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})}},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreateHotel(t)}},"\u7f16\u8f91"))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getHotelPage(),this.props.global.getCityList({data:{}})}},{key:"render",value:function(){var e=this,t=this.props.resource.hotelPage,a={labelCol:{span:6},wrapperCol:{span:14}},r=this.props.form.getFieldDecorator,n=this.props.global.cityList;return l.a.createElement(yr.a,{title:"\u9152\u5e97\u7ba1\u7406",bordered:!1,loading:this.state.loading},this.state.visible&&l.a.createElement(vr.a,{visible:this.state.visible,width:1100,onCancel:function(){return e.isCreateHotel(!1)},footer:null},l.a.createElement(an,{data:this.state.currItem,onClose:function(){e.PropsInfo(!1),e.getHotelPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(rn,Object.assign({label:"\u9152\u5e97\u540d\u79f0"},a,{className:"form-inline-item"}),r("name")(l.a.createElement(pr.a,{placeholder:"\u9152\u5e97\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(rn,Object.assign({label:"\u641c\u7d22\u57ce\u5e02"},a,{className:"form-inline-item"}),r("city")(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u641c\u7d22\u57ce\u5e02"},n.map(function(e,t){return l.a.createElement(nn,{key:e.id,value:e.id},e.name)}))))),l.a.createElement(dr.a,{xl:10,md:24,sm:24,offset:2,style:{marginBottom:"10px"}},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch"},"\u67e5\u8be2"))))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,style:{marginBottom:"10px"}},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch",onClick:function(){e.CreateHotel()}},"\u6dfb\u52a0\u9152\u5e97")),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||Ba)||Ba,on=ur.a.create()(cn),sn=ur.a.Item,ln=(jr.a.RangePicker,wr.a.Option),un=(Sr.a.Button,pr.a.TextArea),mn=(Sr.a.Group,Cr.a.Dragger,Object(u.b)("resource")(Fa=Object(u.c)(Fa=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(a.props.data?$t.resource.EditRestaurant({data:Object(E.a)({id:a.props.data.id},t,{introduce:t.introduce.toHTML()}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}):$t.resource.CreateRestaurant({data:Object(E.a)({},t,{introduce:t.introduce.toHTML()}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}))})},a.state={status:!0},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.data&&$t.resource.getRestaurantSingle({data:{id:this.props.data.id},callback:function(t){0===t.code&&e.props.form.setFieldsValue({introduce:Yr.a.createEditorState(t.data.introduce)})}}),$t.global.getCityList({data:{}})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=$t.global.cityList,a=void 0!==this.props.data,r={labelCol:{span:6},wrapperCol:{span:14}},n=$t.resource.restaurantSingle;return l.a.createElement(yr.a,{bordered:!1,title:a?"\u7f16\u8f91\u9910\u5385":"\u6dfb\u52a0\u9910\u5385",className:"CreateMito"},l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{xs:8,sm:16,md:24}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(sn,Object.assign({label:"\u9910\u5385\u540d\u79f0"},r,{className:"form-inline-item"}),e("name",{initialValue:a?n.name:"",rules:[{required:!0,whitespace:!0,message:"\u9910\u5385\u540d\u79f0"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u9910\u5385\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(sn,Object.assign({label:"\u6240\u5c5e\u57ce\u5e02"},r,{className:"form-inline-item"}),e("city",{initialValue:a?n.city:void 0,rules:[{required:!0,whitespace:!0,message:"\u6240\u5c5e\u57ce\u5e02"}]})(l.a.createElement(wr.a,{style:{width:300},placeholder:"\u9009\u62e9\u6240\u5c5e\u57ce\u5e02"},t.map(function(e,t){return l.a.createElement(ln,{key:e.id,value:e.id},e.name)}))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(sn,Object.assign({label:"\u9910\u5385\u5730\u5740"},r,{className:"form-inline-item"}),e("address",{initialValue:a?n.address:"",rules:[{required:!0,whitespace:!0,message:"\u9910\u5385\u5730\u5740"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u9910\u5385\u5730\u5740"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(sn,Object.assign({label:"\u9910\u5385\u7535\u8bdd"},r,{className:"form-inline-item"}),e("telephone",{initialValue:a?n.telephone:"",rules:[{required:!0,whitespace:!0,message:"\u9910\u5385\u7535\u8bdd"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u9910\u5385\u7535\u8bdd"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(sn,Object.assign({label:"\u4ea4\u901a\u653b\u7565"},r,{className:"form-inline-item"}),e("traffic",{initialValue:a?n.traffic:"",rules:[{required:!0,whitespace:!0,message:"\u4ea4\u901a\u653b\u7565"}]})(l.a.createElement(un,{placeholder:"\u8bf7\u8f93\u5165\u4ea4\u901a\u653b\u7565",autoSize:{minRows:5}})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(sn,Object.assign({},r,{label:"\u9910\u5385\u4ecb\u7ecd"}),e("introduce",{initialValue:a?Yr.a.createEditorState(n.introduce):Yr.a.createEditorState(null),rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9910\u5385\u4ecb\u7ecd"}]})(l.a.createElement(Yr.a,{className:"my-editor",style:{width:"750px"},excludeControls:["link","code","media","clear","blockquote"],placeholder:"\u8bf7\u8f93\u5165\u6b63\u6587\u5185\u5bb9"})))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,offset:6},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))))}}]),t}(s.Component))||Fa)||Fa),dn=ur.a.create()(mn),pn=ur.a.Item,gn=wr.a.Option,bn=Object(u.b)("resource","global")(_a=Object(u.c)(_a=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getRestaurantPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getRestaurantPage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.page_size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.resource.getRestaurantPage({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.DeleteSingle=function(e){a.props.resource.DeleteRestaurant({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getRestaurantPage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.EnableShutdown=function(e){},a.isCreateRestaurant=function(e){a.setState({visible:e})},a.CreateRestaurant=function(e){a.isCreateRestaurant(!0),a.setState({currItem:e})},a.PropsInfo=function(e){a.isCreateRestaurant(!1)},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getRestaurantPage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getRestaurantPage(t)})},a.state={loading:!0,visible:!1,currItem:{},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u9910\u5385\u540d\u79f0",dataIndex:"name"},{title:"\u6240\u5c5e\u57ce\u5e02",dataIndex:"city"},{title:"\u9910\u5385\u4ecb\u7ecd",dataIndex:"introduce",render:function(e){return l.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})}},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreateRestaurant(t)}},"\u7f16\u8f91"))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getRestaurantPage(),this.props.global.getCityList({data:{}})}},{key:"render",value:function(){var e=this,t=this.props.resource.restaurantPage,a={labelCol:{span:6},wrapperCol:{span:14}},r=this.props.form.getFieldDecorator,n=this.props.global.cityList;return l.a.createElement(yr.a,{title:"\u9910\u5385\u7ba1\u7406",bordered:!1,loading:this.state.loading},this.state.visible&&l.a.createElement(vr.a,{visible:this.state.visible,width:1100,onCancel:function(){return e.isCreateRestaurant(!1)},footer:null},l.a.createElement(dn,{data:this.state.currItem,onClose:function(){e.PropsInfo(!1),e.getRestaurantPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(pn,Object.assign({label:"\u9910\u5385\u540d\u79f0"},a,{className:"form-inline-item"}),r("name")(l.a.createElement(pr.a,{placeholder:"\u9910\u5385\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(pn,Object.assign({label:"\u641c\u7d22\u57ce\u5e02"},a,{className:"form-inline-item"}),r("city")(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u641c\u7d22\u57ce\u5e02"},n.map(function(e,t){return l.a.createElement(gn,{key:e.id,value:e.id},e.name)}))))),l.a.createElement(dr.a,{xl:10,md:24,sm:24,offset:2,style:{marginBottom:"10px"}},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch"},"\u67e5\u8be2"))))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,style:{marginBottom:"10px"}},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch",onClick:function(){e.CreateRestaurant()}},"\u6dfb\u52a0\u9910\u5385")),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||_a)||_a,fn=ur.a.create()(bn),hn=ur.a.Item,yn=(jr.a.RangePicker,wr.a.Option),vn=(Sr.a.Button,pr.a.TextArea,Sr.a.Group,Cr.a.Dragger,Object(u.b)("resource")(Aa=Object(u.c)(Aa=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(a.props.data?$t.resource.EditTripMode({data:Object(E.a)({id:a.props.data.id},t),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}):$t.resource.CreateTripMode({data:Object(E.a)({},t),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}))})},a.state={status:!0},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.data&&$t.resource.getTripModeSingle({data:{id:this.props.data.id}}),$t.global.getCityList({data:{}})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=void 0!==this.props.data,a={labelCol:{span:6},wrapperCol:{span:14}},r=$t.resource.tripModeSingle;return l.a.createElement(yr.a,{bordered:!1,title:t?"\u7f16\u8f91\u51fa\u884c\u65b9\u5f0f":"\u6dfb\u52a0\u51fa\u884c\u65b9\u5f0f",className:"CreateMito"},l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{xs:8,sm:16,md:24}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(hn,Object.assign({label:"\u51fa\u884c\u65b9\u5f0f"},a,{className:"form-inline-item"}),e("tirpMode",{initialValue:t?r.tirpMode:void 0,rules:[{required:!0,whitespace:!0,message:"\u9009\u62e9\u51fa\u884c\u65b9\u5f0f"}]})(l.a.createElement(wr.a,{style:{width:300},placeholder:"\u9009\u62e9\u51fa\u884c\u65b9\u5f0f"},l.a.createElement(yn,{value:"1"},"\u822a\u7a7a"),l.a.createElement(yn,{value:"2"},"\u94c1\u8def"),l.a.createElement(yn,{value:"3"},"\u5305\u8f66"))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(hn,Object.assign({label:"\u6240\u5c5e"},a,{className:"form-inline-item"}),e("subordinate",{initialValue:t?r.subordinate:"",rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u6240\u5c5e"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u6240\u5c5e"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(hn,Object.assign({label:"\u8d77\u70b9"},a,{className:"form-inline-item"}),e("start",{initialValue:t?r.start:"",rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u8d77\u70b9"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u8d77\u70b9"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(hn,Object.assign({label:"\u4e2d\u8f6c\u70b9"},a,{className:"form-inline-item"}),e("transfer",{initialValue:t?r.transfer:"",rules:[{required:!1,whitespace:!0,message:"\u8bf7\u8f93\u5165\u4e2d\u8f6c\u70b9"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u4e2d\u8f6c\u70b9"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(hn,Object.assign({label:"\u7ec8\u70b9"},a,{className:"form-inline-item"}),e("end",{initialValue:t?r.end:"",rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u7ec8\u70b9"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u7ec8\u70b9"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(hn,Object.assign({label:"\u73ed\u6b21"},a,{className:"form-inline-item"}),e("number",{initialValue:t?r.number:"",rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u73ed\u6b21"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u73ed\u6b21"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(hn,Object.assign({label:"\u51fa\u53d1\u65f6\u95f4\uff08'\u5c0f\u65f6'\uff09"},a,{className:"form-inline-item"}),e("startHour",{initialValue:t?r.startHour:"",rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u51fa\u53d1\u65f6\u95f4\uff08'\u5c0f\u65f6'\uff09"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u51fa\u53d1\u65f6\u95f4\uff08'\u5c0f\u65f6'\uff09",style:{width:"250px"}})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(hn,Object.assign({label:"\u51fa\u53d1\u65f6\u95f4\uff08'\u5206\u949f'\uff09"},a,{className:"form-inline-item"}),e("startMin",{initialValue:t?r.startMin:"",rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u51fa\u53d1\u65f6\u95f4\uff08'\u5206\u949f'\uff09"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u51fa\u53d1\u65f6\u95f4\uff08'\u5206\u949f'\uff09",style:{width:"250px"}})))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,offset:6},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))))}}]),t}(s.Component))||Aa)||Aa),En=ur.a.create()(vn),On=ur.a.Item,jn=(wr.a.Option,Object(u.b)("resource","global")(Ya=Object(u.c)(Ya=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getTripModePage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getTripModePage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.page_size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.resource.getTripModePage({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.DeleteSingle=function(e){a.props.resource.DeleteTripMode({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getTripModePage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.EnableShutdown=function(e){},a.isCreateTripMode=function(e){a.setState({visible:e})},a.CreateTripMode=function(e){a.isCreateTripMode(!0),a.setState({currItem:e})},a.PropsInfo=function(e){a.isCreateTripMode(!1)},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getTripModePage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getTripModePage(t)})},a.state={loading:!0,visible:!1,currItem:{},trip_mode:{1:"\u822a\u7a7a",2:"\u94c1\u8def",3:"\u5305\u8f66"},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u51fa\u884c\u65b9\u5f0f",dataIndex:"tirpMode",render:function(e){return l.a.createElement("span",null,a.state.trip_mode[e])}},{title:"\u6240\u5c5e",dataIndex:"subordinate"},{title:"\u8d77\u6b62\u70b9",dataIndex:"start",render:function(e,t){return l.a.createElement("div",null,l.a.createElement("span",null,t.start+"---"),t.transfer&&l.a.createElement("span",null,t.transfer+"---"),l.a.createElement("span",null,t.end))}},{title:"\u73ed\u6b21",dataIndex:"number"},{title:"\u51fa\u53d1\u65f6\u95f4",dataIndex:"time",render:function(e,t){return l.a.createElement("span",null,t.startHour+":"+t.startMin)}},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreateTripMode(t)}},"\u7f16\u8f91"))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getTripModePage()}},{key:"render",value:function(){var e=this,t=this.props.resource.tripModePage,a=this.props.form.getFieldDecorator;return l.a.createElement(yr.a,{title:"\u51fa\u884c\u65b9\u5f0f",bordered:!1,loading:this.state.loading},this.state.visible&&l.a.createElement(vr.a,{visible:this.state.visible,width:1100,onCancel:function(){return e.isCreateTripMode(!1)},footer:null},l.a.createElement(En,{data:this.state.currItem,onClose:function(){e.PropsInfo(!1),e.getTripModePage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(On,Object.assign({label:"\u641c\u7d22\u5730\u70b9\u6216\u73ed\u6b21"},{labelCol:{span:6},wrapperCol:{span:14}},{className:"form-inline-item"}),a("start")(l.a.createElement(pr.a,{placeholder:"\u8f93\u5165\u5730\u70b9\u6216\u73ed\u6b21"})))),l.a.createElement(dr.a,{xl:10,md:24,sm:24,offset:2,style:{marginBottom:"10px"}},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch"},"\u67e5\u8be2"))))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,style:{marginBottom:"10px"}},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch",onClick:function(){e.CreateTripMode()}},"\u6dfb\u52a0\u51fa\u884c\u65b9\u5f0f")),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||Ya)||Ya),wn=ur.a.create()(jn),Sn=a(563),Cn=function(e){console.log("TCL: PreviewImg -> Props",e.styleType);var t=Object(s.useState)(!1),a=Object(Sn.a)(t,2),r=a[0],n=a[1];return Object(s.useEffect)(function(){n(r)}),l.a.createElement("span",null,l.a.createElement("img",Object.assign({},e,{alt:e.alt,onClick:function(){return n(!0)},style:{height:e.styleType?e.styleType[0]:"50px",width:e.styleType?e.styleType[0]:"50px"}})),e.src&&l.a.createElement(vr.a,{visible:r,footer:null,maskClosable:!0,onCancel:function(){return n(!1)}},l.a.createElement("img",{alt:"",style:{width:"100%"},src:e.src.toString(),onClick:function(){return n(!1)}})))},Pn=a(292),kn=a(36),xn=(a(1073),Object(u.b)("global")(qa=Object(u.c)(qa=function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(ta.a)(this,(e=Object(aa.a)(t)).call.apply(e,[this].concat(n)))).state={fileList:[],previewImage:"",previewVisible:!1,OSSData:{accessKeyId:"",policy:"",signature:"",key:"",host:"",callback:"",dir:""},loading:!1,height:"",width:"",file:{uid:"",url:"",lastModified:"",lastModifiedDate:"",name:"",size:0,type:"",percent:0,originFileObj:{uid:"",url:""},status:"",response:{code:0,msg:null,data:{filename:"",size:"",mimeType:"",width:"",height:""}},xhr:null}},a.handleChange=function(e){var t=Object(kn.a)(e.fileList);a.props.uploadNumber&&(t=t.slice(Number("-"+a.props.uploadNumber)));var r=(t=t.map(function(e){return e.response&&(e.url=e.response.url),e})).find(function(e){return"uploading"===e.status});"uploading"===e.file.status?a.setState({fileList:t,file:e.file,loading:!0}):"done"===e.file.status?("2"===a.props.type&&$t.global.getVideoStyle({data:{url:e.file.response&&e.file.response.data.filename},callback:function(n){if(200===n.code){var i=$t.global.videoStyle;a.setState({file:Object(E.a)({},a.state.file,e.file,{response:Object(E.a)({},e.file.response,{data:Object(E.a)({},e.file.response.data,{height:i.data.ImageHeight.value,width:i.data.ImageWidth.value,filename:e.file.response.data.filename+"?width="+i.data.ImageWidth.value+"&height="+i.data.ImageHeight.value})})})},function(){a.setState({fileList:[a.state.file].concat(Object(kn.a)(t.filter(function(e){return e.uid!==a.state.file.uid}))),loading:!1},function(){!r&&a.props.onChange&&a.props.onChange(a.state.fileList)})})}}}),"2"!==a.props.type&&a.setState({fileList:t,loading:!1},function(){!r&&a.props.onChange&&a.props.onChange(a.state.fileList.map(function(e){return Object(E.a)({},e,{response:{code:e.response.code,msg:e.response.msg,data:Object(E.a)({},e.response.data,{filename:e.response.data.filename+"?width="+e.response.data.width+"&height="+e.response.data.height})}})}))})):"err"===e.file.status&&(_r.a.error("\u7f51\u7edc\u9519\u8bef!"),a.setState({fileList:[],loading:!1}))},a.transformFile=function(e){var t=a.state.OSSData,r=e.name.slice(e.name.lastIndexOf(".")),n=Date.now()+r;return e.url=t.dir+n,e},a.getExtraData=function(e){var t=a.state.OSSData;return{key:e.url,OSSAccessKeyId:t.accessKeyId,policy:t.policy,Signature:t.signature,callback:t.callback,host:t.host}},a.removeListItem=function(e){a.setState({fileList:a.state.fileList.filter(function(t){return t!==e})},function(){a.props.onChange&&a.props.onChange(a.state.fileList)})},a.handleCancel=function(){return a.setState({previewVisible:!1})},a.beforeUpload=function(e){var t="1"===a.props.type&&("image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type)||"2"===a.props.type&&("video/mp4"===e.type||"video/webm"===e.type||"video/ogg"===e.type)||"3"===a.props.type&&"application/pdf"===e.type;return t||_r.a.error("\u4e0a\u4f20\u6587\u4ef6\u683c\u5f0f\u9519\u8bef!"),t},a.handlePreview=function(){var e=Object(g.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TCL: handlePreview -> file",t),a.setState({previewImage:t.response.data.filename,previewVisible:!0,file:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark(function e(){var t=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t.global.getPolicy({data:{type:this.props.type},callback:function(e){0===e.code&&t.setState({OSSData:e.data})}});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e,t){console.log("TCL: OssUpload -> componentWillReceiveProps -> nextProps",e),e.value!==this.state.fileList&&this.setState({fileList:e.value})}},{key:"render",value:function(){var e={name:"file",fileList:this.state.fileList,action:this.state.OSSData.host,onChange:this.handleChange,multiple:!0,transformFile:this.transformFile,data:this.getExtraData,onPreview:this.handlePreview,onRemove:this.removeListItem,beforeUpload:this.beforeUpload};return l.a.createElement("div",null,l.a.createElement(Cr.a,Object.assign({},e,{fileList:this.state.fileList,showUploadList:!0}),l.a.createElement(gr.a,{disabled:!!this.props.disabled&&this.props.disabled,loading:this.state.loading,style:{marginTop:5}},"1"===this.props.type?"\u4e0a\u4f20\u56fe\u7247":"2"===this.props.type?"\u4e0a\u4f20\u89c6\u9891":"\u4e0a\u4f20PDF")),l.a.createElement(vr.a,{visible:this.state.previewVisible,footer:null,onCancel:this.handleCancel,width:800},"1"===this.props.type&&l.a.createElement("img",{alt:"example",style:{width:"100%"},src:this.state.previewImage}),"2"===this.props.type&&l.a.createElement("video",{style:{width:"100%"},src:this.state.previewImage,controls:!0}),"3"===this.props.type&&this.state.previewVisible&&(window.location.href=this.state.previewImage)))}}]),t}(l.a.Component))||qa)||qa),Tn=ur.a.Item,Dn=(jr.a.RangePicker,wr.a.Option),In=(Sr.a.Button,pr.a.TextArea,Sr.a.Group,Cr.a.Dragger,Object(u.b)("resource")(Ha=Object(u.c)(Ha=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getCity=function(e){$t.global.getPictureCity({data:e?{type:e}:{}})},a.getHotel=function(e){$t.resource.getHotelPage({data:e?{city:e}:{}})},a.getScenicSpot=function(e){$t.resource.getScenicSpot({data:e?{city:e}:{}})},a.getRestaurantPage=function(e){console.log("++++++",e),$t.resource.getRestaurantPage({data:e?{city:e}:{}})},a.handleChangeType=function(e){a.getCity(e)},a.handleChangeCity=function(e){2===a.props.form.getFieldValue("type")&&a.getHotel(e),4===a.props.form.getFieldValue("type")&&a.getScenicSpot(e),5===a.props.form.getFieldValue("type")&&a.getRestaurantPage(e)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(console.log("TCL: handleSubmit -> values",t),!e){var r=[];t.url.map(function(e,t){r.push(e.response.data)});var n=r.map(function(e,t){return{wide:e.width,high:e.height,url:e.filename}}),i=(t.url,Object(Pn.a)(t,["url"]));a.props.data?$t.resource.EditPicture({data:Object(E.a)({id:a.props.data.id},t,{url:t.url[0].response.data.filename,wide:t.url[0].response.data.width,height:t.url[0].response.data.height}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}):$t.resource.CreatePicture({data:Object(E.a)({},i,{urls:n}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}})}})},a.state={status:!0,type:0},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark(function e(){var t=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("TCL: CreatePicture -> componentDidMount -> this.props.data",this.props.data),e.next=3,$t.global.getCityList({data:{}});case 3:return e.next=5,this.props.data;case 5:if(e.t0=e.sent,e.t1=void 0,e.t2=e.t0!==e.t1,!e.t2){e.next=10;break}$t.resource.getPictureSingle({data:{id:this.props.data.id},callback:function(e){0===e.code&&t.setState({type:+e.data.type})}});case 10:return e.next=12,$t.resource.getScenicSpot({data:{city:$t.resource.pictureSingle.city}});case 12:return e.next=14,$t.resource.getHotelPage({data:{city:$t.resource.pictureSingle.city}});case 14:return e.next=16,$t.resource.getRestaurantPage({data:{city:$t.resource.pictureSingle.city}});case 16:return e.next=18,this.props.data;case 18:if(e.t3=e.sent,e.t4=void 0,e.t5=e.t3!==e.t4,!e.t5){e.next=23;break}$t.global.getPictureCity({data:{type:$t.resource.pictureSingle.type}});case 23:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:14}},a=$t.resource.pictureSingle,r=void 0!==this.props.data,n=a.url,i=[{uid:"rc-upload-1574925611551-2",url:"img/15749256138437071375449767021574925617190.jpg",lastModified:1574400765576,lastModifiedDate:"2019-11-22T05:32:45.576Z",name:"b17123b76cb838e9cc2d291f5bf62ba8.jpg",size:1411649,type:"image/jpeg",percent:100,originFileObj:{uid:"rc-upload-1574925611551-2",url:"img/15749256138437071375449767021574925617190.jpg"},status:"done",thumbUrl:"",response:{code:0,msg:null,data:{filename:"http://miramartravel.oss-cn-shenzhen.aliyuncs.com/img/15749256138437071375449767021574925617190.jpg",size:"1411649",mimeType:"image/jpeg",width:"1920",height:"1080"}},xhr:{}}];return i.map(function(e,t){n&&(e.name=n,e.uid="16549861321684",e.url=n,console.log("TCL: CreateVideo -> render ->  url.split",n.split("com/")[1]),e.type="img/"+n.split("com/")[1].split(".")[1],e.originFileObj.uid="16549861321684",e.originFileObj.url=n,e.response.data.filename=n,e.response.data.mimeType="img/"+n.split("com/")[1].split(".")[1])}),l.a.createElement(yr.a,{bordered:!1,title:r?"\u7f16\u8f91\u56fe\u7247":"\u6dfb\u52a0\u56fe\u7247",className:"CreateMito"},l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{xs:8,sm:16,md:24}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Tn,Object.assign({label:"\u5206\u7c7b"},t,{className:"form-inline-item"}),e("type",{initialValue:r?Number(a.type):void 0,rules:[{required:!0,message:"\u9009\u62e9\u5206\u7c7b"}]})(l.a.createElement(wr.a,{style:{width:300},placeholder:"\u8bf7\u9009\u62e9\u5206\u7c7b",onChange:this.handleChangeType},l.a.createElement(Dn,{value:2},"\u9152\u5e97"),l.a.createElement(Dn,{value:3},"\u57ce\u5e02"),l.a.createElement(Dn,{value:4},"\u666f\u70b9"),l.a.createElement(Dn,{value:5},"\u9910\u5385"))))),this.props.form.getFieldValue("type")&&l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Tn,Object.assign({label:"\u8bf7\u9009\u62e9\u57ce\u5e02"},t,{className:"form-inline-item"}),e("city",{initialValue:r?a.city:void 0,rules:[{required:!0,whitespace:!0,message:"\u8bf7\u9009\u62e9\u57ce\u5e02"}]})(l.a.createElement(wr.a,{style:{width:300},placeholder:"\u8bf7\u9009\u62e9\u57ce\u5e02",onChange:this.handleChangeCity},3===this.props.form.getFieldValue("type")?$t.global.cityList.map(function(e,t){return l.a.createElement(Dn,{key:e.id,value:e.id},e.name)}):$t.global.pictureCity.map(function(e,t){return l.a.createElement(Dn,{key:e.id,value:e.id},e.name)}))))),2===this.props.form.getFieldValue("type")&&l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Tn,Object.assign({label:"\u8bf7\u9009\u62e9\u9152\u5e97"},t,{className:"form-inline-item"}),e("itemId",{initialValue:r?a.itemId:void 0,rules:[{required:!0,whitespace:!0,message:"\u8bf7\u9009\u62e9\u9152\u5e97"}]})(l.a.createElement(wr.a,{style:{width:300},placeholder:"\u8bf7\u9009\u62e9\u9152\u5e97"},$t.resource.hotelPage.records.map(function(e,t){return l.a.createElement(Dn,{key:e.id,value:e.id},e.name)}))))),4===this.props.form.getFieldValue("type")&&l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Tn,Object.assign({label:"\u8bf7\u9009\u62e9\u666f\u70b9"},t,{className:"form-inline-item"}),e("itemId",{initialValue:r?a.itemId:void 0,rules:[{required:!0,whitespace:!0,message:"\u8bf7\u9009\u62e9\u666f\u70b9"}]})(l.a.createElement(wr.a,{style:{width:300},placeholder:"\u8bf7\u9009\u62e9\u666f\u70b9"},$t.resource.scenicPage.records.map(function(e,t){return l.a.createElement(Dn,{key:e.id,value:e.id}," ",e.name)}))))),5===this.props.form.getFieldValue("type")&&l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Tn,Object.assign({label:"\u8bf7\u9009\u62e9\u9910\u5385"},t,{className:"form-inline-item"}),e("itemId",{initialValue:r?a.itemId:void 0,rules:[{required:!0,whitespace:!0,message:"\u8bf7\u9009\u62e9\u9910\u5385"}]})(l.a.createElement(wr.a,{style:{width:300},placeholder:"\u8bf7\u9009\u62e9\u9910\u5385"},$t.resource.restaurantPage.records.map(function(e,t){return l.a.createElement(Dn,{key:e.id,value:e.id},e.name)}))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Tn,Object.assign({label:"\u4e0a\u4f20\u56fe\u7247"},t,{className:"form-inline-item"}),e("url",{initialValue:r?i:[],rules:[{required:!0,message:"\u9009\u62e9\u56fe\u7247"}]})(l.a.createElement(xn,{type:"1",isShowUploadList:!0})))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,offset:6},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))))}}]),t}(s.Component))||Ha)||Ha),zn=ur.a.create()(In),Mn=ur.a.Item,Nn=wr.a.Option,Ln=Object(u.b)("resource","global")(Ka=Object(u.c)(Ka=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getPicturePage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getPicturePage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.resource.getPicturePage({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.DeleteSingle=function(e){a.props.resource.DeletePicture({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getPicturePage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.EnableShutdown=function(e){},a.isCreatePicture=function(e){a.setState({visible:e})},a.CreatePicture=function(e){a.isCreatePicture(!0),a.setState({currItem:e})},a.PropsInfo=function(e){a.isCreatePicture(!1)},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getPicturePage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getPicturePage(t)})},a.state={loading:!0,visible:!1,currItem:{},pagination:{total:20,pageSize:20,current:1},type:{2:"\u9152\u5e97",3:"\u57ce\u5e02",4:"\u666f\u70b9",5:"\u9910\u5385"},columns:[{title:"\u56fe\u7247",dataIndex:"url",render:function(e){return l.a.createElement(Cn,{alt:"img",src:e})}},{title:"\u5206\u7c7b",dataIndex:"type",render:function(e,t){return l.a.createElement("span",null,a.state.type[e])}},{title:"\u57ce\u5e02",dataIndex:"city"},{title:"\u666f\u70b9/\u9152\u5e97/\u9910\u5385",dataIndex:"itemId"},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreatePicture(t)}},"\u7f16\u8f91"))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getPicturePage(),this.props.global.getCityList({data:{}})}},{key:"render",value:function(){var e=this,t=this.props.resource.picturePage,a={labelCol:{span:6},wrapperCol:{span:14}},r=this.props.form.getFieldDecorator,n=this.props.global.cityList;return l.a.createElement(yr.a,{title:"\u56fe\u7247\u7ba1\u7406",bordered:!1,loading:this.state.loading},this.state.visible&&l.a.createElement(vr.a,{visible:this.state.visible,width:1100,onCancel:function(){return e.isCreatePicture(!1)},footer:null},l.a.createElement(zn,{data:this.state.currItem,onClose:function(){e.PropsInfo(!1),e.getPicturePage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(Mn,Object.assign({label:"\u641c\u7d22\u5206\u7c7b"},a,{className:"form-inline-item"}),r("type")(l.a.createElement(wr.a,{placeholder:"\u8bf7\u9009\u62e9\u641c\u7d22\u5206\u7c7b"},l.a.createElement(Nn,{value:"2"},"\u9152\u5e97"),l.a.createElement(Nn,{value:"3"},"\u57ce\u5e02"),l.a.createElement(Nn,{value:"4"},"\u666f\u70b9"),l.a.createElement(Nn,{value:"5"},"\u9910\u5385"))))),l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(Mn,Object.assign({label:"\u641c\u7d22\u57ce\u5e02"},a,{className:"form-inline-item"}),r("city")(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u641c\u7d22\u57ce\u5e02"},n.map(function(e,t){return l.a.createElement(Nn,{key:e.id,value:e.id},e.name)}))))),l.a.createElement(dr.a,{xl:10,md:24,sm:24,offset:2,style:{marginBottom:"10px"}},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch"},"\u67e5\u8be2"))))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,style:{marginBottom:"10px"}},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch",onClick:function(){e.CreatePicture()}},"\u6dfb\u52a0\u56fe\u7247")),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||Ka)||Ka,Rn=ur.a.create()(Ln),Vn=a(177),Un=ur.a.Item,Bn=(jr.a.RangePicker,wr.a.Option),Fn=(Sr.a.Button,pr.a.TextArea,Sr.a.Group,Cr.a.Dragger,Object(u.b)("resource")(Ga=Object(u.c)(Ga=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){console.log("TCL: CreateVideo -> handleSubmit -> values",t),e||(a.props.data?$t.resource.EditVideo({data:Object(E.a)({id:a.props.data.id},t,{url:t.url[0].response.data.filename}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}):$t.resource.CreateVideo({data:Object(E.a)({},t,{url:t.url[0].response.data.filename}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}))})},a.handleChange=function(){},a.state={status:!0},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.data&&$t.resource.getVideoSingle({data:{id:this.props.data.id}}),$t.global.getCityList({data:{}})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=void 0!==this.props.data,a={labelCol:{span:6},wrapperCol:{span:14}},r=$t.resource.videoSingle,n=[{uid:"rc-upload-1574914933264-5",url:"video/15749153445156968682166871161574915347978.mp4",lastModified:1574825447064,lastModifiedDate:"2019-11-27T03:30:47.064Z",name:"b0c2bb249c564e3b24785f73fea77905.mp4",size:901823,type:"video/mp4",percent:100,originFileObj:{uid:"rc-upload-1574914933264-5",url:"video/15749153445156968682166871161574915347978.mp4"},status:"done",thumbUrl:"",response:{code:0,msg:null,data:{filename:"http://miramartravel.oss-cn-shenzhen.aliyuncs.com/video/15749153445156968682166871161574915347978.mp4",size:"901823",mimeType:"video/mp4",width:"",height:""}},xhr:{}}],i=r.url;return console.log("TCL: CreateVideo -> render -> url",i),n.map(function(e,t){i&&(e.name=i,e.uid="16549861321684",e.url=i.split("com/")[1],console.log("TCL: CreateVideo -> render ->  url.split",i.split("com/")[1]),e.type="video/"+i.split("com/")[1].split(".")[1],e.originFileObj.uid="16549861321684",e.originFileObj.url=i.split("com/")[1],e.response.data.filename=i,e.response.data.mimeType="video/"+i.split("com/")[1].split(".")[1])}),l.a.createElement(yr.a,{bordered:!1,title:t?"\u7f16\u8f91\u89c6\u9891":"\u6dfb\u52a0\u89c6\u9891",className:"CreateMito"},l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{xs:8,sm:16,md:24}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Un,Object.assign({label:"\u89c6\u9891\u540d\u79f0"},a,{className:"form-inline-item"}),e("name",{initialValue:t?r.name:"",rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u89c6\u9891\u540d\u79f0"}]})(l.a.createElement(pr.a,{placeholder:"\u89c6\u9891\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Un,Object.assign({label:"\u6240\u5c5e\u57ce\u5e02"},a,{className:"form-inline-item"}),e("city",{initialValue:t?r.city:void 0,rules:[{required:!0,whitespace:!0,message:"\u9009\u62e9\u57ce\u5e02"}]})(l.a.createElement(wr.a,{style:{width:300},placeholder:"\u8bf7\u9009\u62e9\u57ce\u5e02"},$t.global.cityList.map(function(e,t){return l.a.createElement(Bn,{key:e.id,value:e.id},e.name)}))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Un,Object.assign({label:l.a.createElement("span",null,"\u4e0a\u4f20\u89c6\u9891\xa0",l.a.createElement(Vn.a,{title:"\u53ea\u80fd\u4e0a\u4f20\u4e00\u4e2a\u89c6\u9891\uff01\uff01\uff01"},l.a.createElement(pa.a,{type:"info-circle"})))},a,{className:"form-inline-item"}),e("url",{initialValue:t?n:[],rules:[{required:!0,message:"\u4e0a\u4f20\u89c6\u9891"}]})(l.a.createElement(xn,{type:"2",isShowUploadList:!0,uploadNumber:1})))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,offset:6},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))))}}]),t}(s.Component))||Ga)||Ga),_n=ur.a.create()(Fn),An=ur.a.Item,Yn=(wr.a.Option,Object(u.b)("resource","global")(Ja=Object(u.c)(Ja=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getVideoPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getVideoPage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.page_size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.resource.getVideoPage({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.DeleteSingle=function(e){a.props.resource.DeleteVideo({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getVideoPage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.EnableShutdown=function(e){},a.isCreateVideo=function(e){a.setState({visible:e})},a.CreateVideo=function(e){a.isCreateVideo(!0),a.setState({currItem:e})},a.PropsInfo=function(e){a.isCreateVideo(!1)},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getVideoPage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getVideoPage(t)})},a.state={loading:!0,visible:!1,currItem:{},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u89c6\u9891\u540d\u79f0",dataIndex:"name"},{title:"\u89c6\u9891",dataIndex:"url",render:function(e,t){return l.a.createElement("video",{style:{maxWidth:"150px",maxHeight:"150px"},src:e,controls:!0})}},{title:"\u6240\u5c5e\u57ce\u5e02",dataIndex:"city"},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreateVideo(t)}},"\u7f16\u8f91"))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getVideoPage(),this.props.global.getCityList({data:{}})}},{key:"render",value:function(){var e=this,t=this.props.resource.videoPage,a=this.props.form.getFieldDecorator;this.props.global.cityList;return l.a.createElement(yr.a,{title:"\u89c6\u9891\u7ba1\u7406",bordered:!1,loading:this.state.loading},this.state.visible&&l.a.createElement(vr.a,{visible:this.state.visible,width:1100,onCancel:function(){return e.isCreateVideo(!1)},footer:null},l.a.createElement(_n,{data:this.state.currItem,onClose:function(){e.PropsInfo(!1),e.getVideoPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(An,Object.assign({label:"\u89c6\u9891\u540d\u79f0"},{labelCol:{span:6},wrapperCol:{span:14}},{className:"form-inline-item"}),a("name")(l.a.createElement(pr.a,{placeholder:"\u89c6\u9891\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:10,md:24,sm:24,offset:2,style:{marginBottom:"10px"}},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch"},"\u67e5\u8be2"))))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,style:{marginBottom:"10px"}},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch",onClick:function(){e.CreateVideo()}},"\u6dfb\u52a0\u89c6\u9891")),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||Ja)||Ja),qn=ur.a.create()(Yn),Hn=a(1542),Kn=(a(1075),ur.a.Item),Gn=(jr.a.RangePicker,wr.a.Option),Jn=(Sr.a.Button,pr.a.TextArea),Qn=(Sr.a.Group,[{name:"\u51fa\u884c",type:1},{name:"\u9152\u5e97",type:2},{name:"\u57ce\u5e02",type:3},{name:"\u666f\u70b9",type:4},{name:"\u9910\u5385",type:5},{name:"\u6587\u672c",type:6}]),Wn=(Cr.a.Dragger,{0:"\u96f6",1:"\u4e00",2:"\u4e8c",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d",7:"\u4e03",8:"\u516b",9:"\u4e5d"}),Zn=[{title:"\u884c\u7a0b",dataIndex:"day",editable:!1,render:function(e,t){return l.a.createElement("div",null,"\u7b2c"+Wn[e]+"\u5929")}},{title:"\u63d2\u5165\u8d44\u6e90\u7c7b\u578b",dataIndex:"type",editable:!0},{title:"\u51fa\u884c\u65b9\u5f0f(\u975e\u5fc5\u9009)",dataIndex:"tirpType",editable:!0},{title:"\u8d44\u6e90\u5185\u5bb9",dataIndex:"itemId",editable:!0},{title:"\u64cd\u4f5c",dataIndex:"operation"}],$n=Object(u.b)("resource")(Qa=Object(u.c)(Qa=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(a.props.data?$t.resource.EditBasicProducts({data:Object(E.a)({id:a.props.data.id},t,{pdfUrl:t.pdfUrl[0].response.data.filename,baseProductDaysList:a.state.dataSource.map(function(e){return Object(E.a)({},e,{productId:a.props.data.id})})}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}):$t.resource.CreateBasicProducts({data:Object(E.a)({},t,{pdfUrl:t.pdfUrl[0].response.data.filename,baseProductDaysList:a.state.dataSource}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}))})},a.handleDay=function(){a.setState({days:a.state.days+1})},a.handleChangeResouce=function(e,t){e.type=t,a.setState({dataSource:a.state.dataSource,type:t})},a.handleChageTrip=function(e,t){e.tirpType=t,a.setState({dataSource:a.state.dataSource,tMode:t})},a.handleChangeInfo=function(e,t){6===e.type?e.itemId=t.target.value:e.itemId=t,a.setState({dataSource:a.state.dataSource})},a.handleDelete=function(e){a.setState({dataSource:a.state.dataSource.filter(function(t){return t!==e})})},a.handleAdd=function(e){var t={productId:void 0!==a.props.data?a.props.data.id:"",sort:a.state.sort,type:e.type,days:a.state.days,itemId:"",tirpType:0};a.setState({dataSource:[].concat(Object(kn.a)(a.state.dataSource),[t]),sort:a.state.sort+1,type:e.type})},a.state={status:!0,sort:1,days:0,dataSource:[],type:"",tMode:""},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.data&&$t.resource.getProductSingle({data:{id:this.props.data.id},callback:function(t){if(0===t.code){var a=t.data.baseProductDaysList.map(function(e){return e.days}),r=t.data.baseProductDaysList.map(function(e){return e.sort});e.setState({dataSource:t.data.baseProductDaysList,days:Math.max.apply(Math,Object(kn.a)(a)),sort:Math.max.apply(Math,Object(kn.a)(r))+1})}}}),$t.resource.getTripModePage({data:{}}),$t.resource.getHotelPage({data:{}}),$t.global.getCityList({data:{}}),$t.resource.getScenicSpot({data:{}}),$t.resource.getRestaurantPage({data:{}})}},{key:"render",value:function(){var e=this;console.log("this.state.sort",this.state.sort);var t=$t.resource.tripModePage.records.map(function(e,t){return Object(E.a)({},e,{type:"1"})}),a=$t.resource.hotelPage.records.map(function(e,t){return Object(E.a)({},e,{type:"2"})}),r=$t.global.cityList.map(function(e,t){return Object(E.a)({},e,{type:"3"})}),n=$t.resource.scenicPage.records.map(function(e,t){return Object(E.a)({},e,{type:"4"})}),i=$t.resource.restaurantPage.records.map(function(e,t){return Object(E.a)({},e,{type:"5"})}),c=[].concat(Object(kn.a)(t),Object(kn.a)(a),Object(kn.a)(r),Object(kn.a)(n),Object(kn.a)(i));console.log("TCL: CreateBasicProducts -> render -> dataAll",c);var o=this.props.form.getFieldDecorator,s=($t.global.cityList,void 0!==this.props.data),u={labelCol:{span:6},wrapperCol:{span:14}},m=$t.resource.productSingle,d=[{uid:"rc-upload-1574914933264-5",url:"video/15749153445156968682166871161574915347978.mp4",lastModified:1574825447064,lastModifiedDate:"2019-11-27T03:30:47.064Z",name:"b0c2bb249c564e3b24785f73fea77905.mp4",size:901823,type:"video/mp4",percent:100,originFileObj:{uid:"rc-upload-1574914933264-5",url:"video/15749153445156968682166871161574915347978.mp4"},status:"done",thumbUrl:"",response:{code:0,msg:null,data:{filename:"http://miramartravel.oss-cn-shenzhen.aliyuncs.com/video/15749153445156968682166871161574915347978.mp4",size:"901823",mimeType:"video/mp4",width:"",height:""}},xhr:{}}],p=m.pdfUrl;return d.map(function(e,t){p&&(e.name=p,e.uid="16549861321684",e.url=p.split("com/")[1],e.type="video/"+p.split("com/")[1].split(".")[1],e.originFileObj.uid="16549861321684",e.originFileObj.url=p.split("com/")[1],e.response.data.filename=p,e.response.data.mimeType="video/"+p.split("com/")[1].split(".")[1])}),console.log("dataSource",this.state.dataSource),l.a.createElement(yr.a,{bordered:!1,title:s?"\u7f16\u8f91\u57fa\u7840\u4ea7\u54c1":"\u6dfb\u52a0\u57fa\u7840\u4ea7\u54c1"},l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{xs:8,sm:16,md:24}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Kn,Object.assign({label:"\u4ea7\u54c1\u7c7b\u578b"},u,{className:"form-inline-item"}),o("type",{initialValue:s?""+m.type:void 0,rules:[{required:!0,whitespace:!0,message:"\u4ea7\u54c1\u7c7b\u578b"}]})(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u4ea7\u54c1\u7c7b\u578b"},l.a.createElement(Gn,{value:"1"},"\u56fd\u5185\u6e38"),l.a.createElement(Gn,{value:"2"},"\u6e2f\u6fb3\u6e38"),l.a.createElement(Gn,{value:"3"},"\u5883\u5916\u6e38"))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Kn,Object.assign({label:"\u4ea7\u54c1\u540d\u79f0"},u,{className:"form-inline-item"}),o("name",{initialValue:s?m.name:"",rules:[{required:!0,whitespace:!0,message:"\u4ea7\u54c1\u540d\u79f0"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u4ea7\u54c1\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Kn,Object.assign({label:"\u526f\u6807\u9898"},u,{className:"form-inline-item"}),o("copywriting",{initialValue:s?m.copywriting:"",rules:[{required:!0,whitespace:!0,message:"\u526f\u6807\u9898"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u526f\u6807\u9898"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Kn,Object.assign({label:"\u884c\u7a0b\u5929\u6570"},u,{className:"form-inline-item"}),o("days",{initialValue:s?m.days:"",rules:[{required:!0,whitespace:!0,message:"\u884c\u7a0b\u5929\u6570"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u884c\u7a0b\u5929\u6570"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Kn,Object.assign({label:"\u4ea7\u54c1\u4eae\u70b9"},u,{className:"form-inline-item"}),o("brightSpot",{initialValue:s?m.brightSpot:"",rules:[{required:!0,whitespace:!0,message:"\u4ea7\u54c1\u4eae\u70b9"}]})(l.a.createElement(Jn,{placeholder:"\u8bf7\u8f93\u5165\u4ea7\u54c1\u4eae\u70b9",autoSize:{minRows:5}})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Kn,Object.assign({label:"\u884c\u7a0b"},u,{className:"form-inline-item"}),o("trip",{rules:[{required:!this.state.dataSource,message:"\u884c\u7a0b"}]})(l.a.createElement("div",null,l.a.createElement("div",{style:{marginBottom:16,marginRight:50,marginLeft:10}},l.a.createElement(gr.a,{type:"primary",onClick:this.handleDay,style:{marginRight:50}},"\u6dfb\u52a0\u884c\u7a0b"),this.state.days?l.a.createElement(Hn.a,{color:"#87d068"},"\u7b2c"+Wn[this.state.days]+"\u5929"):null),Qn.map(function(t,a){return l.a.createElement(gr.a,{type:"primary",disabled:0===e.state.days,key:t.id,style:{marginBottom:16,marginLeft:10},onClick:function(){return e.handleAdd(t)}},t.name)}),l.a.createElement("table",{className:"tableSelf"},l.a.createElement("thead",null,l.a.createElement("tr",null,Zn.map(function(e){return l.a.createElement("th",{key:e.dataIndex,className:"thSelf"},e.title)}))),l.a.createElement("tbody",null,this.state.dataSource.map(function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",{className:"thSelf"},"\u7b2c"+Wn[t.days]+"\u5929"),l.a.createElement("td",{className:"thSelf"},l.a.createElement(Kn,{label:"",className:"form-inline-item"},o("type".concat(t.sort),{initialValue:t.type,rules:[{required:!0,message:"\u8d44\u6e90\u7c7b\u578b"}]})(l.a.createElement(wr.a,{placeholder:"\u8bf7\u9009\u62e9\u8d44\u6e90\u7c7b\u578b",disabled:!0,onChange:function(a){return e.handleChangeResouce(t,a)}},Qn.map(function(e){return l.a.createElement(Gn,{key:e.id,value:e.type},e.name)}))))),l.a.createElement("td",{className:"thSelf"},1===e.props.form.getFieldValue("type".concat(t.sort))&&l.a.createElement(Kn,{label:"",className:"form-inline-item"},o("tirpType".concat(t.sort),{initialValue:s?0===t.tirpType?void 0:t.tirpType:void 0,rules:[{required:!0,message:"\u8d44\u6e90\u7c7b\u578b"}]})(l.a.createElement(wr.a,{placeholder:"\u8bf7\u9009\u62e9\u5185\u5bb9",style:{width:120},onChange:function(a){return e.handleChageTrip(t,a)}},l.a.createElement(Gn,{value:1},"\u822a\u7a7a"),l.a.createElement(Gn,{value:2},"\u94c1\u8def"),l.a.createElement(Gn,{value:3},"\u5305\u8f66"))))),6===e.props.form.getFieldValue("type".concat(t.sort))?l.a.createElement("td",{className:"thSelf"},l.a.createElement(Kn,{label:"",className:"form-inline-item"},o("itemId".concat(t.sort),{initialValue:s?t.itemId:void 0,rules:[{required:!0,whitespace:!0,message:"\u8d44\u6e90\u5185\u5bb9"}]})(l.a.createElement(Jn,{placeholder:"\u8bf7\u8f93\u5165\u8d44\u6e90\u5185\u5bb9",onChange:function(a){return e.handleChangeInfo(t,a)}})))):l.a.createElement("td",{className:"thSelf"},l.a.createElement(Kn,{label:"",className:"form-inline-item"},o("itemId".concat(t.sort),{initialValue:s?t.itemId:void 0,rules:[{required:!0,whitespace:!0,message:"\u8d44\u6e90\u5185\u5bb9"}]})(l.a.createElement(wr.a,{onChange:function(a){return e.handleChangeInfo(t,a)},placeholder:"\u8bf7\u9009\u62e9\u8d44\u6e90\u5185\u5bb9"},c.map(function(a){return 1===e.props.form.getFieldValue("type".concat(t.sort))?e.props.form.getFieldValue("tirpType".concat(t.sort))+""===a.tirpMode&&l.a.createElement(Gn,{key:a.id,value:a.id},a.number):e.props.form.getFieldValue("type".concat(t.sort))+""===a.type&&l.a.createElement(Gn,{key:a.id,value:a.id},a.name)}))))),l.a.createElement("td",{className:"thSelf"},l.a.createElement(Nr.a,{title:"\u786e\u5b9a\u5220\u9664\u5417?",onConfirm:function(){return e.handleDelete(t)},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},l.a.createElement("a",null,"\u5220\u9664"))))}))))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Kn,Object.assign({label:l.a.createElement("span",null,"\u4e0a\u4f20PDF\xa0",l.a.createElement(Vn.a,{title:"\u53ea\u80fd\u4e0a\u4f20\u4e00\u4e2aPDF\uff01\uff01\uff01"},l.a.createElement(pa.a,{type:"info-circle"})))},u,{className:"form-inline-item"}),o("pdfUrl",{initialValue:s?d:[],rules:[{required:!0,message:"\u4e0a\u4f20PDF"}]})(l.a.createElement(xn,{type:"3",isShowUploadList:!0,uploadNumber:1})))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,offset:6},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))))}}]),t}(s.Component))||Qa)||Qa,Xn=ur.a.create()($n),ei=(ur.a.Item,wr.a.Option,{0:"\u96f6",1:"\u4e00",2:"\u4e8c",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d",7:"\u4e03",8:"\u516b",9:"\u4e5d"}),ti={1:"\u822a\u7a7a",2:"\u94c1\u8def",3:"\u5305\u8f66"},ai=[{name:"\u51fa\u884c",type:"1"},{name:"\u9152\u5e97",type:"2"},{name:"\u57ce\u5e02",type:"3"},{name:"\u666f\u70b9",type:"4"},{name:"\u9910\u5385",type:"5"},{name:"\u6587\u672c",type:"6"}],ri=Object(u.b)("resource")(Wa=Object(u.c)(Wa=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).state={loading:!0,visible:!1,currItem:{},dataSource:[],pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u884c\u7a0b",dataIndex:"days",render:function(e,t){return l.a.createElement("div",null,"\u7b2c"+ei[e]+"\u5929")}},{title:"\u63d2\u5165\u8d44\u6e90\u7c7b\u578b",dataIndex:"type",render:function(e,t){return l.a.createElement("span",null,ai.map(function(t){return l.a.createElement("span",null,t.type==e&&t.name)}))}},{title:"\u51fa\u884c\u65b9\u5f0f(\u975e\u5fc5\u9009)",dataIndex:"tirpType",render:function(e,t){return l.a.createElement("span",null,ti[e])}},{title:"\u8d44\u6e90\u5185\u5bb9",dataIndex:"itemId",render:function(e,t){var r=a.state.dataSource.find(function(t){return t.id===e&&6!==t.type});return l.a.createElement("div",null,r&&l.a.createElement("span",null,1===r.type?r.number:r.name),6===t.type&&l.a.createElement("span",null,t.itemId))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark(function e(){var t=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t.resource.getTripModePage({data:{}});case 2:return e.next=4,$t.resource.getHotelPage({data:{}});case 4:return e.next=6,$t.global.getCityList({data:{}});case 6:return e.next=8,$t.resource.getScenicSpot({data:{}});case 8:return e.next=10,$t.resource.getRestaurantPage({data:{}});case 10:return e.next=12,$t.resource.getProductSingle({data:{id:this.props.data.id},callback:function(e){0===e.code&&t.setState({loading:!1},function(){var e=$t.resource.tripModePage.records.map(function(e,t){return Object(E.a)({},e,{type:1})}),a=$t.resource.hotelPage.records.map(function(e,t){return Object(E.a)({},e,{type:2})}),r=$t.global.cityList.map(function(e,t){return Object(E.a)({},e,{type:3})}),n=$t.resource.scenicPage.records.map(function(e,t){return Object(E.a)({},e,{type:4})}),i=$t.resource.restaurantPage.records.map(function(e,t){return Object(E.a)({},e,{type:5})}),c=[].concat(Object(kn.a)(e),Object(kn.a)(a),Object(kn.a)(r),Object(kn.a)(n),Object(kn.a)(i));t.setState({dataSource:c})})}});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=$t.resource.productSingle;this.props.form.getFieldDecorator;return l.a.createElement(yr.a,{title:"\u67e5\u770b\u884c\u7a0b",bordered:!1,loading:this.state.loading},l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:e.baseProductDaysList,pagination:!1}))))}}]),t}(l.a.Component))||Wa)||Wa,ni=ur.a.create()(ri),ii=ur.a.Item,ci=wr.a.Option,oi=Object(u.b)("resource","global")(Za=Object(u.c)(Za=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getBasicProductsPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getBasicProductsPage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.resource.getBasicProductsPage({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.DeleteSingle=function(e){a.props.resource.DeleteBasicProducts({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getBasicProductsPage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.EnableShutdown=function(e){},a.isCreateBasicProducts=function(e){a.setState({visible:e})},a.isCheckItinerary=function(e){a.setState({SeeItinerary:e})},a.CheckItinerary=function(e){a.isCheckItinerary(!0),a.setState({searchData:e})},a.CreateBasicProducts=function(e){a.isCreateBasicProducts(!0),a.setState({currItem:e})},a.PropsInfo=function(e){a.isCreateBasicProducts(!1),a.isCheckItinerary(!1)},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getBasicProductsPage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getBasicProductsPage(t)})},a.state={loading:!0,visible:!1,baseType:{1:"\u56fd\u5185\u6e38",2:"\u6e2f\u6fb3\u6e38",3:"\u5883\u5916\u6e38"},currItem:{},SeeItinerary:!1,searchData:{},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u4ea7\u54c1\u7c7b\u578b",dataIndex:"type",render:function(e,t){return l.a.createElement("span",null,a.state.baseType[e])}},{title:"\u4ea7\u54c1\u540d\u79f0",dataIndex:"name"},{title:"\u526f\u6587\u6848",dataIndex:"copywriting"},{title:"\u884c\u7a0b\u5929\u6570",dataIndex:"days"},{title:"\u884c\u7a0b",dataIndex:"search",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CheckItinerary(t)}},"\u67e5\u770b\u884c\u7a0b"))}},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreateBasicProducts(t)}},"\u7f16\u8f91"))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getBasicProductsPage()}},{key:"render",value:function(){var e=this,t=this.props.resource.basicProductsPage,a={labelCol:{span:6},wrapperCol:{span:14}},r=this.props.form.getFieldDecorator,n=this.props.global.cityList;return l.a.createElement(yr.a,{title:"\u57fa\u7840\u4ea7\u54c1\u7ba1\u7406",bordered:!1,loading:this.state.loading},this.state.visible&&l.a.createElement(vr.a,{visible:this.state.visible,width:1400,onCancel:function(){return e.isCreateBasicProducts(!1)},footer:null},l.a.createElement(Xn,{data:this.state.currItem,onClose:function(){e.PropsInfo(!1),e.getBasicProductsPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),this.state.SeeItinerary&&l.a.createElement(vr.a,{visible:this.state.SeeItinerary,width:1400,onCancel:function(){return e.isCheckItinerary(!1)},footer:null},l.a.createElement(ni,{data:this.state.searchData,onClose:function(){e.PropsInfo(!1),e.getBasicProductsPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(ii,Object.assign({label:"\u57fa\u7840\u4ea7\u54c1\u540d\u79f0"},a,{className:"form-inline-item"}),r("name")(l.a.createElement(pr.a,{placeholder:"\u57fa\u7840\u4ea7\u54c1\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(ii,Object.assign({label:"\u641c\u7d22\u57ce\u5e02"},a,{className:"form-inline-item"}),r("city")(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u641c\u7d22\u57ce\u5e02"},n.map(function(e,t){return l.a.createElement(ci,{key:e.id,value:e.id},e.name)}))))),l.a.createElement(dr.a,{xl:10,md:24,sm:24,offset:2,style:{marginBottom:"10px"}},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch"},"\u67e5\u8be2"))))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,style:{marginBottom:"10px"}},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch",onClick:function(){e.CreateBasicProducts()}},"\u6dfb\u52a0\u57fa\u7840\u4ea7\u54c1")),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||Za)||Za,si=ur.a.create()(oi),li=a(1552),ui=a(1564),mi=a(1566),di=a(1563),pi=ur.a.Item,gi=(jr.a.RangePicker,wr.a.Option,Sr.a.Button,pr.a.TextArea,Sr.a.Group,Cr.a.Dragger,Object(u.b)("tourisms")($a=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||($t.tourisms.EditPrice(Object(E.a)({},t,{data:a.state.localDate}),a.props.content),a.props.form.resetFields(),a.setState({visible:!1}))})},a.dateCellRender=function(e){var t,r,n=a.props.content.type,i=a.props.content.period,c=_t()(e.valueOf()).day(),o=(_t()(e.valueOf()).format("YYYY-MM-DD")>=a.props.content.startTime&&(_t()(e.valueOf()).format("YYYY-MM-DD"),a.props.content.endTime),_t()(e.valueOf()).get("D"));return"1"===n?t=$t.tourisms.tourismSingle.bmTourProductDaysList[0]:"2"===n&&1===i?t=$t.tourisms.tourismSingle.bmTourProductDaysList.find(function(e){return _t()(e.data).day()===c}):"2"===n&&2===i?t=$t.tourisms.tourismSingle.bmTourProductDaysList.find(function(e){return _t()(e.data).get("D")===o}):"3"===n&&(t=$t.tourisms.tourismSingle.bmTourProductDaysList.find(function(t){return _t()(e.valueOf()).format("YYYY-MM-DD")===t.data})),r=!a.props.content.startTime||!a.props.content.endTime||_t()(e).format("YYYY-MM-DD")>=_t()(a.props.content.startTime).format("YYYY-MM-DD")&&_t()(e).format("YYYY-MM-DD")<=_t()(a.props.content.endTime).format("YYYY-MM-DD"),t&&r?l.a.createElement("ul",{className:"events"},l.a.createElement("li",{key:t.data},l.a.createElement("div",{style:{fontSize:"12px"}},l.a.createElement("div",null,l.a.createElement("span",null,"\u6210\u4eba\u4ef7:"),l.a.createElement("span",null,t.price,"\u5143")),l.a.createElement("div",null,l.a.createElement("span",null,"\u513f\u7ae5\u4ef7:"),l.a.createElement("span",null,t.childrenPrice,"\u5143")),l.a.createElement("div",null,l.a.createElement("span",null,"\u5a74\u513f\u4ef7:"),l.a.createElement("span",null,t.babyPrice,"\u5143"))))):null},a.onSelect=function(e){a.setState({localDate:_t()(e.valueOf()).format("YYYY-MM-DD")},function(){var t,r=$t.tourisms.tourismSingle.type,n=$t.tourisms.tourismSingle.period,i=_t()(e.valueOf()).day(),c=_t()(e.valueOf()).get("D");"1"===r?t=$t.tourisms.tourismSingle.bmTourProductDaysList[0]:"2"===r&&1===n?t=$t.tourisms.tourismSingle.bmTourProductDaysList.find(function(e){return _t()(e.data).day()===i}):"2"===r&&2===n?t=$t.tourisms.tourismSingle.bmTourProductDaysList.find(function(e){return _t()(e.data).get("D")===c}):"3"===r&&(t=$t.tourisms.tourismSingle.bmTourProductDaysList.find(function(t){return _t()(e.valueOf()).format("YYYY-MM-DD")===t.data})),a.props.form.setFieldsValue({data:a.state.localDate===t?t.data:0,price:a.state.localDate===t?t.price:0,childrenPrice:a.state.localDate===t?t.childrenPrice:0,babyPrice:a.state.localDate===t?t.babyPrice:0})}),a.showDrawer()},a.showDrawer=function(){a.setState({visible:!0})},a.onClose=function(){a.setState({visible:!1})},a.handleDate=function(e){return!(!a.props.content.startTime||!a.props.content.endTime)&&!(_t()(e).format("YYYY-MM-DD")>=_t()(a.props.content.startTime).format("YYYY-MM-DD")&&_t()(e).format("YYYY-MM-DD")<=_t()(a.props.content.endTime).format("YYYY-MM-DD"))},a.state={status:!0,visible:!1,localDate:"",CalendarDate:{},listData:[]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:14}};return l.a.createElement("div",{style:{width:800,border:"1px solid #d9d9d9",borderRadius:4}},l.a.createElement(mi.a,{dateCellRender:this.dateCellRender,onSelect:this.onSelect,disabledDate:this.handleDate}),l.a.createElement(di.a,{title:"\u8bbe\u7f6e\u4ef7\u683c",placement:"right",closable:!1,onClose:this.onClose,width:500,visible:this.state.visible},l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(pi,Object.assign({label:"\u6210\u4eba\u4ef7\u683c"},t,{className:"form-inline-item"}),e("price",{initialValue:0,rules:[{required:!0,message:"\u6210\u4eba\u4ef7\u683c"}]})(l.a.createElement(ui.a,{style:{width:150},placeholder:"\u8bf7\u8f93\u5165\u6210\u4eba\u4ef7\u683c"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(pi,Object.assign({label:"\u513f\u7ae5\u4ef7\u683c"},t,{className:"form-inline-item"}),e("childrenPrice",{initialValue:0,rules:[{required:!0,message:"\u513f\u7ae5\u4ef7\u683c"}]})(l.a.createElement(ui.a,{style:{width:150},placeholder:"\u8bf7\u8f93\u5165\u513f\u7ae5\u4ef7\u683c"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(pi,Object.assign({label:"\u5a74\u513f\u4ef7\u683c"},t,{className:"form-inline-item"}),e("babyPrice",{initialValue:0,rules:[{required:!0,message:"\u5a74\u513f\u4ef7\u683c"}]})(l.a.createElement(ui.a,{style:{width:150},placeholder:"\u8bf7\u8f93\u5165\u5a74\u513f\u4ef7\u683c"})))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,offset:6},l.a.createElement("div",{className:"submButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))))}}]),t}(l.a.Component))||$a),bi=ur.a.create()(gi),fi=(ur.a.Item,wr.a.Option,Object(u.b)("resource","global")(Xa=Object(u.c)(Xa=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getPicturePage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getPicturePage error");else{var n=Object(E.a)({},r);e.page||(e.page=1),1===e.page&&(e.ts=(new Date).valueOf()),e.page_size||(e.page_size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),"1"===a.props.type?$t.resource.getPicturePage({data:Object(E.a)({},n,{city:a.props.city,size:1e4,current:1}),callback:function(e){0===e.code&&a.setState({loading:!1})}}):$t.resource.getVideoPage({data:Object(E.a)({},n,{city:a.props.city,size:1e4,current:1}),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.showDrawer=function(){a.getPicturePage(),a.setState({visible:!0})},a.onClose=function(){a.setState({visible:!1})},a.onSelectChange=function(e,t){console.log("selectedRowKeys changed: ",t),a.setState({selectedRowKeys:e,selectedRows:t})},a.handleChange=function(){a.setState({visible:!1},function(){a.props.onChange&&a.props.onChange(a.state.selectedRows)})},a.state={loading:!0,visible:!1,currItem:{},selectedRowKeys:[],selectedRows:[],pagination:{total:20,pageSize:10,current:1},type:{2:"\u9152\u5e97",3:"\u57ce\u5e02",4:"\u666f\u70b9",5:"\u9910\u5385"},columns:[{title:"\u56fe\u7247",dataIndex:"url",render:function(e){return"1"===a.props.type?l.a.createElement(Cn,{alt:"img",src:e}):l.a.createElement("video",{style:{width:200},src:e})}},{title:"\u5206\u7c7b",dataIndex:"type",render:function(e,t){return l.a.createElement("span",null,a.state.type[e])}},{title:"\u57ce\u5e02",dataIndex:"city"},{title:"\u666f\u70b9/\u9152\u5e97/\u9910\u5385",dataIndex:"itemId"}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.city&&this.getPicturePage()}},{key:"render",value:function(){console.log("TCL: render -> this.props.city",this.props.city);var e={selectedRows:this.state,onChange:this.onSelectChange},t="1"===this.props.type?$t.resource.picturePage:$t.resource.videoPage,a=this.state.selectedRows.length>0;return l.a.createElement("div",{style:{marginTop:"4px"}},l.a.createElement(gr.a,{onClick:this.showDrawer},"\u9009\u62e9\u8d44\u6e90"),l.a.createElement(di.a,{title:"1"===this.props.type?"\u56fe\u7247\u8d44\u6e90":"\u89c6\u9891\u8d44\u6e90",placement:"right",closable:!1,onClose:this.onClose,visible:this.state.visible,width:700},l.a.createElement(gr.a,{type:"primary",onClick:this.handleChange,disabled:!a},"1"===this.props.type?"\u6dfb\u52a0\u56fe\u7247":"\u6dfb\u52a0\u8d44\u6e90 "),l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:!1,rowSelection:e})))}}]),t}(l.a.Component))||Xa)||Xa),hi=ur.a.create()(fi),yi=(a(1081),ur.a.Item),vi=(jr.a.RangePicker,wr.a.Option),Ei=(pr.a.TextArea,Sr.a.Group,Cr.a.Dragger,Object(u.b)("resource","tag")(er=Object(u.c)(er=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).ChangeList=function(e){var t=e.map(function(e){return e.response.data});console.log("TCL: ChangeList -> dataArray",t),a.setState({fileData:[].concat(Object(kn.a)(a.state.fileData),Object(kn.a)(t.map(function(e,t){return{wide:+e.width,high:+e.height,url:e.filename,format:1,limits:1,type:4}})))})},a.ChangeVideo=function(e){var t=e.map(function(e){return e.response.data});console.log("TCL: ChangeVideo -> dataArray",t),a.setState({fileData:[].concat(Object(kn.a)(a.state.fileData),Object(kn.a)(t.map(function(e,t){return{wide:+e.width,high:+e.height,url:e.filename,format:2,limits:1,type:3}})))})},a.ChangePicture=function(e){console.log("TCL: ChangePicture -> fileList",e),a.setState({fileData:[].concat(Object(kn.a)(a.state.fileData),Object(kn.a)(e.map(function(e,t){return{format:1,limits:2,type:3,high:e.high,wide:e.wide,url:e.url}})))})},a.DeleteSingle=function(e){a.setState({fileData:a.state.fileData.filter(function(t){return t!==e})})},a.clearPrice=function(){$t.tourisms.ClearPrice()},a.changeWeek=function(){$t.tourisms.ClearPrice()},a.ChangeEnd=function(){$t.tourisms.EditEndTime(a.props.form.getFieldValue("endTime"))},a.ChangeStart=function(){$t.tourisms.EditStartTime(a.props.form.getFieldValue("startTime"))},a.handleSubmit=function(e){e.preventDefault();var t=$t.tourisms.tourismSingle.bmTourProductDaysList.map(function(e,t){return{data:e.data,price:e.price,childrenPrice:e.childrenPrice,babyPrice:e.babyPrice}});a.props.form.validateFields(function(e,r){console.log("TCL: CreateTourism -> handleSubmit -> values",r),e||a.setState({everyDay:"1"===r.type?[{data:_t()(r.startTime.valueOf()).format("YYYY-MM-DD"),price:$t.tourisms.tourismSingle.bmTourProductDaysList[0].price,babyPrice:$t.tourisms.tourismSingle.bmTourProductDaysList[0].babyPrice,childrenPrice:$t.tourisms.tourismSingle.bmTourProductDaysList[0].childrenPrice}]:[]},function(){a.props.data?$t.tourisms.EditTourism({data:Object(E.a)({},r,{id:a.props.data.id,bmMaterialList:a.state.fileData.slice(-9),startTime:_t()(r.startTime.valueOf()).format("YYYY-MM-DD HH:mm:ss"),endTime:_t()(r.endTime.valueOf()).format("YYYY-MM-DD HH:mm:ss"),coverUrl:r.coverUrl[0].response.data.filename,bmTourProductDaysList:"1"===r.type?a.state.everyDay:t}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}):$t.tourisms.CreateTourism({data:Object(E.a)({},r,{bmMaterialList:a.state.fileData.slice(-9),startTime:_t()(r.startTime.valueOf()).format("YYYY-MM-DD HH:mm:ss"),endTime:_t()(r.endTime.valueOf()).format("YYYY-MM-DD HH:mm:ss"),coverUrl:r.coverUrl[0].response.data.filename,bmTourProductDaysList:"1"===r.type?a.state.everyDay:t}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}})})})},a.handleChange=function(e){var t=$t.resource.basicProductsPage.records.find(function(t){return t.id===e});a.props.form.setFieldsValue({title:t.name})},a.state={status:!0,fileData:[],loading:!0,everyDay:[],columns:[{title:"\u56fe\u7247",dataIndex:"url",render:function(e,t){return 1===t.format?l.a.createElement(Cn,{alt:"url",src:e}):l.a.createElement("video",{style:{width:200},src:e,controls:!0})}},{title:"\u56fe\u7247\u5bbd\u5ea6",dataIndex:"wide"},{title:"\u56fe\u7247\u9ad8\u5ea6",dataIndex:"high"},{title:"\u7f16\u8f91",dataIndex:"play",render:function(e,t){return l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u5220\u9664\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.DeleteSingle(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u5220\u9664"))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;$t.tourisms.ClearPrice(),this.props.data&&$t.tourisms.getTourismSingle({data:{id:this.props.data.id},callback:function(t){0===t.code&&(e.props.form.setFieldsValue({period:t.data.period,holiday:t.data.holiday,weekend:t.data.weekend}),e.setState({fileData:t.data.bmMaterialList,loading:!1}))}}),$t.tag.getTagPage({data:{}}),$t.resource.getPicturePage({data:{}}),$t.resource.getBasicProductsPage({data:{},callback:function(e){}})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=Object.assign({startTime:this.props.form.getFieldValue("startTime")},{endTime:this.props.form.getFieldValue("endTime")},{type:this.props.form.getFieldValue("type")},{holiday:this.props.form.getFieldValue("holiday")},{weekend:this.props.form.getFieldValue("weekend")},{period:this.props.form.getFieldValue("period")}),a=$t.resource.basicProductsPage,r=void 0!==this.props.data,n={labelCol:{span:6},wrapperCol:{span:14}},i=$t.tag.tagPage,c=$t.tourisms.tourismSingle,o=c.coverUrl,s=[{uid:"rc-upload-1574925611551-2",url:"img/15749256138437071375449767021574925617190.jpg",lastModified:1574400765576,lastModifiedDate:"2019-11-22T05:32:45.576Z",name:"b17123b76cb838e9cc2d291f5bf62ba8.jpg",size:1411649,type:"image/jpeg",percent:100,originFileObj:{uid:"rc-upload-1574925611551-2",url:"img/15749256138437071375449767021574925617190.jpg"},status:"done",thumbUrl:"",response:{code:0,msg:null,data:{filename:"http://miramartravel.oss-cn-shenzhen.aliyuncs.com/img/15749256138437071375449767021574925617190.jpg",size:"1411649",mimeType:"image/jpeg",width:"1920",height:"1080"}},xhr:{}}];return s.map(function(e,t){o&&(e.uid="16549861321684",e.url=o,console.log("TCL: CreateVideo -> render ->  url.split",o.split("com/")[1]),e.type="img/"+o.split("com/")[1].split(".")[1],e.originFileObj.uid="16549861321684",e.originFileObj.url=o,e.response.data.filename=o,e.response.data.mimeType="img/"+o.split("com/")[1].split(".")[1])}),l.a.createElement(yr.a,{bordered:!1,title:r?"\u7f16\u8f91\u65c5\u6e38\u4ea7\u54c1":"\u6dfb\u52a0\u65c5\u6e38\u4ea7\u54c1",className:"CreateMito",loading:!!r&&this.state.loading},l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{xs:8,sm:16,md:24}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(yi,Object.assign({label:"\u57fa\u7840\u4ea7\u54c1"},n,{className:"form-inline-item"}),e("baseProductId",{initialValue:r?c.baseProductId:void 0,rules:[{required:!0,whitespace:!0,message:"\u57fa\u7840\u4ea7\u54c1"}]})(l.a.createElement(wr.a,{style:{width:300},placeholder:"\u9009\u62e9\u57fa\u7840\u4ea7\u54c1",onChange:this.handleChange},a.records.map(function(e,t){return l.a.createElement(vi,{key:e.id,value:e.id},e.name)}))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(yi,Object.assign({label:"\u4ea7\u54c1\u540d\u79f0"},n,{className:"form-inline-item"}),e("title",{initialValue:r?c.title:"",rules:[{required:!0,whitespace:!0,message:"\u4ea7\u54c1\u540d\u79f0"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u4ea7\u54c1\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(yi,Object.assign({label:"\u6240\u5c5e\u6807\u7b7e"},n,{className:"form-inline-item"}),e("tagId",{initialValue:r?c.tagId:void 0,rules:[{required:!0,whitespace:!0,message:"\u6240\u5c5e\u6807\u7b7e"}]})(l.a.createElement(wr.a,{style:{width:300},placeholder:"\u9009\u62e9\u6240\u5c5e\u6807\u7b7e"},i.records.map(function(e,t){return l.a.createElement(vi,{key:e.id,value:e.id},e.title)}))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(yi,Object.assign({label:"\u4e0a\u67b6\u65f6\u95f4"},n,{className:"form-inline-item"}),e("startTime",{initialValue:r?_t()(Date.parse(c.startTime)):null,rules:[{required:!0,message:"\u4e0a\u67b6\u65f6\u95f4"}]})(l.a.createElement(jr.a,{showTime:!0,format:"YYYY-MM-DD HH:mm",placeholder:"\u4e0a\u67b6\u65f6\u95f4",onOk:this.ChangeStart})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(yi,Object.assign({label:"\u4e0b\u67b6\u65f6\u95f4"},n,{className:"form-inline-item"}),e("endTime",Object(E.a)({},r&&c.endTime?{initialValue:_t()(Date.parse(c.endTime))}:{},{rules:[{required:!0,message:"\u4e0b\u67b6\u65f6\u95f4"}]}))(l.a.createElement(jr.a,{showTime:!0,format:"YYYY-MM-DD HH:mm",placeholder:"\u4e0b\u67b6\u65f6\u95f4",onOk:this.ChangeEnd})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(yi,Object.assign({label:"\u63d0\u524d\u5173\u95ed\u65f6\u95f4"},n,{className:"form-inline-item"}),e("howDays",{initialValue:r?c.howDays:void 0,rules:[{required:!0,message:"\u63d0\u524d\u5173\u95ed\u65f6\u95f4"}]})(l.a.createElement(ui.a,{style:{width:180},placeholder:"\u8bf7\u8f93\u5165\u63d0\u524d\u5173\u95ed\u65f6\u95f4",min:0,max:100,step:1})),"\u5929")),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(yi,Object.assign({label:l.a.createElement("span",null,"\u4e0a\u4f20\u5c01\u9762\xa0",l.a.createElement(Vn.a,{title:"\u53ea\u80fd\u4e0a\u4f20\u4e00\u4e2a\u5c01\u9762\uff01\uff01\uff01"},l.a.createElement(pa.a,{type:"info-circle"})))},n,{className:"form-inline-item"}),e("coverUrl",{initialValue:r?s:[],rules:[{required:!0,message:"\u9009\u62e9\u56fe\u7247"}]})(l.a.createElement(xn,{type:"1",isShowUploadList:!0,uploadNumber:1})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(yi,Object.assign({label:l.a.createElement("span",null,"\u4e0a\u4f20\u8f6e\u64ad\xa0",l.a.createElement(Vn.a,{title:"\u8f6e\u64ad\u89c6\u9891\u52a0\u56fe\u7247\u4e0d\u8d85\u8fc79\u4e2a\uff01\uff01\uff01"},l.a.createElement(pa.a,{type:"info-circle"})))},n,{className:"form-inline-item"}),l.a.createElement("div",{style:{marginLeft:"20px",listStyle:"none",float:"left"}},l.a.createElement(xn,{onChange:this.ChangeList,type:"1",isShowUploadList:!1})),l.a.createElement("div",{style:{marginLeft:"20px",listStyle:"none",float:"left"}},l.a.createElement(hi,{onChange:this.ChangePicture,type:"1"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(yi,Object.assign({label:"\u8f6e\u64ad\u56fe\u7247"},n,{className:"form-inline-item"}),l.a.createElement(Or.a,{columns:this.state.columns,bordered:!1,dataSource:this.state.fileData.slice(-9),pagination:!1}))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(yi,Object.assign({label:"\u51fa\u56e2\u7c7b\u578b"},n,{className:"form-inline-item"}),e("type",{initialValue:r?c.type:"1",rules:[{required:!0,message:"\u51fa\u56e2\u7c7b\u578b"}]})(l.a.createElement(Sr.a.Group,{onChange:this.clearPrice},l.a.createElement(Sr.a,{value:"1"},"\u6bcf\u65e5\u51fa\u56e2"),l.a.createElement(Sr.a,{value:"2"},"\u5468\u671f\u51fa\u56e2"),l.a.createElement(Sr.a,{value:"3"},"\u975e\u5468\u671f\u51fa\u56e2"))))),"2"===this.props.form.getFieldValue("type")&&l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(yi,Object.assign({label:"\u5468\u671f\u7c7b\u578b"},n,{className:"form-inline-item"}),e("period",{initialValue:void 0,rules:[{required:!0,message:"\u51fa\u56e2\u7c7b\u578b"}]})(l.a.createElement(Sr.a.Group,{onChange:this.changeWeek},l.a.createElement(Sr.a,{value:1},"\u6bcf\u5468\u51fa\u56e2"),l.a.createElement(Sr.a,{value:2},"\u6bcf\u6708\u51fa\u56e2"))))),"3"!==this.props.form.getFieldValue("type")&&l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(yi,Object.assign({label:"\u8282\u5047\u65e5\u7167\u5e38\u53d1\u56e2"},n,{className:"form-inline-item"}),e("holiday",{initialValue:void 0,rules:[{required:!0,message:"\u8282\u5047\u65e5\u7167\u5e38\u53d1\u56e2"}]})(l.a.createElement(Sr.a.Group,null,l.a.createElement(Sr.a,{value:1},"\u662f"),l.a.createElement(Sr.a,{value:2},"\u5426"))))),("1"===this.props.form.getFieldValue("type")||2===this.props.form.getFieldValue("period"))&&l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(yi,Object.assign({label:"\u5468\u672b\u7167\u5e38\u53d1\u56e2"},n,{className:"form-inline-item"}),e("weekend",{initialValue:void 0,rules:[{required:!0,message:"\u5468\u672b\u7167\u5e38\u53d1\u56e2"}]})(l.a.createElement(Sr.a.Group,null,l.a.createElement(Sr.a,{value:1},"\u662f"),l.a.createElement(Sr.a,{value:2},"\u5426"))))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(yi,Object.assign({label:"\u4ef7\u683c\u65e5\u5386"},n,{className:"form-inline-item"}),l.a.createElement(bi,{data:r?c.bmTourProductDaysList:[],content:t}))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,offset:6},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",onClick:this.handleSubmit},"\u786e\u5b9a"))))}}]),t}(s.Component))||er)||er),Oi=ur.a.create()(Ei),ji=Object(u.b)("tourisms")(tr=Object(u.c)(tr=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getCalendarPrice=function(){$t.tourisms.getCalendarPrice({data:{tourProductId:a.props.data.id,current:1,size:1e3},callback:function(e){a.setState({dataSource:e.data.records})}})},a.dateCellRender=function(e){var t=_t()(e.valueOf()).format("YYYY-MM-DD"),r=a.state.dataSource.find(function(e){return e.data===t});return r?l.a.createElement("ul",{className:"events"},l.a.createElement("li",{key:r.data},l.a.createElement("div",{style:{fontSize:"12px"}},l.a.createElement("div",null,l.a.createElement("span",null,"\u6210\u4eba\u4ef7:"),l.a.createElement("span",null,r.price,"\u5143")),l.a.createElement("div",null,l.a.createElement("span",null,"\u513f\u7ae5\u4ef7:"),l.a.createElement("span",null,r.childrenPrice,"\u5143")),l.a.createElement("div",null,l.a.createElement("span",null,"\u5a74\u513f\u4ef7:"),l.a.createElement("span",null,r.babyPrice,"\u5143"))))):null},a.state={dataSource:[]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getCalendarPrice()}},{key:"render",value:function(){return l.a.createElement(yr.a,{title:"\u51fa\u56e2\u65e5\u671f/\u4ef7\u683c",bordered:!1},l.a.createElement(mi.a,{dateCellRender:this.dateCellRender}))}}]),t}(s.Component))||tr)||tr,wi=Object(u.b)("tourisms")(ar=Object(u.c)(ar=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).DeleteSingle=function(e){$t.tourisms.DeleteImage({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success("\u5220\u9664\u6210\u529f"),a.getPicturePage()):_r.a.success("\u5220\u9664\u5931\u8d25")}})},a.getPicturePage=function(){$t.tourisms.getOwnPictures({data:{itemId:a.props.data.id,current:1,size:100,type:4}})},a.state={columns:[{title:"\u56fe\u7247",dataIndex:"url",render:function(e,t){return 1===t.format?l.a.createElement(Cn,{alt:"url",src:e}):l.a.createElement("video",{style:{width:200},src:e,controls:!0})}},{title:"\u56fe\u7247\u5bbd\u5ea6",dataIndex:"wide"},{title:"\u56fe\u7247\u9ad8\u5ea6",dataIndex:"high"},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u5220\u9664\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.DeleteSingle(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u5220\u9664"))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getPicturePage()}},{key:"render",value:function(){var e=$t.tourisms.ownPicturePage;return l.a.createElement(yr.a,{title:"\u56fe\u96c6",bordered:!1},l.a.createElement(Or.a,{columns:this.state.columns,bordered:!1,dataSource:e.records,pagination:!1}))}}]),t}(s.Component))||ar)||ar,Si=ur.a.Item,Ci=wr.a.Option,Pi=Object(u.b)("tourisms","global")(rr=Object(u.c)(rr=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).SetRecommend=function(e,t){a.props.tourisms.EditRecommend({data:{id:e.id,recommend:t},callback:function(e){0===e.code&&(_r.a.success("\u64cd\u4f5c\u6210\u529f"),a.getTourismPage())}})},a.isUp=function(e,t){a.props.tourisms.EditUpDown({data:{id:e.id,state:t},callback:function(e){0===e.code&&a.getTourismPage()}})},a.getTourismPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getTourismPage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.page_size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.tourisms.getTourismPage({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.DeleteSingle=function(e){a.props.tourisms.DeleteTourism({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getTourismPage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.EnableShutdown=function(e){},a.CalendarPrice=function(e){a.isCalendarPrice(!0),a.setState({calendarData:e})},a.isCalendarPrice=function(e){a.setState({showCalendar:e})},a.ShowPicture=function(e){a.isShowPicture(!0),a.setState({dataShow:e})},a.isShowPicture=function(e){a.setState({isShow:e})},a.isCreateHotel=function(e){a.setState({visible:e})},a.CreateHotel=function(e){a.isCreateHotel(!0),a.setState({currItem:e})},a.PropsInfo=function(e){a.isCreateHotel(!1),a.isShowPicture(!1),a.isCalendarPrice(!1)},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getTourismPage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getTourismPage(t)})},a.state={loading:!0,visible:!1,currItem:{},isShow:!1,dataShow:{},calendarData:{},showCalendar:!1,statusMaps:{1:"\u4e0a\u67b6",2:"\u4e0b\u67b6"},recommendMaps:{0:"\u4e0d\u63a8\u8350",1:"\u63a8\u8350"},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u4ea7\u54c1\u540d\u79f0",dataIndex:"title"},{title:"\u6240\u5c5e\u6807\u7b7e",dataIndex:"tagId"},{title:"\u56fe\u7247",dataIndex:"star",render:function(e,t){return l.a.createElement("span",null,t.bmMaterialCount,"\u4e2a",l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.ShowPicture(t)}},"\u67e5\u770b"))}},{title:"\u51fa\u56e2\u65e5\u671f/\u4ef7\u683c",dataIndex:"start",render:function(e,t){return l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CalendarPrice(t)}},"\u67e5\u770b")}},{title:"\u4e0a\u67b6\u65f6\u95f4",dataIndex:"startTime"},{title:"\u4e0b\u67b6\u65f6\u95f4",dataIndex:"endTime"},{title:"\u63a8\u8350",dataIndex:"recommend",render:function(e,t){return l.a.createElement("span",null,a.state.recommendMaps[e])}},{title:"\u72b6\u6001",dataIndex:"state",render:function(e,t){return l.a.createElement("span",null,a.state.statusMaps[e])}},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreateHotel(t)}},"\u7f16\u8f91"),l.a.createElement(li.a,{type:"vertical"}),l.a.createElement(Nr.a,{title:"\u8bbe\u7f6e\u4e3a\u70ed\u95e8\u63a8\u8350\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.SetRecommend(t,0===t.recommend?1:0)}},l.a.createElement("a",{href:"javacript:void(0);"},0===t.recommend?"\u8bbe\u4e3a\u63a8\u8350":"\u53d6\u6d88\u63a8\u8350")),l.a.createElement(li.a,{type:"vertical"}),l.a.createElement(Nr.a,{title:"\u8bbe\u7f6e\u4e0a/\u4e0b\u67b6\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.isUp(t,2===t.state?1:2)}},l.a.createElement("a",{href:"javacript:void(0);"},2===t.state?"\u4e0a\u67b6":"\u4e0b\u67b6")))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getTourismPage()}},{key:"render",value:function(){var e=this,t=this.props.tourisms.tourismPage,a={labelCol:{span:6},wrapperCol:{span:14}},r=this.props.form.getFieldDecorator;this.props.global.cityList;return l.a.createElement(yr.a,{title:"\u65c5\u6e38\u4ea7\u54c1\u7ba1\u7406",bordered:!1,loading:this.state.loading},this.state.visible&&l.a.createElement(vr.a,{visible:this.state.visible,width:1300,onCancel:function(){return e.isCreateHotel(!1)},footer:null},l.a.createElement(Oi,{data:this.state.currItem,onClose:function(){e.PropsInfo(!1),e.getTourismPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),this.state.isShow&&l.a.createElement(vr.a,{visible:this.state.isShow,width:1300,onCancel:function(){return e.isShowPicture(!1)},footer:null},l.a.createElement(wi,{data:this.state.dataShow,onClose:function(){e.PropsInfo(!1),e.getTourismPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),this.state.showCalendar&&l.a.createElement(vr.a,{visible:this.state.showCalendar,width:1300,onCancel:function(){return e.isCalendarPrice(!1)},footer:null},l.a.createElement(ji,{data:this.state.calendarData,onClose:function(){e.PropsInfo(!1),e.getTourismPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(Si,Object.assign({label:"\u65c5\u6e38\u4ea7\u54c1\u540d\u79f0"},a,{className:"form-inline-item"}),r("title")(l.a.createElement(pr.a,{placeholder:"\u65c5\u6e38\u4ea7\u54c1\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(Si,Object.assign({label:"\u641c\u7d22\u72b6\u6001"},a,{className:"form-inline-item"}),r("state")(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u641c\u7d22\u72b6\u6001"},l.a.createElement(Ci,{value:1},"\u4e0a\u67b6"),l.a.createElement(Ci,{value:2},"\u4e0b\u67b6"))))),l.a.createElement(dr.a,{xl:10,md:24,sm:24,offset:2,style:{marginBottom:"10px"}},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch"},"\u67e5\u8be2"))))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,style:{marginBottom:"10px"}},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch",onClick:function(){e.CreateHotel()}},"\u6dfb\u52a0\u65c5\u6e38\u4ea7\u54c1")),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||rr)||rr,ki=ur.a.create()(Pi),xi=ur.a.Item,Ti=(jr.a.RangePicker,wr.a.Option),Di=(Sr.a.Button,pr.a.TextArea,Sr.a.Group,Cr.a.Dragger,Object(u.b)("tag")(nr=Object(u.c)(nr=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(a.props.data?$t.tag.EditTag({data:Object(E.a)({id:a.props.data.id},t,{startTime:""!==t.startTime?_t()(t.startTime.valueOf()).format("YYYY-MM-DD HH:mm:ss"):"",endTime:""!==t.endTime?_t()(t.endTime.valueOf()).format("YYYY-MM-DD HH:mm:ss"):""}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}):$t.tag.CreateTag({data:Object(E.a)({},t,{startTime:""!==t.startTime?_t()(t.startTime.valueOf()).format("YYYY-MM-DD HH:mm:ss"):"",endTime:""!==t.endTime?_t()(t.endTime.valueOf()).format("YYYY-MM-DD HH:mm:ss"):""}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}))})},a.state={status:!0},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.data&&$t.tag.getTagSingle({data:{id:this.props.data.id}})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=($t.global.cityList,void 0!==this.props.data),a={labelCol:{span:6},wrapperCol:{span:14}},r=$t.tag.tagSingle;return l.a.createElement(yr.a,{bordered:!1,title:t?"\u7f16\u8f91\u9996\u9875\u6807\u7b7e":"\u6dfb\u52a0\u9996\u9875\u6807\u7b7e",className:"CreateMito"},l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{xs:8,sm:16,md:24}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(xi,Object.assign({label:"\u6807\u7b7e\u540d\u79f0"},a,{className:"form-inline-item"}),e("title",{initialValue:t?r.title:"",rules:[{required:!0,whitespace:!0,message:"\u6807\u7b7e\u540d\u79f0"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u6807\u7b7e\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(xi,Object.assign({label:"\u526f\u6807\u9898\u540d\u79f0"},a,{className:"form-inline-item"}),e("subtitle",{initialValue:t?r.subtitle:"",rules:[{required:!0,whitespace:!0,message:"\u526f\u6807\u9898\u540d\u79f0"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u526f\u6807\u9898\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(xi,Object.assign({label:"\u4f4d\u7f6e"},a,{className:"form-inline-item"}),e("sort",{initialValue:t?r.sort:void 0,rules:[{required:!0,message:"\u4f4d\u7f6e"}]})(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u4f4d\u7f6e"},l.a.createElement(Ti,{value:1},"1"),l.a.createElement(Ti,{value:2},"2"),l.a.createElement(Ti,{value:3},"3"),l.a.createElement(Ti,{value:4},"4"),l.a.createElement(Ti,{value:5},"5"),l.a.createElement(Ti,{value:6},"6"),l.a.createElement(Ti,{value:7},"7"),l.a.createElement(Ti,{value:8},"8"),l.a.createElement(Ti,{value:9},"9"),l.a.createElement(Ti,{value:10},"10"))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(xi,Object.assign({label:"\u4e0a\u67b6\u65f6\u95f4"},a,{className:"form-inline-item"}),e("startTime",{initialValue:t?_t()(Date.parse(r.startTime)):null,rules:[{required:!0,message:"\u4e0a\u67b6\u65f6\u95f4"}]})(l.a.createElement(jr.a,{showTime:!0,format:"YYYY-MM-DD HH:mm",placeholder:"\u4e0a\u67b6\u65f6\u95f4"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(xi,Object.assign({label:"\u4e0b\u67b6\u65f6\u95f4"},a,{className:"form-inline-item"}),e("endTime",Object(E.a)({},t&&r.endTime?{initialValue:_t()(Date.parse(r.endTime))}:{},{rules:[{required:!1,message:"\u4e0b\u67b6\u65f6\u95f4"}]}))(l.a.createElement(jr.a,{showTime:!0,format:"YYYY-MM-DD HH:mm",placeholder:"\u4e0b\u67b6\u65f6\u95f4"})))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,offset:6},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))))}}]),t}(s.Component))||nr)||nr);ur.a;var Ii,zi=ur.a.create()(Di),Mi=(ur.a.Item,wr.a.Option,Object(u.b)("tag")(Ii=Object(u.c)(Ii=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getTagPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getTagPage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.tag.getTagPage({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.DeleteSingle=function(e){a.props.tag.DeleteTag({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getTagPage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.EditState=function(e){a.props.tag.EditState({data:{id:e.id,state:2===e.state?1:2},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getTagPage()):(_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25"),a.getTagPage())}})},a.isCreateTag=function(e){a.setState({visible:e})},a.CreateTag=function(e){a.isCreateTag(!0),a.setState({currItem:e})},a.PropsInfo=function(e){a.isCreateTag(!1)},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getTagPage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getTagPage(t)})},a.state={loading:!0,visible:!1,currItem:{},stateMaps:{1:"\u4e0a\u67b6",2:"\u4e0b\u67b6"},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u6807\u7b7e\u540d\u79f0",dataIndex:"title"},{title:"\u526f\u6807\u9898",dataIndex:"subtitle"},{title:"\u4f4d\u7f6e",dataIndex:"sort"},{title:"\u4e0a\u67b6\u65f6\u95f4",dataIndex:"startTime"},{title:"\u4e0b\u67b6\u65f6\u95f4",dataIndex:"endTime"},{title:"\u72b6\u6001",dataIndex:"state",render:function(e,t){return l.a.createElement("span",null,a.state.stateMaps[e])}},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreateTag(t)}},"\u7f16\u8f91"),l.a.createElement(li.a,{type:"vertical"}),2===t.state&&l.a.createElement("span",null,l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u4e0a\u67b6\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.EditState(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u4e0a\u67b6"))),1===t.state&&l.a.createElement("span",null,l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u4e0b\u67b6\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.EditState(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u4e0b\u67b6"))))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getTagPage()}},{key:"render",value:function(){var e=this,t=this.props.tag.tagPage;this.props.form.getFieldDecorator;return l.a.createElement(yr.a,{title:"\u9996\u9875\u6807\u7b7e\u7ba1\u7406",bordered:!1,loading:this.state.loading},this.state.visible&&l.a.createElement(vr.a,{visible:this.state.visible,width:1100,onCancel:function(){return e.isCreateTag(!1)},footer:null},l.a.createElement(zi,{data:this.state.currItem,onClose:function(){e.PropsInfo(!1),e.getTagPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(dr.a,{xl:12,md:24,sm:24,style:{marginBottom:"10px"}},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch",onClick:function(){e.CreateTag()}},"\u6dfb\u52a0\u9996\u9875\u6807\u7b7e")),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||Ii)||Ii),Ni=ur.a.create()(Mi);a(378),a(296),a(1512);var Li,Ri=a(1514);Ri.enc.Utf8.parse("2zxmiramartravel"),Ri.enc.Utf8.parse("2zxmiramartravel");function Vi(e){return e.includes("http")?e:"https://"+e}var Ui=ur.a.Item,Bi=(jr.a.RangePicker,wr.a.Option),Fi=(Sr.a.Button,pr.a.TextArea,Sr.a.Group,Cr.a.Dragger,Object(u.b)("advertisement")(Li=Object(u.c)(Li=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(a.props.data?$t.advertisement.EditAdvert({data:Object(E.a)({id:a.props.data.id},t,{startTime:""!==t.startTime?_t()(t.startTime.valueOf()).format("YYYY-MM-DD HH:mm:ss"):"",endTime:""!==t.endTime?_t()(t.endTime.valueOf()).format("YYYY-MM-DD HH:mm:ss"):"",url:t.url[0].response.data.filename,jumpUrl:t.jumpUrl?Vi(t.jumpUrl):""}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}):$t.advertisement.CreateAdvert({data:Object(E.a)({},t,{startTime:""!==t.startTime?_t()(t.startTime.valueOf()).format("YYYY-MM-DD HH:mm:ss"):"",endTime:""!==t.endTime?_t()(t.endTime.valueOf()).format("YYYY-MM-DD HH:mm:ss"):"",url:t.url[0].response.data.filename,jumpUrl:t.jumpUrl?Vi(t.jumpUrl):""}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}))})},a.handleChangeCity=function(e){a.setState({cityId:e},function(){a.props.form.setFieldsValue({itemId:void 0})})},a.handleChangeJump=function(e){a.setState({jump:e,cityId:""},function(){a.props.form.setFieldsValue({cityId:void 0,itemId:void 0})})},a.state={status:!0,loading:!0,jump:0,cityId:""},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark(function e(){var t=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t.global.getCityList({data:{current:1,size:1e4}});case 2:return e.next=4,$t.tag.getTagPage({data:{current:1,size:1e4,state:1}});case 4:return e.next=6,$t.strategy.getCityStrategyPage({data:{current:1,size:1e4,state:1}});case 6:return e.next=8,$t.strategy.getPictureStrategyPage({data:{current:1,size:1e4,state:1}});case 8:return e.next=10,$t.strategy.getVideoStrategyPage({data:{current:1,size:1e4,state:1}});case 10:return e.next=12,$t.tourisms.getTourismPage({data:{current:1,size:1e4,state:1}});case 12:return e.next=14,this.props.data;case 14:if(e.t0=e.sent,!e.t0){e.next=17;break}$t.advertisement.getAdvertisementSingle({data:{id:this.props.data.id},callback:function(e){0===e.code&&t.setState({loading:!1,jump:e.data.jump,cityId:e.data.cityId})}});case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=$t.global.cityList,r=$t.tag.tagPage.records,n=void 0!==this.props.data,i={labelCol:{span:6},wrapperCol:{span:14}},c=$t.advertisement.advertisementSingle,o=$t.strategy.cityStraegyPage.records.map(function(e){return Object(E.a)({},e,{jumpType:1})}),s=$t.strategy.pictureStraegyPage.records.map(function(e){return Object(E.a)({},e,{jumpType:2})}),u=$t.strategy.videoStraegyPage.records.map(function(e){return Object(E.a)({},e,{jumpType:3})}),m=$t.tourisms.tourismPage.records.map(function(e){return Object(E.a)({},e,{jumpType:4})}),d=[].concat(Object(kn.a)(o),Object(kn.a)(s),Object(kn.a)(u),Object(kn.a)(m)),p=c.url,g=[{uid:"rc-upload-1574925611551-2",url:"img/15749256138437071375449767021574925617190.jpg",lastModified:1574400765576,lastModifiedDate:"2019-11-22T05:32:45.576Z",name:"b17123b76cb838e9cc2d291f5bf62ba8.jpg",size:1411649,type:"image/jpeg",percent:100,originFileObj:{uid:"rc-upload-1574925611551-2",url:"img/15749256138437071375449767021574925617190.jpg"},status:"done",thumbUrl:"",response:{code:0,msg:null,data:{filename:"http://miramartravel.oss-cn-shenzhen.aliyuncs.com/img/15749256138437071375449767021574925617190.jpg",size:"1411649",mimeType:"image/jpeg",width:"1920",height:"1080"}},xhr:{}}];return g.map(function(e,t){p&&(e.uid="16549861321684",e.url=p,e.type="img/"+p.split("com/")[1].split(".")[1],e.originFileObj.uid="16549861321684",e.originFileObj.url=p,e.response.data.filename=p,e.response.data.mimeType="img/"+p.split("com/")[1].split(".")[1])}),l.a.createElement(yr.a,{bordered:!1,loading:!!this.props.data&&this.state.loading,title:n?"\u7f16\u8f91\u5e7f\u544a":"\u6dfb\u52a0\u5e7f\u544a",className:"CreateMito"},l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{xs:8,sm:16,md:24}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Ui,Object.assign({label:"\u6807\u9898"},i,{className:"form-inline-item"}),t("title",{initialValue:n?c.title:"",rules:[{required:!0,whitespace:!0,message:"\u6807\u9898"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Ui,Object.assign({label:"\u4f4d\u7f6e"},i,{className:"form-inline-item"}),t("position",{initialValue:n?c.position:void 0,rules:[{required:!0,message:"\u4f4d\u7f6e"}]})(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u4f4d\u7f6e"},l.a.createElement(Bi,{value:1},"\u542f\u52a8\u9875"),l.a.createElement(Bi,{value:2},"\u9996\u9875"))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Ui,Object.assign({label:"\u4e0a\u67b6\u65f6\u95f4"},i,{className:"form-inline-item"}),t("startTime",{initialValue:n?_t()(Date.parse(c.startTime)):null,rules:[{required:!0,message:"\u4e0a\u67b6\u65f6\u95f4"}]})(l.a.createElement(jr.a,{showTime:!0,format:"YYYY-MM-DD HH:mm",placeholder:"\u4e0a\u67b6\u65f6\u95f4"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Ui,Object.assign({label:"\u4e0b\u67b6\u65f6\u95f4"},i,{className:"form-inline-item"}),t("endTime",Object(E.a)({},n&&c.endTime?{initialValue:_t()(Date.parse(c.endTime))}:{},{rules:[{required:!1,message:"\u4e0b\u67b6\u65f6\u95f4"}]}))(l.a.createElement(jr.a,{showTime:!0,format:"YYYY-MM-DD HH:mm",placeholder:"\u4e0b\u67b6\u65f6\u95f4"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Ui,Object.assign({label:"\u56fe\u7247"},i,{className:"form-inline-item"}),t("url",{initialValue:n?g:[],rules:[{required:!0,message:"\u9009\u62e9\u56fe\u7247"}]})(l.a.createElement(xn,{type:"1",isShowUploadList:!0})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Ui,Object.assign({label:"\u8df3\u8f6c"},i,{className:"form-inline-item"}),t("jump",{initialValue:n?c.jump:void 0,rules:[{required:!0,message:"\u8df3\u8f6c"}]})(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u8df3\u8f6c",onChange:this.handleChangeJump},l.a.createElement(Bi,{value:1},"\u57ce\u5e02\u653b\u7565"),l.a.createElement(Bi,{value:2},"\u56fe\u96c6\u653b\u7565"),l.a.createElement(Bi,{value:3},"\u89c6\u9891\u653b\u7565"),l.a.createElement(Bi,{value:4},"\u65c5\u6e38\u4ea7\u54c1"),l.a.createElement(Bi,{value:5},"\u94fe\u63a5"))))),(1===this.state.jump||2===this.state.jump||3===this.state.jump)&&l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Ui,Object.assign({label:"\u8df3\u8f6c\u57ce\u5e02"},i,{className:"form-inline-item"}),t("cityId",{initialValue:n?c.cityId:void 0,rules:[{required:!0,message:"\u8df3\u8f6c\u57ce\u5e02"}]})(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u8df3\u8f6c\u57ce\u5e02",onChange:this.handleChangeCity},a.map(function(e){return l.a.createElement(Bi,{key:e.id,value:e.id},e.name)}))))),4===this.state.jump&&l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Ui,Object.assign({label:"\u8df3\u8f6c\u6807\u7b7e"},i,{className:"form-inline-item"}),t("cityId",{initialValue:n?c.cityId:void 0,rules:[{required:!0,message:"\u8df3\u8f6c\u6807\u7b7e"}]})(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u8df3\u8f6c\u6807\u7b7e",onChange:this.handleChangeCity},r.map(function(e){return l.a.createElement(Bi,{key:e.id,value:e.id},e.title)}))))),5!==this.state.jump&&this.state.cityId&&l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Ui,Object.assign({label:"\u5bf9\u5e94\u4ea7\u54c1"},i,{className:"form-inline-item"}),t("itemId",{initialValue:n?c.itemId:void 0,rules:[{required:!0,message:"\u5bf9\u5e94\u4ea7\u54c1"}]})(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u5bf9\u5e94\u4ea7\u54c1"},d.map(function(t){return t.jumpType===e.props.form.getFieldValue("jump")&&(e.props.form.getFieldValue("cityId")===t.cityValue||e.props.form.getFieldValue("cityId")===t.tagValue)&&l.a.createElement(Bi,{key:t.id,value:t.id}," ",t.title||t.name)}))))),5===this.state.jump&&l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Ui,Object.assign({label:"\u8df3\u8f6c\u94fe\u63a5"},i,{className:"form-inline-item"}),t("jumpUrl",{initialValue:n?c.jumpUrl:void 0,rules:[{required:!0,message:"\u8df3\u8f6c"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u8df3\u8f6c\u94fe\u63a5",style:{width:"200px"}})))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,offset:6},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))))}}]),t}(s.Component))||Li)||Li);ur.a;var _i,Ai,Yi,qi,Hi,Ki,Gi,Ji,Qi,Wi,Zi,$i,Xi,ec,tc,ac=ur.a.create()(Fi),rc=ur.a.Item,nc=wr.a.Option,ic=Object(u.b)("advertisement")(_i=Object(u.c)(_i=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getAdvertisementPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getTagPage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.advertisement.getAdvertisementPage({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.DeleteSingle=function(e){a.props.advertisement.DeleteAdvertisement({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getAdvertisementPage()):(_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25"),a.getAdvertisementPage())}})},a.isCreateAdvert=function(e){a.setState({visible:e})},a.CreateAdvert=function(e){a.isCreateAdvert(!0),a.setState({currItem:e})},a.PropsInfo=function(e){a.isCreateAdvert(!1)},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getAdvertisementPage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getAdvertisementPage(t)})},a.state={loading:!0,visible:!1,currItem:{},positionMaps:{1:"\u542f\u52a8\u9875",2:"\u9996\u9875"},stateMaps:{1:"\u5f85\u663e\u793a",2:"\u663e\u793a",3:"\u9690\u85cf"},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u6807\u9898",dataIndex:"title"},{title:"\u4f4d\u7f6e",dataIndex:"position",render:function(e,t){return l.a.createElement("span",null,a.state.positionMaps[e])}},{title:"\u56fe\u7247",dataIndex:"url",render:function(e){return l.a.createElement(Cn,{alt:"img",src:e})}},{title:"\u8df3\u8f6c",dataIndex:"jumpUrl"},{title:"\u5f00\u59cb\u65f6\u95f4",dataIndex:"startTime"},{title:"\u7ed3\u675f\u65f6\u95f4",dataIndex:"endTime"},{title:"\u72b6\u6001",dataIndex:"state",render:function(e,t){return l.a.createElement("span",null,a.state.stateMaps[e])}},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreateAdvert(t)}},"\u7f16\u8f91"),l.a.createElement(li.a,{type:"vertical"}))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getAdvertisementPage()}},{key:"render",value:function(){var e=this,t=this.props.advertisement.advertisementPage,a={labelCol:{span:6},wrapperCol:{span:14}},r=this.props.form.getFieldDecorator;return l.a.createElement(yr.a,{title:"\u5e7f\u544a\u7ba1\u7406",bordered:!1,loading:this.state.loading},this.state.visible&&l.a.createElement(vr.a,{visible:this.state.visible,width:1100,onCancel:function(){return e.isCreateAdvert(!1)},footer:null},l.a.createElement(ac,{data:this.state.currItem,onClose:function(){e.PropsInfo(!1),e.getAdvertisementPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(rc,Object.assign({label:"\u6807\u9898"},a,{className:"form-inline-item"}),r("name")(l.a.createElement(pr.a,{placeholder:"\u6807\u9898"})))),l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(rc,Object.assign({label:"\u72b6\u6001"},a,{className:"form-inline-item"}),r("state")(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u72b6\u6001"},l.a.createElement(nc,{key:1,value:1},"\u5f85\u663e\u793a"),l.a.createElement(nc,{key:2,value:2},"\u663e\u793a"),l.a.createElement(nc,{key:3,value:3},"\u9690\u85cf"))))),l.a.createElement(dr.a,{xl:10,md:24,sm:24,offset:2,style:{marginBottom:"10px"}},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch"},"\u67e5\u8be2"))))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,style:{marginBottom:"10px"}},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch",onClick:function(){e.CreateAdvert()}},"\u6dfb\u52a0\u5e7f\u544a")),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||_i)||_i,cc=ur.a.create()(ic),oc=a(1569),sc=a(1553),lc=(wr.a.Option,ur.a.Item,Object(u.b)("global")(Ai=Object(u.c)(Ai=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).onSelectChange=function(e,t){a.setState({selectedRow:t,selectedRowKeys:e})},a.showDrawer=function(){a.setState({visible:!0,selectedRow:a.props.value,selectedRowKeys:a.props.value.map(function(e){return e.tourProductId})},function(){console.log("selectedRow",a.state.selectedRow,a.state.selectedRowKeys)})},a.onClose=function(){a.setState({visible:!1})},a.CheckSelect=function(){a.setState({visible:!1},function(){a.props.onChange&&a.props.onChange(a.state.selectedRow)})},a.state={visible:!1,columns:[{title:"\u56fe\u7247",dataIndex:"coverUrl",render:function(e,t){return l.a.createElement(Cn,{alt:"url",src:e})}},{title:"\u6807\u9898",dataIndex:"title"},{title:"\u51fa\u6e38\u4eba\u6570",dataIndex:"count"},{title:"\u4ef7\u683c",dataIndex:"price"}],selectedRow:[],selectedRowKeys:[]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){$t.global.getRelationPage({data:{isRelation:2,type:this.props.type,size:1e3,current:1}})}},{key:"render",value:function(){var e=$t.global.relationPage.records,t=this.state,a=t.selectedRow,r=t.selectedRowKeys,n={onChange:this.onSelectChange,selectedRowKeys:r,type:1===this.props.type?"checkbox":"radio"},i=a.length>0;return l.a.createElement("div",null,l.a.createElement(gr.a,{style:{marginLeft:15},onClick:this.showDrawer},"\u5173\u8054\u65c5\u6e38\u4ea7\u54c1"),l.a.createElement(di.a,{title:"\u5173\u8054\u65c5\u6e38\u4ea7\u54c1",placement:"right",closable:!1,onClose:this.onClose,visible:this.state.visible,width:700},l.a.createElement("div",{style:{marginBottom:16}},l.a.createElement(gr.a,{onClick:this.CheckSelect,disabled:!i},"\u5173\u8054\u65c5\u6e38\u4ea7\u54c1"),l.a.createElement("span",{style:{marginLeft:8}},i?"\u9009\u62e9 ".concat(a.length," \u4e2a"):"")),l.a.createElement(Or.a,{rowKey:function(e){return e.tourProductId},rowSelection:n,columns:this.state.columns,dataSource:e,pagination:{pageSize:1e3,hideOnSinglePage:!0}})))}}]),t}(l.a.Component))||Ai)||Ai),uc=ur.a.Item,mc=(jr.a.RangePicker,wr.a.Option),dc=pr.a.TextArea,pc=(Sr.a.Group,Cr.a.Dragger,Object(u.b)("resource","global")(Yi=Object(u.c)(Yi=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).DeleteSingle=function(e){a.setState({fileData:a.state.fileData.filter(function(t){return t!==e})})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(a.props.data?$t.strategy.EditPictureStraegy({data:Object(E.a)({id:a.props.data.id},t,{type:2,bmMaterialList:a.state.fileData}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}):$t.strategy.CreatePictureStraegy({data:Object(E.a)({},t,{type:2,bmMaterialList:a.state.fileData}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}))})},a.DeleteInfo=function(e){a.forceUpdate(),console.log("TCL: Relation -> DeleteInfo -> value",e),a.setState({selectInfo:a.props.form.getFieldValue("bmTourProductDaysList").filter(function(t){return t!==e})},function(){a.props.form.setFieldsValue({bmTourProductDaysList:a.state.selectInfo})})},a.ChangeList=function(e){var t=e.map(function(e){return e.response.data});a.setState({fileData:[].concat(Object(kn.a)(a.state.fileData),Object(kn.a)(t.map(function(e,t){return{wide:e.width,high:e.height,url:e.filename,format:1,limits:1,type:2}})))})},a.ChangePicture=function(e){a.setState({fileData:[].concat(Object(kn.a)(a.state.fileData),Object(kn.a)(e.map(function(e,t){return{format:1,limits:2,type:2,high:e.high,wide:e.wide,url:e.url}})))})},a.state={status:!0,fileData:[],everyDay:[],selectInfo:[],columns:[{title:"\u56fe\u7247",dataIndex:"url",render:function(e,t){return 1===t.format?l.a.createElement(Cn,{alt:"url",src:e}):l.a.createElement("video",{style:{width:200},src:e,controls:!0})}},{title:"\u56fe\u7247\u5bbd\u5ea6",dataIndex:"wide"},{title:"\u56fe\u7247\u9ad8\u5ea6",dataIndex:"high"},{title:"\u7f16\u8f91",dataIndex:"play",render:function(e,t){return l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u5220\u9664\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.DeleteSingle(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u5220\u9664"))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;$t.global.getCityList({data:{}}),this.props.data&&$t.strategy.getPictureSingle({data:{id:this.props.data.id},callback:function(t){0===t.code&&e.setState({fileData:t.data.bmMaterialList})}})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=void 0!==this.props.data,r={labelCol:{span:6},wrapperCol:{span:14}},n=$t.global.cityList,i=$t.strategy.pictureSingle;Object(kn.a)(new Set(this.state.selectInfo));return l.a.createElement(yr.a,{bordered:!1,title:a?"\u7f16\u8f91\u56fe\u96c6\u653b\u7565":"\u6dfb\u52a0\u56fe\u96c6\u653b\u7565",className:"CreateMito"},l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{xs:8,sm:16,md:24}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(uc,Object.assign({label:"\u56fe\u96c6\u540d\u79f0"},r,{className:"form-inline-item"}),t("title",{initialValue:a?i.title:"",rules:[{required:!0,whitespace:!0,message:"\u56fe\u96c6\u540d\u79f0"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u56fe\u96c6\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(uc,Object.assign({label:"\u56fe\u96c6\u8bf4\u660e"},r,{className:"form-inline-item"}),t("content",{initialValue:a?i.content:"",rules:[{required:!0,whitespace:!0,message:"\u56fe\u96c6\u8bf4\u660e"}]})(l.a.createElement(dc,{placeholder:"\u8bf7\u8f93\u5165\u56fe\u96c6\u8bf4\u660e",autoSize:{minRows:5}})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(uc,Object.assign({label:"\u57ce\u5e02"},r,{className:"form-inline-item"}),t("city",{initialValue:a?i.city:void 0,rules:[{required:!0,whitespace:!0,message:"\u57ce\u5e02"}]})(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u641c\u7d22\u57ce\u5e02"},n.map(function(e,t){return l.a.createElement(mc,{key:e.id,value:e.id},e.name)}))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(uc,Object.assign({label:"\u4e0a\u4f20\u56fe\u7247"},r,{className:"form-inline-item"}),l.a.createElement("ul",null,l.a.createElement("li",{style:{marginLeft:"20px",listStyle:"none"}},l.a.createElement(xn,{onChange:this.ChangeList,type:"1",isShowUploadList:!1})),l.a.createElement("li",{style:{marginLeft:"20px",listStyle:"none"}},l.a.createElement(hi,{city:this.props.form.getFieldValue("city"),onChange:this.ChangePicture,type:"1"}))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(uc,Object.assign({label:"\u8f6e\u64ad\u56fe\u7247"},r,{className:"form-inline-item"}),l.a.createElement(Or.a,{columns:this.state.columns,bordered:!1,dataSource:this.state.fileData,pagination:!1}))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(uc,Object.assign({label:l.a.createElement("span",null,"\u5173\u8054\u65c5\u6e38\u4ea7\u54c1\xa0",l.a.createElement(Vn.a,{title:"\u4ec5\u53ef\u5173\u8054\u4e00\u4e2a\u65c5\u6e38\u4ea7\u54c1"},l.a.createElement(pa.a,{type:"question-circle-o"})))},r,{className:"form-inline-item"}),t("bmTourProductDaysList",{initialValue:a?i.bmTourProductDaysList:[],rules:[{required:!0,message:"\u5173\u8054\u65c5\u6e38\u4ea7\u54c1"}]})(l.a.createElement(lc,{type:2})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(uc,Object.assign({label:"\u5df2\u9009\u4e2d\u65c5\u6e38\u4ea7\u54c1"},r,{className:"form-inline-item"}),l.a.createElement(oc.a,{itemLayout:"horizontal",dataSource:this.props.form.getFieldValue("bmTourProductDaysList"),renderItem:function(t){return l.a.createElement(oc.a.Item,{actions:[l.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return e.DeleteInfo(t)}},"\u5220\u9664")]},l.a.createElement(oc.a.Item.Meta,{avatar:l.a.createElement(sc.a,{src:t.coverUrl}),title:l.a.createElement("span",null,t.title),description:l.a.createElement("div",null,l.a.createElement("span",null,t.count,"\u4eba\u51fa\u6e38")," ",l.a.createElement("span",{style:{color:"#d00"}},"\uffe5",t.price,"\u8d77"))}))}}))))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,offset:6},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",onClick:this.handleSubmit},"\u786e\u5b9a"))))}}]),t}(s.Component))||Yi)||Yi),gc=ur.a.create()(pc),bc=Object(u.b)("tourisms")(qi=Object(u.c)(qi=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).DeleteSingle=function(e){$t.tourisms.DeleteImage({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success("\u5220\u9664\u6210\u529f"),a.getPicturePage()):_r.a.success("\u5220\u9664\u5931\u8d25")}})},a.getPicturePage=function(){$t.tourisms.getOwnPictures({data:{itemId:a.props.data.id,current:1,size:100,type:2}})},a.state={columns:[{title:"\u56fe\u7247",dataIndex:"url",render:function(e,t){return 1===t.format?l.a.createElement(Cn,{alt:"url",src:e}):l.a.createElement("video",{style:{width:200},src:e,controls:!0})}},{title:"\u56fe\u7247\u5bbd\u5ea6",dataIndex:"wide"},{title:"\u56fe\u7247\u9ad8\u5ea6",dataIndex:"high"},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u5220\u9664\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.DeleteSingle(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u5220\u9664"))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getPicturePage()}},{key:"render",value:function(){var e=$t.tourisms.ownPicturePage;return l.a.createElement(yr.a,{title:"\u56fe\u96c6",bordered:!1},l.a.createElement(Or.a,{columns:this.state.columns,bordered:!1,dataSource:e.records,pagination:!1}))}}]),t}(s.Component))||qi)||qi,fc=ur.a.Item,hc=wr.a.Option,yc=Object(u.b)("strategy","global")(Hi=Object(u.c)(Hi=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getPictureStrategyPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getPictureStrategyPage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.page_size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.strategy.getPictureStrategyPage({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.DeleteSingle=function(e){a.props.strategy.DeletePictureStrategyPage({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getPictureStrategyPage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.EnableShutdown=function(e){a.props.strategy.EditImageUpOrDown({data:{id:e.id,state:2===e.state?1:2},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getPictureStrategyPage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.ShowPicture=function(e){a.isShowPicture(!0),a.setState({dataShow:e})},a.isShowPicture=function(e){a.setState({isShow:e})},a.isCreateHotel=function(e){a.setState({visible:e})},a.CreateHotel=function(e){a.isCreateHotel(!0),a.setState({currItem:e})},a.PropsInfo=function(e){a.isCreateHotel(!1),a.isShowPicture(!1)},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getPictureStrategyPage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getPictureStrategyPage(t)})},a.state={stateMaps:{1:"\u4e0a\u67b6",2:"\u4e0b\u67b6"},isShow:!1,dataShow:{},loading:!0,visible:!1,currItem:{},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u56fe\u96c6\u540d\u79f0",dataIndex:"title"},{title:"\u56fe\u96c6\u8bf4\u660e",dataIndex:"content",width:600},{title:"\u56fe\u7247\u6570\u91cf",dataIndex:"num",render:function(e,t){return l.a.createElement("span",null,t.bmMaterialList.length,"\u4e2a",l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.ShowPicture(t)}},"\u67e5\u770b"))}},{title:"\u57ce\u5e02",dataIndex:"city"},{title:"\u5173\u8054\u65c5\u6e38\u4ea7\u54c1",dataIndex:"cityInfo",render:function(e,t){return l.a.createElement("span",null,t.bmTourProductDaysList[0]&&t.bmTourProductDaysList[0].title)}},{title:"\u72b6\u6001",dataIndex:"state",render:function(e,t){return l.a.createElement("span",null,a.state.stateMaps[e])}},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreateHotel(t)}},"\u7f16\u8f91"),l.a.createElement(li.a,{type:"vertical"}),2===t.state&&l.a.createElement("span",null,l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u4e0a\u67b6\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.EnableShutdown(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u4e0a\u67b6")),l.a.createElement(li.a,{type:"vertical"})),1===t.state&&l.a.createElement("span",null,l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u4e0b\u67b6\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.EnableShutdown(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u4e0b\u67b6")),l.a.createElement(li.a,{type:"vertical"})))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getPictureStrategyPage()}},{key:"render",value:function(){var e=this,t=this.props.strategy.pictureStraegyPage,a={labelCol:{span:6},wrapperCol:{span:14}},r=this.props.form.getFieldDecorator;return l.a.createElement(yr.a,{title:"\u56fe\u96c6\u653b\u7565\u7ba1\u7406",bordered:!1,loading:this.state.loading},this.state.isShow&&l.a.createElement(vr.a,{visible:this.state.isShow,width:1300,onCancel:function(){return e.isShowPicture(!1)},footer:null},l.a.createElement(bc,{data:this.state.dataShow,onClose:function(){e.PropsInfo(!1),e.getPictureStrategyPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),this.state.visible&&l.a.createElement(vr.a,{visible:this.state.visible,width:1100,onCancel:function(){return e.isCreateHotel(!1)},footer:null},l.a.createElement(gc,{data:this.state.currItem,onClose:function(){e.PropsInfo(!1),e.getPictureStrategyPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(fc,Object.assign({label:"\u56fe\u96c6\u540d\u79f0"},a,{className:"form-inline-item"}),r("name")(l.a.createElement(pr.a,{placeholder:"\u56fe\u96c6\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(fc,Object.assign({label:"\u72b6\u6001"},a,{className:"form-inline-item"}),r("city")(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u72b6\u6001"},l.a.createElement(hc,{key:1,value:1},"\u4e0a\u67b6"),l.a.createElement(hc,{key:2,value:2},"\u4e0b\u67b6"))))),l.a.createElement(dr.a,{xl:10,md:24,sm:24,offset:2,style:{marginBottom:"10px"}},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch"},"\u67e5\u8be2"))))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,style:{marginBottom:"10px"}},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch",onClick:function(){e.CreateHotel()}},"\u6dfb\u52a0\u56fe\u96c6\u653b\u7565")),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||Hi)||Hi,vc=ur.a.create()(yc),Ec=ur.a.Item,Oc=(jr.a.RangePicker,wr.a.Option),jc=pr.a.TextArea,wc=(Sr.a.Group,Cr.a.Dragger,Object(u.b)("resource","global")(Ki=Object(u.c)(Ki=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).DeleteSingle=function(e){a.setState({fileData:a.state.fileData.filter(function(t){return t!==e})})},a.ChangeList=function(e){var t=e.map(function(e){return e.response.data});a.setState({fileData:[].concat(Object(kn.a)(a.state.fileData),Object(kn.a)(t.map(function(e,t){return{wide:e.width,high:e.height,url:e.filename,format:1,limits:1,type:3}})))})},a.ChangeVideo=function(e){a.setState({fileData:[].concat(Object(kn.a)(a.state.fileData),Object(kn.a)(e.map(function(e,t){return{format:1,limits:2,type:3,high:e.high,wide:e.wide,url:e.url}})))})},a.DeleteInfo=function(e){console.log("TCL: Relation -> DeleteInfo -> value",e),a.setState({selectInfo:a.props.form.getFieldValue("bmTourProductDaysList").filter(function(t){return t!==e})},function(){a.props.form.setFieldsValue({bmTourProductDaysList:a.state.selectInfo})})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(a.props.data?$t.strategy.EditVideoStraegy({data:Object(E.a)({id:a.props.data.id},t,{type:3,bmMaterialList:a.state.fileData.slice(-1)}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}):$t.strategy.CreateVideoStraegy({data:Object(E.a)({},t,{type:3,bmMaterialList:a.state.fileData.slice(-1)}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}))})},a.state={status:!0,fileData:[],everyDay:[],selectInfo:[],columns:[{title:"\u89c6\u9891",dataIndex:"url",render:function(e,t){return l.a.createElement("video",{style:{width:200},src:e,controls:!0})}},{title:"\u89c6\u9891\u5bbd\u5ea6",dataIndex:"wide"},{title:"\u89c6\u9891\u9ad8\u5ea6",dataIndex:"high"},{title:"\u7f16\u8f91",dataIndex:"play",render:function(e,t){return l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u5220\u9664\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.DeleteSingle(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u5220\u9664"))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;$t.global.getCityList({data:{}}),this.props.data&&$t.strategy.getVideoSingle({data:{id:this.props.data.id},callback:function(t){console.log("TCL: CreateVideo -> componentDidMount -> res",t),0===t.code&&e.setState({fileData:t.data.bmMaterialList})}})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=void 0!==this.props.data,r={labelCol:{span:6},wrapperCol:{span:14}},n=$t.global.cityList,i=$t.strategy.videoSingle;return l.a.createElement(yr.a,{bordered:!1,title:a?"\u7f16\u8f91\u89c6\u9891\u653b\u7565":"\u6dfb\u52a0\u89c6\u9891\u653b\u7565",className:"CreateMito"},l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{xs:8,sm:16,md:24}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Ec,Object.assign({label:"\u89c6\u9891\u540d\u79f0"},r,{className:"form-inline-item"}),t("title",{initialValue:a?i.title:"",rules:[{required:!0,whitespace:!0,message:"\u89c6\u9891\u540d\u79f0"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u89c6\u9891\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Ec,Object.assign({label:"\u89c6\u9891\u8bf4\u660e"},r,{className:"form-inline-item"}),t("content",{initialValue:a?i.content:"",rules:[{required:!0,whitespace:!0,message:"\u89c6\u9891\u8bf4\u660e"}]})(l.a.createElement(jc,{placeholder:"\u8bf7\u8f93\u5165\u89c6\u9891\u8bf4\u660e",autoSize:{minRows:5}})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Ec,Object.assign({label:"\u57ce\u5e02"},r,{className:"form-inline-item"}),t("city",{initialValue:a?i.city:void 0,rules:[{required:!0,whitespace:!0,message:"\u57ce\u5e02"}]})(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u57ce\u5e02"},n.map(function(e,t){return l.a.createElement(Oc,{key:e.id,value:e.id},e.name)}))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Ec,Object.assign({label:l.a.createElement("span",null,"\u4e0a\u4f20\u89c6\u9891\xa0",l.a.createElement(Vn.a,{title:"\u53ea\u80fd\u4e0a\u4f20\u4e00\u4e2a\u89c6\u9891\uff01\uff01\uff01"},l.a.createElement(pa.a,{type:"info-circle"})))},r,{className:"form-inline-item"}),l.a.createElement("div",{style:{marginLeft:"20px",listStyle:"none",float:"left"}},l.a.createElement(xn,{onChange:this.ChangeList,type:"2",isShowUploadList:!1,uploadNumber:1})),l.a.createElement("div",{style:{marginLeft:"20px",listStyle:"none",float:"left"}},l.a.createElement(hi,{city:this.props.form.getFieldValue("city"),onChange:this.ChangeVideo,type:"2"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Ec,Object.assign({label:"\u89c6\u9891"},r,{className:"form-inline-item"}),l.a.createElement(Or.a,{columns:this.state.columns,bordered:!1,dataSource:this.state.fileData.slice(-1),pagination:!1}))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Ec,Object.assign({label:l.a.createElement("span",null,"\u5173\u8054\u65c5\u6e38\u4ea7\u54c1\xa0",l.a.createElement(Vn.a,{title:"\u4ec5\u53ef\u5173\u8054\u4e00\u4e2a\u65c5\u6e38\u4ea7\u54c1"},l.a.createElement(pa.a,{type:"question-circle-o"})))},r,{className:"form-inline-item"}),t("bmTourProductDaysList",{initialValue:a?i.bmTourProductDaysList:[],rules:[{required:!0,message:"\u5173\u8054\u65c5\u6e38\u4ea7\u54c1"}]})(l.a.createElement(lc,{type:3})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(Ec,Object.assign({label:"\u5df2\u9009\u4e2d\u65c5\u6e38\u4ea7\u54c1"},r,{className:"form-inline-item"}),l.a.createElement(oc.a,{itemLayout:"horizontal",dataSource:this.props.form.getFieldValue("bmTourProductDaysList"),renderItem:function(t){return l.a.createElement(oc.a.Item,{actions:[l.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return e.DeleteInfo(t)}},"\u5220\u9664")]},l.a.createElement(oc.a.Item.Meta,{avatar:l.a.createElement(sc.a,{src:t.coverUrl}),title:l.a.createElement("span",null,t.title),description:l.a.createElement("div",null,l.a.createElement("span",null,t.count,"\u4eba\u51fa\u6e38")," ",l.a.createElement("span",{style:{color:"#d00"}},"\uffe5",t.price,"\u8d77"))}))}}))))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,offset:6},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",onClick:this.handleSubmit},"\u786e\u5b9a"))))}}]),t}(s.Component))||Ki)||Ki),Sc=ur.a.create()(wc),Cc=ur.a.Item,Pc=wr.a.Option,kc=Object(u.b)("strategy","global")(Gi=Object(u.c)(Gi=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getVideoStrategyPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getVideoStrategyPage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.page_size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.strategy.getVideoStrategyPage({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.DeleteSingle=function(e){a.props.strategy.DeleteVideoStrategyPage({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getVideoStrategyPage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.EnableShutdown=function(e){a.props.strategy.EditVideoUpOrDown({data:{id:e.id,state:2===e.state?1:2},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getVideoStrategyPage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.ShowVideo=function(e){a.isShowVideo(!0),a.setState({dataShow:e})},a.isShowVideo=function(e){a.setState({isShow:e})},a.isCreateHotel=function(e){a.setState({visible:e})},a.CreateHotel=function(e){a.isCreateHotel(!0),a.setState({currItem:e})},a.PropsInfo=function(e){a.isCreateHotel(!1),a.isShowVideo(!1)},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getVideoStrategyPage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getVideoStrategyPage(t)})},a.state={stateMaps:{1:"\u4e0a\u67b6",2:"\u4e0b\u67b6"},isShow:!1,dataShow:{},loading:!0,visible:!1,currItem:{},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u89c6\u9891\u540d\u79f0",dataIndex:"title"},{title:"\u89c6\u9891\u8bf4\u660e",dataIndex:"content",width:600},{title:"\u89c6\u9891",dataIndex:"num",render:function(e,t){return l.a.createElement("video",{style:{width:100},src:t.bmMaterialList.length>0&&t.bmMaterialList[0].url,controls:!0})}},{title:"\u57ce\u5e02",dataIndex:"city"},{title:"\u5173\u8054\u65c5\u6e38\u4ea7\u54c1",dataIndex:"cityInfo",render:function(e,t){return l.a.createElement("span",null,t.bmTourProductDaysList[0]&&t.bmTourProductDaysList[0].title)}},{title:"\u72b6\u6001",dataIndex:"state",render:function(e,t){return l.a.createElement("span",null,a.state.stateMaps[e])}},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreateHotel(t)}},"\u7f16\u8f91"),l.a.createElement(li.a,{type:"vertical"}),2===t.state&&l.a.createElement("span",null,l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u4e0a\u67b6\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.EnableShutdown(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u4e0a\u67b6")),l.a.createElement(li.a,{type:"vertical"})),1===t.state&&l.a.createElement("span",null,l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u4e0b\u67b6\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.EnableShutdown(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u4e0b\u67b6")),l.a.createElement(li.a,{type:"vertical"})))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getVideoStrategyPage()}},{key:"render",value:function(){var e=this,t=this.props.strategy.videoStraegyPage,a={labelCol:{span:6},wrapperCol:{span:14}},r=this.props.form.getFieldDecorator;return l.a.createElement(yr.a,{title:"\u89c6\u9891\u653b\u7565\u7ba1\u7406",bordered:!1,loading:this.state.loading},this.state.visible&&l.a.createElement(vr.a,{visible:this.state.visible,width:1100,onCancel:function(){return e.isCreateHotel(!1)},footer:null},l.a.createElement(Sc,{data:this.state.currItem,onClose:function(){e.PropsInfo(!1),e.getVideoStrategyPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(Cc,Object.assign({label:"\u89c6\u9891\u540d\u79f0"},a,{className:"form-inline-item"}),r("name")(l.a.createElement(pr.a,{placeholder:"\u89c6\u9891\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(Cc,Object.assign({label:"\u72b6\u6001"},a,{className:"form-inline-item"}),r("city")(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u72b6\u6001"},l.a.createElement(Pc,{key:1,value:1},"\u4e0a\u67b6"),l.a.createElement(Pc,{key:2,value:2},"\u4e0b\u67b6"))))),l.a.createElement(dr.a,{xl:10,md:24,sm:24,offset:2,style:{marginBottom:"10px"}},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch"},"\u67e5\u8be2"))))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,style:{marginBottom:"10px"}},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch",onClick:function(){e.CreateHotel()}},"\u6dfb\u52a0\u89c6\u9891\u653b\u7565")),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||Gi)||Gi,xc=ur.a.create()(kc),Tc=ur.a.Item,Dc=(wr.a.Option,Object(u.b)("comment")(Ji=Object(u.c)(Ji=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getCommentPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getCommentPage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.comment.getCommentPage({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.DeleteSingle=function(e){a.props.comment.DeleteComment({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getCommentPage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.EnableShutdown=function(e){},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getCommentPage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getCommentPage(t)})},a.state={loading:!0,itemTypeMaps:{1:"\u57ce\u5e02\u653b\u7565",3:"\u666f\u70b9\u4ecb\u7ecd",4:"\u65c5\u6e38\u4ea7\u54c1",5:"\u6e38\u8bb0"},commentMaps:{0:"\u6b63\u5e38",1:"\u5f85\u5ba1\u6838",2:"\u5ba1\u6838\u5931\u8d25",3:"\u5ba1\u6838\u901a\u8fc7"},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u8bc4\u8bba\u5185\u5bb9",dataIndex:"content"},{title:"\u53d1\u8868\u7528\u6237",dataIndex:"nickName"},{title:"\u8bc4\u8bba\u6a21\u5757",dataIndex:"itemType",render:function(e){return l.a.createElement("span",null,a.state.itemTypeMaps[e])}},{title:"\u88ab\u8bc4\u8bba\u6807\u9898",dataIndex:"itemTitle"},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u5220\u9664\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.DeleteSingle(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u5220\u9664")))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getCommentPage()}},{key:"render",value:function(){var e=this.props.comment.commentPage,t=this.props.form.getFieldDecorator;return l.a.createElement(yr.a,{title:"\u8bc4\u8bba\u7ba1\u7406",bordered:!1,loading:this.state.loading},l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(Tc,Object.assign({label:"\u8bc4\u8bba\u5185\u5bb9"},{labelCol:{span:6},wrapperCol:{span:14}},{className:"form-inline-item"}),t("name")(l.a.createElement(pr.a,{placeholder:"\u8bc4\u8bba\u5185\u5bb9"})))),l.a.createElement(dr.a,{xl:10,md:24,sm:24,offset:2,style:{marginBottom:"10px"}},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch"},"\u67e5\u8be2"))))),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:e.records,pagination:Object(E.a)({},this.state.pagination,{total:e.total,current:e.current,pageSize:e.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||Ji)||Ji),Ic=ur.a.create()(Dc),zc=(wr.a.Option,ur.a.Item,Object(u.b)("global")(Qi=Object(u.c)(Qi=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getProduct=function(){$t.global.getRelationPage({data:{itemId:a.props.data.id,isRelation:1,type:1,size:1e3,current:1},callback:function(e){0===e.code&&a.setState({loading:!1})}})},a.EditProducts=function(e,t){$t.global.EditProducts({data:{tourProductId:e.tourProductId,itemId:a.props.data.id,isRelation:t,type:1},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getProduct()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.state={visible:!1,loading:!0,columns:[{title:"\u56fe\u7247",dataIndex:"coverUrl",render:function(e,t){return l.a.createElement(Cn,{alt:"url",src:e})}},{title:"\u6807\u9898",dataIndex:"title"},{title:"\u51fa\u6e38\u4eba\u6570",dataIndex:"count"},{title:"\u4ef7\u683c",dataIndex:"price"},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u5220\u9664\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.EditProducts(t,2)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u5220\u9664"))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getProduct()}},{key:"render",value:function(){var e=$t.global.relationPage.records;return l.a.createElement(yr.a,{title:"\u5173\u8054\u65c5\u6e38\u4ea7\u54c1",bordered:!1,loading:this.state.loading},l.a.createElement("div",null,l.a.createElement(Or.a,{rowKey:function(e){return e.tourProductId},columns:this.state.columns,dataSource:e,pagination:{pageSize:1e3,hideOnSinglePage:!0}})))}}]),t}(l.a.Component))||Qi)||Qi),Mc=a(1567),Nc=a(1568),Lc=a(1554),Rc=a(561),Vc=a(555),Uc=a.n(Vc),Bc=-1,Fc=function(e){function t(){return Object(f.a)(this,t),Object(ta.a)(this,Object(aa.a)(t).apply(this,arguments))}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isOver,a=e.connectDragSource,r=e.connectDropTarget,n=(e.moveRow,Object(Pn.a)(e,["isOver","connectDragSource","connectDropTarget","moveRow"])),i=Object(E.a)({},n.style,{cursor:"move"}),c=n.className;return t&&(n.index>Bc&&(c+=" drop-over-downward"),n.index<Bc&&(c+=" drop-over-upward")),a(r(l.a.createElement("tr",Object.assign({},n,{className:c,style:i}))))}}]),t}(l.a.Component),_c={beginDrag:function(e){return Bc=e.index,{index:e.index}}},Ac=Object(Mc.a)("row",{drop:function(e,t){var a=t.getItem().index,r=e.index;a!==r&&(e.moveRow(a,r),t.getItem().index=r)}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})(Object(Nc.a)("row",_c,function(e){return{connectDragSource:e.dragSource()}})(Fc)),Yc=function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(ta.a)(this,(e=Object(aa.a)(t)).call.apply(e,[this].concat(n)))).state={data:[],columns:[{title:"\u5e8f\u53f7",dataIndex:"sort"},{title:"\u5185\u5bb9",dataIndex:"content",render:function(e,t){return l.a.createElement("div",null,1===t.type&&l.a.createElement("span",null,e),2===t.type&&l.a.createElement(Cn,{src:e,alt:"img"}),3===t.type&&l.a.createElement("video",{src:e,controls:!0,style:{width:"100px"}}))}},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u5220\u9664\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.DeleteSingle(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u5220\u9664"))}}]},a.components={body:{row:Ac}},a.DeleteSingle=function(e){a.setState({data:a.state.data.filter(function(t){return t!==e})},function(){a.props.onChange(a.state.data),a.setState({data:a.state.data.map(function(e,t){return Object(E.a)({},e,{sort:t+1})})})})},a.moveRow=function(e,t){var r=a.state.data[e];a.setState(Uc()(a.state,{data:{$splice:[[e,1],[t,0,r]]}}),function(){a.setState({data:a.state.data.map(function(e,t){return Object(E.a)({},e,{sort:t+1})})})})},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){this.setState({data:e.data})}},{key:"render",value:function(){var e=this;return l.a.createElement(Lc.a,{backend:Rc.a},l.a.createElement(Or.a,{columns:this.state.columns,dataSource:this.state.data,rowKey:"key",components:this.components,pagination:!1,onRow:function(t,a){return{index:a,moveRow:e.moveRow}}}))}}]),t}(l.a.Component),qc=ur.a.Item,Hc=(jr.a.RangePicker,wr.a.Option),Kc=pr.a.TextArea,Gc=(Sr.a.Group,Cr.a.Dragger,Object(u.b)("resource","tag","strategy")(Wi=Object(u.c)(Wi=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).ChangeList=function(e){var t=e.map(function(e){return e.response.data});console.log("TCL: ChangeList -> dataArray",t),a.setState({fileData:[].concat(Object(kn.a)(a.state.fileData),Object(kn.a)(t.map(function(e,t){return{wide:+e.width,high:+e.height,url:e.filename,format:1,limits:1,type:1}})))})},a.ChangeVideo=function(e){var t=e.map(function(e){return e.response.data});a.setState({fileData:[].concat(Object(kn.a)(a.state.fileData),Object(kn.a)(t.map(function(e,t){return{wide:+e.width,high:+e.height,url:e.filename,format:2,limits:1,type:1}})))})},a.ChangePicture=function(e){console.log("TCL: ChangePicture -> fileList",e),a.setState({fileData:[].concat(Object(kn.a)(a.state.fileData),Object(kn.a)(e.map(function(e,t){return{format:1,limits:2,type:1,high:e.high,wide:e.wide,url:e.url}})))})},a.DeleteSingle=function(e){a.setState({fileData:a.state.fileData.filter(function(t){return t!==e})})},a.showDrawer=function(e){2===e.type?$t.resource.getPicturePage({data:{city:a.props.form.getFieldValue("city"),current:1,size:1e4}}):3===e.type&&$t.resource.getVideoPage({data:{city:a.props.form.getFieldValue("city"),current:1,size:1e4}}),a.setState({visible:!0,ButtonType:e.type,selectedRowKeys:[],selectedRows:[]})},a.onClose=function(){a.setState({visible:!1})},a.onSelectChange=function(e,t){a.setState({selectedRowKeys:e,selectedRows:t})},a.handleInput=function(e){a.setState({inputValue:e.target.value})},a.handleChange=function(){1===a.state.ButtonType&&a.setState({DrawerInfo:[].concat(Object(kn.a)(a.state.DrawerInfo),[{content:a.state.inputValue,type:a.state.ButtonType,itemId:""}]),visible:!1},function(){a.setState({inputValue:"",DrawerInfo:a.state.DrawerInfo.map(function(e,t){return Object(E.a)({},e,{sort:t+1})})})}),1!==a.state.ButtonType&&a.setState({DrawerInfo:[].concat(Object(kn.a)(a.state.DrawerInfo),Object(kn.a)(a.state.selectedRows.map(function(e){return{type:a.state.ButtonType,itemId:e.id,content:e.url}}))),visible:!1},function(){a.setState({DrawerInfo:a.state.DrawerInfo.map(function(e,t){return Object(E.a)({},e,{sort:t+1})})})})},a.DeleteInfo=function(e){a.forceUpdate(),console.log("TCL: Relation -> DeleteInfo -> value",e),a.setState({selectInfo:a.props.form.getFieldValue("bmTourProductDaysList").filter(function(t){return t!==e})},function(){a.props.form.setFieldsValue({bmTourProductDaysList:a.state.selectInfo})})},a.handleChangeTable=function(e){a.setState({DrawerInfo:e})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){console.log("TCL: CreateCityStrategy -> handleSubmit -> values",t),e||(a.props.data?$t.strategy.EditCityStraegy({data:Object(E.a)({id:a.props.data.id},t,{strategyCityIntroduceList:a.state.DrawerInfo,bmMaterialList:a.state.fileData.slice(-9),imgUrl:t.imgUrl[0].response.data.filename,information:t.information.toHTML()}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}):$t.strategy.AddCityStraegy({data:Object(E.a)({},t,{strategyCityIntroduceList:a.state.DrawerInfo,bmMaterialList:a.state.fileData.slice(-9),imgUrl:t.imgUrl[0].response.data.filename,information:t.information.toHTML()}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}))})},a.state={loading:!0,status:!0,ButtonType:0,visible:!1,fileData:[],inputValue:"",selectedRowKeys:[],selectedRows:[],selectInfo:[],DrawerInfo:[],type:{2:"\u9152\u5e97",3:"\u57ce\u5e02",4:"\u666f\u70b9",5:"\u9910\u5385"},buttonMaps:{0:"\u65e0",1:"\u63d2\u5165\u6587\u5b57",2:"\u63d2\u5165\u56fe\u7247",3:"\u63d2\u5165\u89c6\u9891"},ButtonInfo:[{type:1,name:"\u63d2\u5165\u6587\u5b57"},{type:2,name:"\u63d2\u5165\u56fe\u7247"},{type:3,name:"\u63d2\u5165\u89c6\u9891"}],everyDay:[],columnsTop:[{title:"\u8d44\u6e90",dataIndex:"url",render:function(e,t){return l.a.createElement("div",null,1===t.format&&l.a.createElement(Cn,{alt:"url",src:e}),2===t.format&&l.a.createElement("video",{style:{width:200},src:e,controls:!0}))}},{title:"\u8d44\u6e90\u5bbd\u5ea6",dataIndex:"wide"},{title:"\u8d44\u6e90\u9ad8\u5ea6",dataIndex:"high"},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u5220\u9664\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.DeleteSingle(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u5220\u9664"))}}],columnsPutIn:[{title:"\u8d44\u6e90",dataIndex:"url",render:function(e,t){return l.a.createElement("div",null,2===a.state.ButtonType&&l.a.createElement(Cn,{alt:"url",src:e}),3===a.state.ButtonType&&l.a.createElement("video",{style:{width:100},src:e,controls:!0}))}},{title:"\u5206\u7c7b",dataIndex:"type",render:function(e,t){return l.a.createElement("span",null,a.state.type[e])}},{title:"\u57ce\u5e02",dataIndex:"city"},{title:"\u666f\u70b9/\u9152\u5e97/\u9910\u5385",dataIndex:"itemId"}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;$t.global.getCityList({data:{}}),this.props.data&&$t.strategy.getCitySingle({data:{id:this.props.data.id},callback:function(t){console.log("TCL: CreateCityStrategy -> componentDidMount -> res",t),0===t.code&&e.setState({fileData:t.data.bmMaterialList,DrawerInfo:t.data.strategyCityIntroduceList,loading:!1})}})}},{key:"render",value:function(){var e=this,t={selectedRowKeys:this.state.selectedRowKeys,onChange:this.onSelectChange},a=this.props.form.getFieldDecorator,r=void 0!==this.props.data,n={labelCol:{span:6},wrapperCol:{span:14}},i=$t.strategy.citySingle,c=i.imgUrl,o=$t.global.cityList,s=[{uid:"rc-upload-1574925611551-2",url:"img/15749256138437071375449767021574925617190.jpg",lastModified:1574400765576,lastModifiedDate:"2019-11-22T05:32:45.576Z",name:"b17123b76cb838e9cc2d291f5bf62ba8.jpg",size:1411649,type:"image/jpeg",percent:100,originFileObj:{uid:"rc-upload-1574925611551-2",url:"img/15749256138437071375449767021574925617190.jpg"},status:"done",thumbUrl:"",response:{code:0,msg:null,data:{filename:"http://miramartravel.oss-cn-shenzhen.aliyuncs.com/img/15749256138437071375449767021574925617190.jpg",size:"1411649",mimeType:"image/jpeg",width:"1920",height:"1080"}},xhr:{}}];s.map(function(e,t){c&&(console.log("TCL: CreateCityStrategy -> render -> url",c),e.uid="16549861321684",e.url=c,console.log("TCL: CreateVideo -> render ->  url.split",c.split("com/")[1]),e.type="img/"+c.split("com/")[1].split(".")[1],e.originFileObj.uid="16549861321684",e.originFileObj.url=c,e.response.data.filename=c,e.response.data.mimeType="img/"+c.split("com/")[1].split(".")[1])});var u=$t.resource.picturePage,m=$t.resource.videoPage,d=this.state.selectedRowKeys.length>0;return console.log("this.state.=?",this.state.fileData),l.a.createElement(yr.a,{bordered:!1,title:r?"\u7f16\u8f91\u57ce\u5e02\u653b\u7565":"\u6dfb\u52a0\u57ce\u5e02\u653b\u7565",loading:!!this.props.data&&this.state.loading,className:"CreateMito"},l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{xs:8,sm:16,md:24}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(qc,Object.assign({label:"\u653b\u7565\u540d\u79f0"},n,{className:"form-inline-item"}),a("name",{initialValue:r?i.name:"",rules:[{required:!0,whitespace:!0,message:"\u653b\u7565\u540d\u79f0"}]})(l.a.createElement(pr.a,{style:{width:200},placeholder:"\u8bf7\u8f93\u5165\u653b\u7565\u540d\u79f0"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(qc,Object.assign({label:"\u57ce\u5e02"},n,{className:"form-inline-item"}),a("city",{initialValue:r?i.city:void 0,rules:[{required:!0,whitespace:!0,message:"\u57ce\u5e02"}]})(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u641c\u7d22\u57ce\u5e02"},o.map(function(e,t){return l.a.createElement(Hc,{key:e.id,value:e.id},e.name)}))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(qc,Object.assign({label:l.a.createElement("span",null,"\u4e0a\u4f20\u5c01\u9762\xa0",l.a.createElement(Vn.a,{title:"\u53ea\u80fd\u4e0a\u4f20\u4e00\u4e2a\u5c01\u9762\uff01\uff01\uff01"},l.a.createElement(pa.a,{type:"info-circle"})))},n,{className:"form-inline-item"}),a("imgUrl",{initialValue:r?s:[],rules:[{required:!0,message:"\u9009\u62e9\u56fe\u7247"}]})(l.a.createElement(xn,{type:"1",isShowUploadList:!0})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(qc,Object.assign({label:l.a.createElement("span",null,"\u4e0a\u4f20\u8f6e\u64ad\xa0",l.a.createElement(Vn.a,{title:"\u8f6e\u64ad\u89c6\u9891\u52a0\u56fe\u7247\u4e0d\u8d85\u8fc79\u4e2a\uff01\uff01\uff01"},l.a.createElement(pa.a,{type:"info-circle"})))},n,{className:"form-inline-item"}),l.a.createElement("div",{style:{marginLeft:"20px",listStyle:"none",float:"left"}},l.a.createElement(xn,{onChange:this.ChangeList,type:"1",isShowUploadList:!1})),l.a.createElement("div",{style:{marginLeft:"20px",listStyle:"none",float:"left"}},l.a.createElement(hi,{city:this.props.form.getFieldValue("city"),onChange:this.ChangePicture,type:"1"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(qc,Object.assign({label:"\u8f6e\u64ad\u56fe\u7247"},n,{className:"form-inline-item"}),l.a.createElement(Or.a,{columns:this.state.columnsTop,bordered:!1,dataSource:this.state.fileData.slice(-9),pagination:!1}))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(qc,Object.assign({},n,{label:"\u4fbf\u6377\u4fe1\u606f"}),a("information",{initialValue:r?Yr.a.createEditorState(i.information):Yr.a.createEditorState(null),rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4fbf\u6377\u4fe1\u606f"}]})(l.a.createElement(Yr.a,{className:"my-editor",style:{width:"750px"},excludeControls:["link","code","media","clear","blockquote"],placeholder:"\u8bf7\u8f93\u5165\u6b63\u6587\u5185\u5bb9"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(qc,Object.assign({},n,{label:"\u57ce\u5e02\u4ecb\u7ecd"}),this.state.ButtonInfo.map(function(t){return l.a.createElement(gr.a,{key:t.type,style:{marginRight:10},onClick:function(){return e.showDrawer(t)}},t.name)}),l.a.createElement(di.a,{title:this.state.buttonMaps[this.state.ButtonType],placement:"right",closable:!1,onClose:this.onClose,visible:this.state.visible,width:700},1!==this.state.ButtonType&&l.a.createElement("div",null,l.a.createElement(gr.a,{type:"primary",onClick:this.handleChange,disabled:!d},this.state.buttonMaps[this.state.ButtonType]),l.a.createElement(Or.a,{columns:this.state.columnsPutIn,rowKey:"id",dataSource:2===this.state.ButtonType?u.records:3===this.state.ButtonType?m.records:[],pagination:!1,rowSelection:t})),1===this.state.ButtonType&&l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(qc,Object.assign({label:"\u6587\u5b57"},n,{className:"form-inline-item"}),l.a.createElement(Kc,{placeholder:"\u6587\u5b57",value:this.state.inputValue,onChange:this.handleInput,autoSize:{minRows:5}}))),l.a.createElement(dr.a,{xl:24,md:24,sm:24,style:{marginLeft:170,marginTop:50}},l.a.createElement(gr.a,{type:"primary",onClick:this.handleChange},this.state.buttonMaps[this.state.ButtonType])))),l.a.createElement(Yc,{onChange:this.handleChangeTable,data:this.state.DrawerInfo}))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(qc,Object.assign({label:l.a.createElement("span",null,"\u5173\u8054\u65c5\u6e38\u4ea7\u54c1\xa0",l.a.createElement(Vn.a,{title:"\u4ec5\u53ef\u5173\u8054\u4e00\u4e2a\u65c5\u6e38\u4ea7\u54c1"},l.a.createElement(pa.a,{type:"question-circle-o"})))},n,{className:"form-inline-item"}),a("bmTourProductDaysList",{initialValue:r?i.bmTourProductDaysList:[],rules:[{required:!0,message:"\u5173\u8054\u65c5\u6e38\u4ea7\u54c1"}]})(l.a.createElement(lc,{type:1})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(qc,Object.assign({label:"\u5df2\u9009\u4e2d\u65c5\u6e38\u4ea7\u54c1"},n,{className:"form-inline-item"}),l.a.createElement(oc.a,{itemLayout:"horizontal",dataSource:this.props.form.getFieldValue("bmTourProductDaysList"),renderItem:function(t){return l.a.createElement(oc.a.Item,{actions:[l.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return e.DeleteInfo(t)}},"\u5220\u9664")]},l.a.createElement(oc.a.Item.Meta,{avatar:l.a.createElement(sc.a,{src:t.coverUrl}),title:l.a.createElement("span",null,t.title),description:l.a.createElement("div",null,l.a.createElement("span",null,t.count,"\u4eba\u51fa\u6e38")," ",l.a.createElement("span",{style:{color:"#d00"}},"\uffe5",t.price,"\u8d77"))}))}}))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,offset:6},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))))}}]),t}(s.Component))||Wi)||Wi),Jc=ur.a.create()(Gc),Qc=(ur.a.Item,wr.a.Option,Object(u.b)("comment")(Zi=Object(u.c)(Zi=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getCommentPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(E.a)({},e,{itemId:a.props.data.id,itemType:1});$t.comment.getCommentPage({data:Object(E.a)({},t),callback:function(e){0===e.code&&a.setState({loading:!1})}})},a.DeleteSingle=function(e){$t.comment.DeleteComment({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getCommentPage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.EnableShutdown=function(e){},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getCommentPage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.state={itemTypeMaps:{1:"\u57ce\u5e02\u653b\u7565",3:"\u666f\u70b9\u4ecb\u7ecd",4:"\u65c5\u6e38\u4ea7\u54c1",5:"\u6e38\u8bb0"},commentMaps:{0:"\u6b63\u5e38",1:"\u5f85\u5ba1\u6838",2:"\u5ba1\u6838\u5931\u8d25",3:"\u5ba1\u6838\u901a\u8fc7"},loading:!0,pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u8bc4\u8bba\u5185\u5bb9",dataIndex:"content"},{title:"\u53d1\u8868\u7528\u6237",dataIndex:"nickName"},{title:"\u8bc4\u8bba\u6a21\u5757",dataIndex:"itemType",render:function(e){return l.a.createElement("span",null,a.state.itemTypeMaps[e])}},{title:"\u88ab\u8bc4\u8bba\u6807\u9898",dataIndex:"itemTitle"},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u5220\u9664\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.DeleteSingle(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u5220\u9664")))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getCommentPage(),$t.global.getCityList({data:{}})}},{key:"render",value:function(){var e=$t.comment.commentPage;return l.a.createElement(yr.a,{title:"\u8bc4\u8bba\u7ba1\u7406",bordered:!1,loading:this.state.loading},l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:e.records,pagination:Object(E.a)({},this.state.pagination,{total:e.total,current:e.current,pageSize:e.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||Zi)||Zi),Wc=ur.a.Item,Zc=wr.a.Option,$c=Object(u.b)("strategy","global")($i=Object(u.c)($i=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getCityStrategyPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getCityStrategyPage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.strategy.getCityStrategyPage({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.SetRecommend=function(e,t){a.props.strategy.SetRecommend({data:{id:e.id,recommend:t},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getCityStrategyPage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.isUp=function(e,t){a.props.strategy.SetCityState({data:{id:e.id,state:t},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getCityStrategyPage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getCityStrategyPage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getCityStrategyPage(t)})},a.CreateCityStrategy=function(e){a.isCreateCityStrategy(!0),a.setState({currItem:e})},a.isCreateCityStrategy=function(e){a.setState({visible:e})},a.CreateProducts=function(e){a.isCreateProducts(!0),a.setState({products:e})},a.isCreateProducts=function(e){a.setState({showProducts:e})},a.CreateComment=function(e){a.isCreateComment(!0),a.setState({comment:e})},a.isCreateComment=function(e){a.setState({showComment:e})},a.PropsInfo=function(e){a.isCreateCityStrategy(!1),a.isCreateProducts(!1),a.isCreateComment(!1)},a.state={loading:!0,visible:!1,showProducts:!1,showComment:!1,baseType:{1:"\u56fd\u5185\u6e38",2:"\u6e2f\u6fb3\u6e38",3:"\u5883\u5916\u6e38"},statusMaps:{1:"\u4e0a\u67b6",2:"\u4e0b\u67b6"},recommendMaps:{0:"\u4e0d\u63a8\u8350",1:"\u63a8\u8350"},currItem:{},products:{},comment:{},SeeItinerary:!1,searchData:{},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u653b\u7565\u540d\u79f0",dataIndex:"name"},{title:"\u57ce\u5e02",dataIndex:"city"},{title:"\u5173\u8054\u65c5\u6e38\u4ea7\u54c1",dataIndex:"copywriting",render:function(e,t){return l.a.createElement("span",null,t.bmTourProductDaysList.length+"\u4e2a",l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreateProducts(t)}},"\u67e5\u770b"))}},{title:"\u7528\u6237\u8bc4\u8bba",dataIndex:"composeCount",render:function(e,t){return l.a.createElement("span",null,e+"\u6761",l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreateComment(t)}},"\u67e5\u770b"))}},{title:"\u70ed\u95e8\u63a8\u8350",dataIndex:"recommend",render:function(e,t){return l.a.createElement("span",null,a.state.recommendMaps[e])}},{title:"\u72b6\u6001",dataIndex:"state",render:function(e,t){return l.a.createElement("span",null,a.state.statusMaps[e])}},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreateCityStrategy(t)}},"\u7f16\u8f91"),l.a.createElement(li.a,{type:"vertical"}),l.a.createElement(Nr.a,{title:"\u8bbe\u7f6e\u4e3a\u70ed\u95e8\u63a8\u8350\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.SetRecommend(t,0===t.recommend?1:0)}},l.a.createElement("a",{href:"javacript:void(0);"},0===t.recommend?"\u8bbe\u4e3a\u63a8\u8350":"\u53d6\u6d88\u63a8\u8350")),l.a.createElement(li.a,{type:"vertical"}),l.a.createElement(Nr.a,{title:"\u8bbe\u7f6e\u4e0a/\u4e0b\u67b6\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.isUp(t,2===t.state?1:2)}},l.a.createElement("a",{href:"javacript:void(0);"},2===t.state?"\u4e0a\u67b6":"\u4e0b\u67b6")))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getCityStrategyPage(),this.props.global.getCityList({data:{}})}},{key:"render",value:function(){var e=this,t=this.props.strategy.cityStraegyPage,a={labelCol:{span:6},wrapperCol:{span:14}},r=this.props.form.getFieldDecorator,n=this.props.global.cityList;return l.a.createElement(yr.a,{title:"\u57ce\u5e02\u653b\u7565",bordered:!1,loading:this.state.loading},this.state.visible&&l.a.createElement(vr.a,{visible:this.state.visible,width:1100,onCancel:function(){return e.isCreateCityStrategy(!1)},footer:null},l.a.createElement(Jc,{data:this.state.currItem,onClose:function(){e.PropsInfo(!1),e.getCityStrategyPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),this.state.showProducts&&l.a.createElement(vr.a,{visible:this.state.showProducts,width:1100,onCancel:function(){return e.isCreateProducts(!1)},footer:null},l.a.createElement(zc,{data:this.state.products,onClose:function(){e.PropsInfo(!1),e.getCityStrategyPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),this.state.showComment&&l.a.createElement(vr.a,{visible:this.state.showComment,width:1100,onCancel:function(){return e.isCreateComment(!1)},footer:null},l.a.createElement(Qc,{data:this.state.comment,onClose:function(){e.PropsInfo(!1),e.getCityStrategyPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(Wc,Object.assign({label:"\u57ce\u5e02"},a,{className:"form-inline-item"}),r("city")(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u72b6\u6001"},n.map(function(e,t){return l.a.createElement(Zc,{key:e.id,value:e.id},e.name)}))))),l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(Wc,Object.assign({label:"\u641c\u7d22\u72b6\u6001"},a,{className:"form-inline-item"}),r("state")(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u641c\u7d22\u72b6\u6001"},l.a.createElement(Zc,{value:1},"\u4e0a\u67b6"),l.a.createElement(Zc,{value:2},"\u4e0b\u67b6"))))),l.a.createElement(dr.a,{xl:10,md:24,sm:24,offset:2,style:{marginBottom:"10px"}},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch"},"\u67e5\u8be2"))))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,style:{marginBottom:"10px"}},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch",onClick:function(){e.CreateCityStrategy()}},"\u6dfb\u52a0\u57ce\u5e02\u653b\u7565")),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||$i)||$i,Xc=ur.a.create()($c),eo=(ur.a.Item,wr.a.Option,Object(u.b)("answer")(Xi=Object(u.c)(Xi=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getUserAnswer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(E.a)({},e,{parentId:a.props.data.id,size:1e3,current:1});$t.answer.getUserAnswer({data:Object(E.a)({},t),callback:function(e){0===e.code&&a.setState({loading:!1})}})},a.DeleteSingle=function(e){$t.answer.DeleteUserAnswer({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getUserAnswer(),a.props.onClose()):(_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25"),a.props.onClose())}})},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getUserAnswer({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.state={loading:!0,shelfMaps:{1:"\u4e0a\u67b6",2:"\u4e0b\u67b6"},stateMaps:{1:"\u672a\u5ba1\u6838",2:"\u672a\u901a\u8fc7",3:"\u901a\u8fc7"},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u7528\u6237\u540d\u79f0",dataIndex:"nickName"},{title:"\u70b9\u8bc4\u5185\u5bb9",dataIndex:"content"},{title:"\u53d1\u5e03\u65f6\u95f4",dataIndex:"createTime"},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u5220\u9664\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.DeleteSingle(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u5220\u9664")))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getUserAnswer()}},{key:"render",value:function(){var e=$t.answer.userAnswer;return l.a.createElement(yr.a,{title:"\u7528\u6237\u56de\u7b54",bordered:!1,loading:this.state.loading},l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:e.records,pagination:!1,onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||Xi)||Xi),to=ur.a.Item,ao=wr.a.Option,ro=Object(u.b)("answer")(ec=Object(u.c)(ec=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).AllowPass=function(e,t){a.props.answer.EnableState({data:{id:e.id,state:t},callback:function(e){0===e.code?(_r.a.success("\u64cd\u4f5c\u6210\u529f"),a.getAnswerPage()):(_r.a.error("\u64cd\u4f5c\u5931\u8d25"),a.getAnswerPage())}})},a.EnableShutdown=function(e,t){a.props.answer.EnableShutDown({data:{id:e.id,shelf:1===e.shelf?2:1},callback:function(e){0===e.code?(_r.a.success("\u64cd\u4f5c\u6210\u529f"),a.getAnswerPage()):(_r.a.error("\u64cd\u4f5c\u5931\u8d25"),a.getAnswerPage())}})},a.getAnswerPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getAnswerPage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.answer.getAnswerPage({data:Object(E.a)({},n,{category:1}),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.ShowUserAnswer=function(e){a.isShowUserAnswer(!0),a.setState({dataShow:e})},a.isShowUserAnswer=function(e){a.setState({isShow:e})},a.PropsInfo=function(e){a.isShowUserAnswer(!1)},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getAnswerPage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getAnswerPage(t)})},a.state={loading:!0,dataShow:{},isShow:!1,shelfMaps:{1:"\u4e0a\u67b6",2:"\u4e0b\u67b6"},stateMaps:{1:"\u672a\u5ba1\u6838",2:"\u672a\u901a\u8fc7",3:"\u901a\u8fc7"},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u6807\u9898",dataIndex:"title"},{title:"\u4e0a\u4f20\u7528\u6237",dataIndex:"nickName"},{title:"\u5185\u5bb9\u540d\u79f0",dataIndex:"content"},{title:"\u57ce\u5e02",dataIndex:"city"},{title:"\u7528\u6237\u56de\u7b54",dataIndex:"answersCount",render:function(e,t){return l.a.createElement("span",null,e,"\u6761",l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.ShowUserAnswer(t)}},"\u67e5\u770b"))}},{title:"\u5ba1\u6838\u72b6\u6001",dataIndex:"state",render:function(e){return l.a.createElement("span",null,a.state.stateMaps[e])}},{title:"\u72b6\u6001",dataIndex:"shelf",render:function(e){return l.a.createElement("span",null,a.state.shelfMaps[e])}},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u542f\u7528\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.EnableShutdown(t,2===t.shelf?1:2)}},l.a.createElement("a",{href:"javacript:void(0);"},2===t.shelf?"\u4e0a\u67b6":"\u4e0b\u67b6")),l.a.createElement(li.a,{type:"vertical"}),3!==t.state&&l.a.createElement("span",null,l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u542f\u7528\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.AllowPass(t,3)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u901a\u8fc7\u5ba1\u6838")),l.a.createElement(li.a,{type:"vertical"})),1===t.state&&l.a.createElement("span",null,l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u542f\u7528\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.AllowPass(t,2)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u62d2\u7edd\u901a\u8fc7")),l.a.createElement(li.a,{type:"vertical"})))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getAnswerPage()}},{key:"render",value:function(){var e=this,t=this.props.answer.answerPage,a={labelCol:{span:6},wrapperCol:{span:14}},r=this.props.form.getFieldDecorator;return l.a.createElement(yr.a,{title:"\u95ee\u7b54\u7ba1\u7406",bordered:!1,loading:this.state.loading},this.state.isShow&&l.a.createElement(vr.a,{visible:this.state.isShow,width:1300,onCancel:function(){return e.isShowUserAnswer(!1)},footer:null},l.a.createElement(eo,{data:this.state.dataShow,onClose:function(){e.PropsInfo(!1),e.getAnswerPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:8,md:24,sm:24},l.a.createElement(to,Object.assign({label:"\u95ee\u7b54\u5185\u5bb9"},a,{className:"form-inline-item"}),r("content")(l.a.createElement(pr.a,{placeholder:"\u95ee\u7b54\u5185\u5bb9"})))),l.a.createElement(dr.a,{xl:8,md:24,sm:24},l.a.createElement(to,Object.assign({label:"\u5ba1\u6838\u72b6\u6001"},a,{className:"form-inline-item"}),r("state")(l.a.createElement(wr.a,{placeholder:"\u8bf7\u9009\u62e9\u5ba1\u6838\u72b6\u6001"},l.a.createElement(ao,{value:1},"\u672a\u5ba1\u6838"),l.a.createElement(ao,{value:2},"\u672a\u901a\u8fc7"),l.a.createElement(ao,{value:3},"\u901a\u8fc7"))))),l.a.createElement(dr.a,{xl:8,md:24,sm:24},l.a.createElement(to,Object.assign({label:"\u4e0a\u4e0b\u67b6\u72b6\u6001"},a,{className:"form-inline-item"}),r("shelf")(l.a.createElement(wr.a,{placeholder:"\u8bf7\u9009\u62e9\u4e0a\u4e0b\u67b6\u72b6\u6001"},l.a.createElement(ao,{value:1},"\u4e0a\u67b6"),l.a.createElement(ao,{value:2},"\u4e0b\u67b6"))))),l.a.createElement(dr.a,{xl:10,md:24,sm:24,offset:2,style:{marginBottom:"10px"}},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch"},"\u67e5\u8be2"))))),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||ec)||ec,no=ur.a.create()(ro),io=ur.a.Item,co=(jr.a.RangePicker,wr.a.Option),oo=(Sr.a.Button,pr.a.TextArea,Sr.a.Group,Cr.a.Dragger,Object(u.b)("broadcast")(tc=Object(u.c)(tc=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(a.props.data?$t.broadcast.EditBroadcast({data:Object(E.a)({id:a.props.data.id},t,{startTime:""!==t.startTime?_t()(t.startTime.valueOf()).format("YYYY-MM-DD HH:mm:ss"):"",endTime:""!==t.endTime?_t()(t.endTime.valueOf()).format("YYYY-MM-DD HH:mm:ss"):"",url:t.url[0].response.data.filename,jumpUrl:t.jumpUrl?Vi(t.jumpUrl):""}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}):$t.broadcast.CreateBroadcast({data:Object(E.a)({},t,{startTime:""!==t.startTime?_t()(t.startTime.valueOf()).format("YYYY-MM-DD HH:mm:ss"):"",endTime:""!==t.endTime?_t()(t.endTime.valueOf()).format("YYYY-MM-DD HH:mm:ss"):"",url:t.url[0].response.data.filename,jumpUrl:t.jumpUrl?Vi(t.jumpUrl):""}),callback:function(e){0===e.code&&(_r.a.success("\u4fdd\u5b58\u6210\u529f"),a.props.onClose&&a.props.onClose())}}))})},a.handleChangeCity=function(e){a.setState({cityId:e},function(){a.props.form.setFieldsValue({itemId:void 0})})},a.handleChangeJump=function(e){a.setState({jump:e,cityId:""},function(){a.props.form.setFieldsValue({cityId:void 0,itemId:void 0})})},a.state={status:!0,loading:!0,jump:0,cityId:""},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark(function e(){var t=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t.global.getCityList({data:{current:1,size:1e4}});case 2:return e.next=4,$t.tag.getTagPage({data:{current:1,size:1e4,state:1}});case 4:return e.next=6,$t.strategy.getCityStrategyPage({data:{current:1,size:1e4}});case 6:return e.next=8,$t.strategy.getPictureStrategyPage({data:{current:1,size:1e4,state:1}});case 8:return e.next=10,$t.strategy.getVideoStrategyPage({data:{current:1,size:1e4,state:1}});case 10:return e.next=12,$t.tourisms.getTourismPage({data:{current:1,size:1e4,state:1}});case 12:return e.next=14,this.props.data;case 14:if(e.t0=e.sent,!e.t0){e.next=17;break}$t.broadcast.getBroadcastSingle({data:{id:this.props.data.id},callback:function(e){0===e.code&&t.setState({loading:!1,jump:e.data.jump,cityId:e.data.cityId})}});case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=$t.global.cityList,r=$t.tag.tagPage.records,n=void 0!==this.props.data,i={labelCol:{span:6},wrapperCol:{span:14}},c=$t.broadcast.broadcastSingle,o=$t.strategy.cityStraegyPage.records.map(function(e){return Object(E.a)({},e,{jumpType:1})}),s=$t.strategy.pictureStraegyPage.records.map(function(e){return Object(E.a)({},e,{jumpType:2})}),u=$t.strategy.videoStraegyPage.records.map(function(e){return Object(E.a)({},e,{jumpType:3})}),m=$t.tourisms.tourismPage.records.map(function(e){return Object(E.a)({},e,{jumpType:4})}),d=[].concat(Object(kn.a)(o),Object(kn.a)(s),Object(kn.a)(u),Object(kn.a)(m)),p=c.url,g=[{uid:"rc-upload-1574925611551-2",url:"img/15749256138437071375449767021574925617190.jpg",lastModified:1574400765576,lastModifiedDate:"2019-11-22T05:32:45.576Z",name:"b17123b76cb838e9cc2d291f5bf62ba8.jpg",size:1411649,type:"image/jpeg",percent:100,originFileObj:{uid:"rc-upload-1574925611551-2",url:"img/15749256138437071375449767021574925617190.jpg"},status:"done",thumbUrl:"",response:{code:0,msg:null,data:{filename:"http://miramartravel.oss-cn-shenzhen.aliyuncs.com/img/15749256138437071375449767021574925617190.jpg",size:"1411649",mimeType:"image/jpeg",width:"1920",height:"1080"}},xhr:{}}];return g.map(function(e,t){p&&(e.uid="16549861321684",e.url=p,e.type="img/"+p.split("com/")[1].split(".")[1],e.originFileObj.uid="16549861321684",e.originFileObj.url=p,e.response.data.filename=p,e.response.data.mimeType="img/"+p.split("com/")[1].split(".")[1])}),console.log("TCL: CreateBroadcast -> render -> this.state.jump ",this.state.jump),l.a.createElement(yr.a,{bordered:!1,loading:!!this.props.data&&this.state.loading,title:n?"\u7f16\u8f91\u9996\u9875\u8f6e\u64ad":"\u6dfb\u52a0\u9996\u9875\u8f6e\u64ad",className:"CreateMito"},l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{xs:8,sm:16,md:24}},l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(io,Object.assign({label:"\u6807\u9898"},i,{className:"form-inline-item"}),t("title",{initialValue:n?c.title:"",rules:[{required:!0,whitespace:!0,message:"\u6807\u9898"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(io,Object.assign({label:"\u4f4d\u7f6e"},i,{className:"form-inline-item"}),t("position",{initialValue:n?c.position:void 0,rules:[{required:!0,message:"\u4f4d\u7f6e"}]})(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u4f4d\u7f6e"},l.a.createElement(co,{value:1},"1"),l.a.createElement(co,{value:2},"2"),l.a.createElement(co,{value:3},"3"))))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(io,Object.assign({label:"\u4e0a\u67b6\u65f6\u95f4"},i,{className:"form-inline-item"}),t("startTime",{initialValue:n?_t()(Date.parse(c.startTime)):null,rules:[{required:!0,message:"\u4e0a\u67b6\u65f6\u95f4"}]})(l.a.createElement(jr.a,{showTime:!0,format:"YYYY-MM-DD HH:mm",placeholder:"\u4e0a\u67b6\u65f6\u95f4"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(io,Object.assign({label:"\u4e0b\u67b6\u65f6\u95f4"},i,{className:"form-inline-item"}),t("endTime",Object(E.a)({},n&&c.endTime?{initialValue:_t()(Date.parse(c.endTime))}:{},{rules:[{required:!1,message:"\u4e0b\u67b6\u65f6\u95f4"}]}))(l.a.createElement(jr.a,{showTime:!0,format:"YYYY-MM-DD HH:mm",placeholder:"\u4e0b\u67b6\u65f6\u95f4"})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(io,Object.assign({label:l.a.createElement("span",null,"\u56fe\u7247\xa0",l.a.createElement(Vn.a,{title:"\u53ea\u80fd\u4e0a\u4f20\u4e00\u4e2a\u56fe\u7247\uff01\uff01\uff01"},l.a.createElement(pa.a,{type:"info-circle"})))},i,{className:"form-inline-item"}),t("url",{initialValue:n?g:[],rules:[{required:!0,message:"\u9009\u62e9\u56fe\u7247"}]})(l.a.createElement(xn,{type:"1",isShowUploadList:!0,uploadNumber:1})))),l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(io,Object.assign({label:"\u8df3\u8f6c"},i,{className:"form-inline-item"}),t("jump",{initialValue:n?c.jump:void 0,rules:[{required:!0,message:"\u8df3\u8f6c"}]})(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u8df3\u8f6c",onChange:this.handleChangeJump},l.a.createElement(co,{value:1},"\u57ce\u5e02\u653b\u7565"),l.a.createElement(co,{value:2},"\u56fe\u96c6\u653b\u7565"),l.a.createElement(co,{value:3},"\u89c6\u9891\u653b\u7565"),l.a.createElement(co,{value:4},"\u65c5\u6e38\u4ea7\u54c1"),l.a.createElement(co,{value:5},"\u94fe\u63a5"))))),(1===this.state.jump||2===this.state.jump||3===this.state.jump)&&l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(io,Object.assign({label:"\u8df3\u8f6c\u57ce\u5e02"},i,{className:"form-inline-item"}),t("cityId",{initialValue:n?c.cityId:void 0,rules:[{required:!0,message:"\u8df3\u8f6c\u57ce\u5e02"}]})(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u8df3\u8f6c\u57ce\u5e02",onChange:this.handleChangeCity},a.map(function(e){return l.a.createElement(co,{key:e.id,value:e.id},e.name)}))))),4===this.state.jump&&l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(io,Object.assign({label:"\u8df3\u8f6c\u6807\u7b7e"},i,{className:"form-inline-item"}),t("cityId",{initialValue:n?c.cityId:void 0,rules:[{required:!0,message:"\u8df3\u8f6c\u6807\u7b7e"}]})(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u8df3\u8f6c\u6807\u7b7e",onChange:this.handleChangeCity},r.map(function(e){return l.a.createElement(co,{key:e.id,value:e.id},e.title)}))))),5!==this.state.jump&&this.state.cityId&&l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(io,Object.assign({label:"\u5bf9\u5e94\u4ea7\u54c1"},i,{className:"form-inline-item"}),t("itemId",{initialValue:n?c.itemId:void 0,rules:[{required:!0,message:"\u5bf9\u5e94\u4ea7\u54c1"}]})(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u5bf9\u5e94\u4ea7\u54c1"},d.map(function(t){return t.jumpType===e.props.form.getFieldValue("jump")&&(e.props.form.getFieldValue("cityId")===t.cityValue||e.props.form.getFieldValue("cityId")===t.tagValue)&&l.a.createElement(co,{key:t.id,value:t.id}," ",t.title||t.name)}))))),5===this.state.jump&&l.a.createElement(dr.a,{xl:24,md:24,sm:24},l.a.createElement(io,Object.assign({label:"\u8df3\u8f6c\u94fe\u63a5"},i,{className:"form-inline-item"}),t("jumpUrl",{initialValue:n?c.jumpUrl:void 0,rules:[{required:!0,message:"\u8df3\u8f6c"}]})(l.a.createElement(pr.a,{placeholder:"\u8bf7\u8f93\u5165\u8df3\u8f6c\u94fe\u63a5",style:{width:"200px"}})))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,offset:6},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))))}}]),t}(s.Component))||tc)||tc);ur.a;var so,lo,uo,mo,po,go,bo,fo,ho,yo,vo,Eo=ur.a.create()(oo),Oo=ur.a.Item,jo=wr.a.Option,wo=Object(u.b)("broadcast")(so=Object(u.c)(so=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getBroadcastPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getTagPage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.broadcast.getBroadcastPage({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.DeleteSingle=function(e){a.props.broadcast.DeleteCast({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getBroadcastPage()):(_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25"),a.getBroadcastPage())}})},a.isCreateBroadcast=function(e){a.setState({visible:e})},a.CreateBroadcast=function(e){a.isCreateBroadcast(!0),a.setState({currItem:e})},a.PropsInfo=function(e){a.isCreateBroadcast(!1)},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getBroadcastPage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getBroadcastPage(t)})},a.state={loading:!0,visible:!1,currItem:{},positionMaps:{1:"\u542f\u52a8\u9875",2:"\u9996\u9875"},stateMaps:{1:"\u5f85\u663e\u793a",2:"\u663e\u793a",3:"\u9690\u85cf"},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u6807\u9898",dataIndex:"title"},{title:"\u4f4d\u7f6e",dataIndex:"position"},{title:"\u56fe\u7247",dataIndex:"url",render:function(e){return l.a.createElement(Cn,{alt:"img",src:e})}},{title:"\u8df3\u8f6c",dataIndex:"jumpUrl"},{title:"\u5f00\u59cb\u65f6\u95f4",dataIndex:"startTime"},{title:"\u7ed3\u675f\u65f6\u95f4",dataIndex:"endTime"},{title:"\u72b6\u6001",dataIndex:"state",render:function(e,t){return l.a.createElement("span",null,a.state.stateMaps[e])}},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreateBroadcast(t)}},"\u7f16\u8f91"),l.a.createElement(li.a,{type:"vertical"}),l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u5220\u9664\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.DeleteSingle(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u5220\u9664")),l.a.createElement(li.a,{type:"vertical"}))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getBroadcastPage()}},{key:"render",value:function(){var e=this,t=this.props.broadcast.broadcastPage,a={labelCol:{span:6},wrapperCol:{span:14}},r=this.props.form.getFieldDecorator;return l.a.createElement(yr.a,{title:"\u9996\u9875\u8f6e\u64ad\u7ba1\u7406",bordered:!1,loading:this.state.loading},this.state.visible&&l.a.createElement(vr.a,{visible:this.state.visible,width:1100,onCancel:function(){return e.isCreateBroadcast(!1)},footer:null},l.a.createElement(Eo,{data:this.state.currItem,onClose:function(){e.PropsInfo(!1),e.getBroadcastPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(Oo,Object.assign({label:"\u6807\u9898"},a,{className:"form-inline-item"}),r("name")(l.a.createElement(pr.a,{placeholder:"\u6807\u9898"})))),l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(Oo,Object.assign({label:"\u72b6\u6001"},a,{className:"form-inline-item"}),r("state")(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u72b6\u6001"},l.a.createElement(jo,{key:1,value:1},"\u5f85\u663e\u793a"),l.a.createElement(jo,{key:2,value:2},"\u663e\u793a"),l.a.createElement(jo,{key:3,value:3},"\u9690\u85cf"))))),l.a.createElement(dr.a,{xl:10,md:24,sm:24,offset:2,style:{marginBottom:"10px"}},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch"},"\u67e5\u8be2"))))),l.a.createElement(dr.a,{xl:12,md:24,sm:24,style:{marginBottom:"10px"}},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch",onClick:function(){e.CreateBroadcast()}},"\u6dfb\u52a0\u9996\u9875\u8f6e\u64ad")),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||so)||so,So=ur.a.create()(wo),Co=(ur.a.Item,wr.a.Option,Object(u.b)("comment")(lo=Object(u.c)(lo=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getCommentPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(E.a)({},e,{itemId:a.props.data.id,itemType:5});$t.comment.getCommentPage({data:Object(E.a)({},t),callback:function(e){0===e.code&&a.setState({loading:!1})}})},a.DeleteSingle=function(e){$t.comment.DeleteComment({data:{id:e.id},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getCommentPage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.EnableShutdown=function(e){},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getCommentPage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.state={itemTypeMaps:{1:"\u57ce\u5e02\u653b\u7565",3:"\u666f\u70b9\u4ecb\u7ecd",4:"\u65c5\u6e38\u4ea7\u54c1",5:"\u6e38\u8bb0"},commentMaps:{0:"\u6b63\u5e38",1:"\u5f85\u5ba1\u6838",2:"\u5ba1\u6838\u5931\u8d25",3:"\u5ba1\u6838\u901a\u8fc7"},loading:!0,pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u8bc4\u8bba\u5185\u5bb9",dataIndex:"content"},{title:"\u53d1\u8868\u7528\u6237",dataIndex:"nickName"},{title:"\u8bc4\u8bba\u6a21\u5757",dataIndex:"itemType",render:function(e){return l.a.createElement("span",null,a.state.itemTypeMaps[e])}},{title:"\u88ab\u8bc4\u8bba\u6807\u9898",dataIndex:"itemTitle"},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u5220\u9664\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.DeleteSingle(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u5220\u9664")))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getCommentPage(),$t.global.getCityList({data:{}})}},{key:"render",value:function(){var e=$t.comment.commentPage;return l.a.createElement(yr.a,{title:"\u8bc4\u8bba\u7ba1\u7406",bordered:!1,loading:this.state.loading},l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:e.records,pagination:Object(E.a)({},this.state.pagination,{total:e.total,current:e.current,pageSize:e.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||lo)||lo),Po=(wr.a.Option,ur.a.Item,Object(u.b)("global")(uo=Object(u.c)(uo=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getProduct=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];$t.global.getRelationPage({data:{itemId:a.props.data.id,isRelation:1,type:5,size:1e3,current:1},callback:function(e){0===e.code&&a.setState({loading:!1})}})},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getProduct({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.EditProducts=function(e,t){$t.global.EditProducts({data:{tourProductId:e.tourProductId,itemId:a.props.data.id,isRelation:t,type:5},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getProduct()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.state={pagination:{total:20,pageSize:20,current:1},visible:!1,loading:!0,columns:[{title:"\u56fe\u7247",dataIndex:"coverUrl",render:function(e,t){return l.a.createElement("div",null,1===t.format&&l.a.createElement(Cn,{alt:"url",src:e}),2===t.format&&l.a.createElement("video",{style:{height:"100px",width:"100px"},src:e,controls:!0}))}},{title:"\u6807\u9898",dataIndex:"title"},{title:"\u51fa\u6e38\u4eba\u6570",dataIndex:"count"},{title:"\u4ef7\u683c",dataIndex:"price"},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u5220\u9664\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.EditProducts(t,2)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u5220\u9664"))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getProduct()}},{key:"render",value:function(){var e=$t.global.relationPage;return l.a.createElement(yr.a,{title:"\u5173\u8054\u65c5\u6e38\u4ea7\u54c1",bordered:!1,loading:this.state.loading},l.a.createElement("div",null,l.a.createElement(Or.a,{rowKey:function(e){return e.tourProductId},columns:this.state.columns,dataSource:e.records,pagination:Object(E.a)({},this.state.pagination,{total:e.total,current:e.current,pageSize:e.size,showQuickJumper:!0})})))}}]),t}(l.a.Component))||uo)||uo),ko=Object(u.b)("travels")(mo=Object(u.c)(mo=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getPicturePage=function(){$t.travels.getTravelsSingle({data:{id:a.props.data.id},callback:function(e){0===e.code&&a.setState({loading:!1})}})},a.state={loading:!0,columns:[{title:"\u8d44\u6e90",dataIndex:"url",render:function(e,t){return 1===t.format?l.a.createElement(Cn,{alt:"url",src:e}):l.a.createElement("video",{style:{width:200},src:e,controls:!0})}},{title:"\u8d44\u6e90\u5bbd\u5ea6",dataIndex:"wide",render:function(e,t){return l.a.createElement("span",null)}},{title:"\u8d44\u6e90\u9ad8\u5ea6",dataIndex:"high",render:function(e,t){return l.a.createElement("span",null)}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getPicturePage()}},{key:"render",value:function(){var e=$t.travels.travelsSingle;return l.a.createElement(yr.a,{title:"\u8d44\u6e90",bordered:!1,loading:this.state.loading},l.a.createElement(Or.a,{columns:this.state.columns,bordered:!1,dataSource:e.userMaterialList,pagination:!1}))}}]),t}(s.Component))||mo)||mo,xo=(wr.a.Option,ur.a.Item,ga.a.Title),To=ga.a.Text,Do=Object(u.b)("global")(po=Object(u.c)(po=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getPicturePage=function(){$t.travels.getTravelsSingle({data:{id:a.props.data.id},callback:function(e){0===e.code&&a.setState({loading:!1})}})},a.ChangeAllow=function(e,t){$t.travels.EditTravelsState({data:{id:e,state:t},callback:function(e){0===e.code?(_r.a.success("\u64cd\u4f5c\u6210\u529f!"),a.props.onClose()):(_r.a.error("\u64cd\u4f5c\u5931\u8d25!"),a.props.onClose())}})},a.state={loading:!0},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getPicturePage()}},{key:"render",value:function(){var e=this,t=$t.travels.travelsSingle;return l.a.createElement(yr.a,{title:"\u5ba1\u6838\u5185\u5bb9",bordered:!1},l.a.createElement(mr.a,{gutter:16},t.userMaterialList.map(function(e){return l.a.createElement(dr.a,{className:"gutter-row",span:6},1===e.format&&l.a.createElement(Cn,{src:e.url,alt:"img",styleType:["200px","200px"]}),2===e.format&&l.a.createElement("video",{style:{height:"200px",width:"200px"},src:e.url,controls:!0}))})),l.a.createElement(xo,{level:2},"\u6e38\u8bb0\u5185\u5bb9"),l.a.createElement("div",{style:{marginBottom:40}},l.a.createElement(To,null,t.content)),(2===t.state||0===t.state)&&l.a.createElement(gr.a,{type:"primary",htmlType:"submit",style:{marginRight:850},onClick:function(){return e.ChangeAllow(e.props.data.id,1)}},"\u901a\u8fc7"),0===t.state&&l.a.createElement(gr.a,{type:"primary",htmlType:"submit",onClick:function(){return e.ChangeAllow(e.props.data.id,2)}},"\u62d2\u7edd"))}}]),t}(l.a.Component))||po)||po,Io=(wr.a.Option,ur.a.Item,Object(u.b)("global")(go=Object(u.c)(go=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getRelationJourney=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};$t.global.getRelationPage({data:Object(E.a)({isRelation:2,type:5,itemId:a.props.data.id},e),callback:function(e){if(0===e.code){var t=e.data.records.filter(function(e){if(1===e.isRelation)return e.id});a.setState({selectedRowKeys:t,loading:!1})}}})},a.onSelectChange=function(e,t){a.setState({selectedRow:t,selectedRowKeys:e})},a.EditProducts=function(e,t){$t.global.EditProducts({data:{tourProductId:e.tourProductId,itemId:a.props.data.id,isRelation:t,type:5},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getRelationJourney()):(_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25"),a.getRelationJourney())}})},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getRelationJourney({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.state={pagination:{total:20,pageSize:20,current:1},loading:!0,columns:[{title:"\u56fe\u7247",dataIndex:"coverUrl",render:function(e,t){return l.a.createElement(Cn,{alt:"url",src:e})}},{title:"\u6807\u9898",dataIndex:"title"},{title:"\u51fa\u6e38\u4eba\u6570",dataIndex:"count"},{title:"\u4ef7\u683c",dataIndex:"price"},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement(Nr.a,{title:l.a.createElement("div",null,l.a.createElement("span",null,"\u4f60\u786e\u5b9a"),l.a.createElement("span",null,1===t.relation?"\u53d6\u6d88":"\u5173\u8054"),l.a.createElement("span",null,"\u5417\uff1f")),icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.EditProducts(t,1===t.relation?2:1)}},l.a.createElement("a",{href:"javacript:void(0);"},1===t.relation?"\u53d6\u6d88":"\u5173\u8054"))}}],selectedRow:[],selectedRowKeys:[]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){console.log("TCL: RelationJourney -> componentDidMount ->  this.props.data",this.props.data),this.getRelationJourney()}},{key:"render",value:function(){var e=$t.global.relationPage,t=this.state,a=t.selectedRow;t.selectedRowKeys,this.onSelectChange,a.length;return l.a.createElement(yr.a,{title:"\u5173\u8054\u65c5\u6e38\u4ea7\u54c1",bordered:!1,loading:this.state.loading},l.a.createElement(Or.a,{rowKey:function(e){return e.tourProductId},columns:this.state.columns,dataSource:e.records,pagination:Object(E.a)({},this.state.pagination,{total:e.total,current:e.current,pageSize:e.size,showQuickJumper:!0}),onChange:this.handleTableChange}))}}]),t}(l.a.Component))||go)||go),zo=ur.a.Item,Mo=wr.a.Option,No=Object(u.b)("travels")(bo=Object(u.c)(bo=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getJourneyPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getHotelPage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.travels.getTravelsPage({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.SetRecommend=function(e,t){a.props.travels.EditTravelstravelsCommend({data:{id:e.id,recommend:t},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getJourneyPage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.isUp=function(e,t){a.props.travels.EditTravelsupOrDown({data:{id:e.id,shelf:t},callback:function(e){0===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getJourneyPage()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.Relation=function(e){a.isRelation(!0),a.setState({RelationData:e})},a.isRelation=function(e){a.setState({isRelation:e})},a.AllowPass=function(e){a.isAllowPass(!0),a.setState({AllowData:e})},a.isAllowPass=function(e){a.setState({isAllowPass:e})},a.CreateComment=function(e){a.isCreateComment(!0),a.setState({comment:e})},a.isCreateComment=function(e){a.setState({showComment:e})},a.CreatePicture=function(e){a.isCreatePicture(!0),a.setState({pictureData:e})},a.isCreatePicture=function(e){a.setState({showPicture:e})},a.CreateProducts=function(e){a.isCreateProducts(!0),a.setState({products:e})},a.isCreateProducts=function(e){a.setState({showProducts:e})},a.PropsInfo=function(e){a.isCreateProducts(!1),a.isCreateComment(!1),a.isCreatePicture(!1),a.isRelation(!1),a.isAllowPass(!1)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getJourneyPage(t)})},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getJourneyPage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.state={currItem:{},RelationData:{},isRelation:!1,isAllowPass:!1,AllowData:{},showProducts:!1,showComment:!1,showPicture:!1,pictureData:{},comment:{},products:{},stateMaps:{0:"\u672a\u5ba1\u6838",1:"\u5ba1\u6838\u901a\u8fc7",2:"\u5ba1\u6838\u672a\u901a\u8fc7"},shelfMaps:{1:"\u4e0a\u67b6",2:"\u4e0b\u67b6"},recommendMaps:{0:"\u4e0d\u63a8\u8350",1:"\u63a8\u8350"},pagination:{total:20,pageSize:20,current:1},loading:!0,columns:[{title:"\u6807\u9898",dataIndex:"title"},{title:"\u4e0a\u4f20\u7528\u6237",dataIndex:"nickName"},{title:"\u8d44\u6e90",dataIndex:"materialCount",render:function(e,t){return l.a.createElement("span",null,e+"\u4e2a",l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreatePicture(t)}},"\u67e5\u770b"))}},{title:"\u57ce\u5e02",dataIndex:"city"},{title:"\u5173\u8054\u65c5\u6e38\u4ea7\u54c1",dataIndex:"productCount",render:function(e,t){return l.a.createElement("span",null,e+"\u4e2a",l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreateProducts(t)}},"\u67e5\u770b"))}},{title:"\u7528\u6237\u8bc4\u8bba",dataIndex:"composeCount",render:function(e,t){return l.a.createElement("span",null,e+"\u6761",l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.CreateComment(t)}},"\u67e5\u770b"))}},{title:"\u63a8\u8350",dataIndex:"recommend",render:function(e,t){return l.a.createElement("span",null,a.state.recommendMaps[e])}},{title:"\u5ba1\u6838\u72b6\u6001",dataIndex:"state",render:function(e,t){return l.a.createElement("span",null,a.state.stateMaps[e])}},{title:"\u72b6\u6001",dataIndex:"shelf",render:function(e,t){return l.a.createElement("span",null,a.state.shelfMaps[e])}},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.Relation(t)}},"\u5173\u8054\u65c5\u6e38\u4ea7\u54c1"),l.a.createElement(li.a,{type:"vertical"}),l.a.createElement(Nr.a,{title:"\u8bbe\u7f6e\u4e3a\u70ed\u95e8\u63a8\u8350\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.SetRecommend(t,0===t.recommend?1:0)}},l.a.createElement("a",{href:"javacript:void(0);"},0===t.recommend?"\u8bbe\u4e3a\u63a8\u8350":"\u53d6\u6d88\u63a8\u8350")),l.a.createElement(li.a,{type:"vertical"}),l.a.createElement(Nr.a,{title:"\u8bbe\u7f6e\u4e0a/\u4e0b\u67b6\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.isUp(t,2===t.shelf?1:2)}},l.a.createElement("a",{href:"javacript:void(0);"},2===t.shelf?"\u4e0a\u67b6":"\u4e0b\u67b6")),l.a.createElement(li.a,{type:"vertical"}),l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.AllowPass(t)}},"\u5ba1\u6838"))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getJourneyPage()}},{key:"render",value:function(){var e=this,t=this.props.travels.travelsPage,a=this.props.form.getFieldDecorator,r={labelCol:{span:6},wrapperCol:{span:14}};return l.a.createElement(yr.a,{title:"\u6e38\u8bb0\u7ba1\u7406",bordered:!1,loading:this.state.loading},this.state.isAllowPass&&l.a.createElement(vr.a,{visible:this.state.isAllowPass,width:1100,onCancel:function(){return e.isAllowPass(!1)},footer:null},l.a.createElement(Do,{data:this.state.AllowData,onClose:function(){e.PropsInfo(!1),e.getJourneyPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),this.state.showComment&&l.a.createElement(vr.a,{visible:this.state.showComment,width:1100,onCancel:function(){return e.isCreateComment(!1)},footer:null},l.a.createElement(Co,{data:this.state.comment,onClose:function(){e.PropsInfo(!1),e.getJourneyPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),this.state.showProducts&&l.a.createElement(vr.a,{visible:this.state.showProducts,width:1100,onCancel:function(){return e.isCreateProducts(!1)},footer:null},l.a.createElement(Po,{data:this.state.products,onClose:function(){e.PropsInfo(!1),e.getJourneyPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),this.state.isRelation&&l.a.createElement(vr.a,{visible:this.state.isRelation,width:1100,onCancel:function(){return e.isRelation(!1)},footer:null},l.a.createElement(Io,{data:this.state.RelationData,onClose:function(){e.PropsInfo(!1),e.getJourneyPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),this.state.showPicture&&l.a.createElement(vr.a,{visible:this.state.showPicture,width:1100,onCancel:function(){return e.isCreatePicture(!1)},footer:null},l.a.createElement(ko,{data:this.state.pictureData,onClose:function(){e.PropsInfo(!1),e.getJourneyPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(zo,Object.assign({label:"\u6807\u9898"},r,{className:"form-inline-item"}),a("title")(l.a.createElement(pr.a,{placeholder:"\u6807\u9898"})))),l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(zo,Object.assign({label:"\u4e0a\u4e0b\u67b6\u72b6\u6001"},r,{className:"form-inline-item"}),a("shelf")(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u4e0a\u4e0b\u67b6\u72b6\u6001"},l.a.createElement(Mo,{key:1,value:1},"\u4e0a\u67b6"),l.a.createElement(Mo,{key:2,value:2},"\u4e0b\u67b6"))))),l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(zo,Object.assign({label:"\u5ba1\u6838\u72b6\u6001"},r,{className:"form-inline-item"}),a("state")(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u5ba1\u6838\u72b6\u6001"},l.a.createElement(Mo,{key:0,value:0},"\u672a\u5ba1\u6838"),l.a.createElement(Mo,{key:1,value:1},"\u901a\u8fc7"),l.a.createElement(Mo,{key:2,value:2},"\u672a\u901a\u8fc7"))))),l.a.createElement(dr.a,{xl:10,md:24,sm:24,offset:2,style:{marginBottom:"10px"}},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch"},"\u67e5\u8be2"))))),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||bo)||bo,Lo=ur.a.create()(No),Ro=a(1572),Vo=(ur.a.Item,wr.a.Option,Object(u.b)("orders")(fo=Object(u.c)(fo=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).state={subClass:{1:"\u6210\u4eba",2:"\u513f\u7ae5",3:"\u5a74\u513f"},itemTypeMaps:{1:"\u57ce\u5e02\u653b\u7565",3:"\u666f\u70b9\u4ecb\u7ecd",4:"\u65c5\u6e38\u4ea7\u54c1",5:"\u6e38\u8bb0"},commentMaps:{0:"\u6b63\u5e38",1:"\u5f85\u5ba1\u6838",2:"\u5ba1\u6838\u5931\u8d25",3:"\u5ba1\u6838\u901a\u8fc7"},loading:!0,pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u8bc4\u8bba\u5185\u5bb9",dataIndex:"content"},{title:"\u53d1\u8868\u7528\u6237",dataIndex:"nickName"},{title:"\u8bc4\u8bba\u6a21\u5757",dataIndex:"itemType",render:function(e){return l.a.createElement("span",null,a.state.itemTypeMaps[e])}},{title:"\u88ab\u8bc4\u8bba\u6807\u9898",dataIndex:"itemTitle"},{title:"\u72b6\u6001",dataIndex:"state",render:function(e,t){return l.a.createElement("span",null,a.state.commentMaps[e])}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;$t.orders.getSearchOrder({data:{runningNumber:this.props.data.runningNumber},callback:function(t){0===t.code&&e.setState({loading:!1})}})}},{key:"render",value:function(){var e=this,t=$t.orders.searchOrder;return l.a.createElement(yr.a,{title:"\u67e5\u770b\u8ba2\u5355",bordered:!1,loading:this.state.loading},l.a.createElement(Ro.a,{title:""},l.a.createElement(Ro.a.Item,{label:"\u8ba2\u5355\u7f16\u53f7",span:2},t.runningNumber),l.a.createElement(Ro.a.Item,{label:"\u65c5\u6e38\u4ea7\u54c1",span:2},t.name),t.shoppingOrderDetails.map(function(t,a){return l.a.createElement(Ro.a.Item,{label:"\u91d1\u989d",key:t.id,span:3},l.a.createElement("span",{style:{width:"100px",display:"inline-block"}},t.nickName+"("+e.state.subClass[t.subClass]+")"),l.a.createElement("span",{style:{marginLeft:"100px"}},"\uffe5"+t.price))}),t.shoppingParticipants.map(function(e,t){return l.a.createElement(Ro.a.Item,{key:e.id,label:"\u51fa\u884c\u4eba",span:3},l.a.createElement("span",{style:{width:"100px",display:"inline-block"}},e.name),l.a.createElement("span",{style:{marginLeft:"100px"}},"\u7535\u8bdd:"+e.phone))}),l.a.createElement(Ro.a.Item,{label:"\u8054\u7cfb\u4eba",span:3},l.a.createElement("span",{style:{width:"100px",display:"inline-block"}},t.userContacts.name),l.a.createElement("span",{style:{marginLeft:"100px"}},"\u7535\u8bdd:"+t.userContacts.phone))))}}]),t}(l.a.Component))||fo)||fo),Uo=(ur.a.Item,wr.a.Option,Object(u.b)("orders")(ho=Object(u.c)(ho=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).state={subClass:{1:"\u6210\u4eba",2:"\u513f\u7ae5",3:"\u5a74\u513f"},itemTypeMaps:{1:"\u57ce\u5e02\u653b\u7565",3:"\u666f\u70b9\u4ecb\u7ecd",4:"\u65c5\u6e38\u4ea7\u54c1",5:"\u6e38\u8bb0"},commentMaps:{0:"\u6b63\u5e38",1:"\u5f85\u5ba1\u6838",2:"\u5ba1\u6838\u5931\u8d25",3:"\u5ba1\u6838\u901a\u8fc7"},loading:!0},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;$t.orders.getAfterSales({data:{runningNumber:this.props.data.runningNumber},callback:function(t){0===t.code&&e.setState({loading:!1})}})}},{key:"render",value:function(){var e=$t.orders.afterSales;return l.a.createElement(yr.a,{title:"\u67e5\u770b\u7533\u8bf7",bordered:!1,loading:this.state.loading},l.a.createElement(Ro.a,{title:""},l.a.createElement(Ro.a.Item,{label:"\u8ba2\u5355\u7f16\u53f7",span:3},e.runningNumber),l.a.createElement(Ro.a.Item,{label:"\u539f\u56e0",span:3},e.reason),l.a.createElement(Ro.a.Item,{label:"\u7535\u8bdd",span:3},e.phone),l.a.createElement(Ro.a.Item,{label:"\u65f6\u95f4",span:3},e.createTime)))}}]),t}(l.a.Component))||ho)||ho),Bo=ur.a.Item,Fo=wr.a.Option,_o=Object(u.b)("orders")(yo=Object(u.c)(yo=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).isAfterSales=function(e){a.setState({isAfter:e})},a.AfterSales=function(e){a.isAfterSales(!0),a.setState({SalesData:e})},a.isSearchOrder=function(e){a.setState({visible:e})},a.SearchOrder=function(e){a.isSearchOrder(!0),a.setState({currItem:e})},a.PropsInfo=function(e){a.isSearchOrder(!1),a.isAfterSales(!1)},a.getOrderPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getVideoPage error");else{var n=Object(E.a)({},r);e.current||(e.current=1),1===e.current&&(e.ts=(new Date).valueOf()),e.size||(e.size=20),n.timeRange&&(0!==n.timeRange.length||(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.orders.getOrderPage({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getOrderPage({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getOrderPage(t)})},a.state={isAfter:!1,SalesData:{},loading:!0,visible:!1,currItem:{},stateMaps:{1:"\u672a\u4ed8\u6b3e",2:"\u5df2\u4ed8\u6b3e",3:"\u9000\u6b3e\u4e2d",4:"\u5df2\u9000\u6b3e"},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u8ba2\u5355\u7f16\u53f7",dataIndex:"runningNumber",render:function(e,t){return l.a.createElement("span",{onClick:function(){return a.SearchOrder(t)}},l.a.createElement("a",{href:"javacript:void(0);"},e))}},{title:"\u65c5\u6e38\u4ea7\u54c1",dataIndex:"name"},{title:"\u91d1\u989d",dataIndex:"price"},{title:"\u4e0b\u5355\u7528\u6237",dataIndex:"nickName"},{title:"\u8ba2\u5355\u72b6\u6001",dataIndex:"state",render:function(e,t){return l.a.createElement("span",null,a.state.stateMaps[e])}},{title:"\u4e0b\u5355\u65f6\u95f4",dataIndex:"createTime"},{title:"\u552e\u540e/\u9000\u6b3e",dataIndex:"return",render:function(e,t){return l.a.createElement("span",null,(2===t.state||3===t.state)&&l.a.createElement("a",{href:"javacript:void(0);",onClick:function(){return a.AfterSales(t)}},"\u67e5\u770b\u7533\u8bf7"," "))}},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,"\u6682\u65e0")}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getOrderPage()}},{key:"render",value:function(){var e=this,t=this.props.orders.orderPage,a={labelCol:{span:6},wrapperCol:{span:14}},r=this.props.form.getFieldDecorator;return l.a.createElement(yr.a,{title:"\u8ba2\u5355\u7ba1\u7406",bordered:!1,loading:this.state.loading},this.state.visible&&l.a.createElement(vr.a,{visible:this.state.visible,width:700,onCancel:function(){return e.isSearchOrder(!1)},footer:null},l.a.createElement(Vo,{data:this.state.currItem,onClose:function(){e.PropsInfo(!1),e.getOrderPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),this.state.isAfter&&l.a.createElement(vr.a,{visible:this.state.isAfter,width:700,onCancel:function(){return e.isAfterSales(!1)},footer:null},l.a.createElement(Uo,{data:this.state.SalesData,onClose:function(){e.PropsInfo(!1),e.getOrderPage({size:e.state.pagination.pageSize,current:e.state.pagination.current})}})),l.a.createElement(ur.a,{onSubmit:this.handleSubmit},l.a.createElement(mr.a,{gutter:{md:8,lg:24,xl:48},style:{marginTop:"20px"}},l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(Bo,Object.assign({label:"\u8ba2\u5355/\u7528\u6237"},a,{className:"form-inline-item"}),r("runningNumber")(l.a.createElement(pr.a,{placeholder:"\u8ba2\u5355/\u7528\u6237"})))),l.a.createElement(dr.a,{xl:10,md:24,sm:24},l.a.createElement(Bo,Object.assign({label:"\u8ba2\u5355\u72b6\u6001"},a,{className:"form-inline-item"}),r("state")(l.a.createElement(wr.a,{style:{width:200},placeholder:"\u8ba2\u5355\u72b6\u6001"},l.a.createElement(Fo,{key:1,value:1},"\u672a\u4ed8\u6b3e"),l.a.createElement(Fo,{key:2,value:2},"\u5df2\u4ed8\u6b3e"),l.a.createElement(Fo,{key:3,value:3},"\u9000\u6b3e\u4e2d"),l.a.createElement(Fo,{key:4,value:4},"\u5df2\u9000\u6b3e"))))),l.a.createElement(dr.a,{xl:10,md:24,sm:24,offset:2,style:{marginBottom:"10px"}},l.a.createElement("div",{className:"submitButtons"},l.a.createElement(gr.a,{type:"primary",htmlType:"submit",className:"listsearch"},"\u67e5\u8be2"))),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:t.records,pagination:Object(E.a)({},this.state.pagination,{total:t.total,current:t.current,pageSize:t.size,showQuickJumper:!0}),onChange:this.handleTableChange})))))}}]),t}(l.a.Component))||yo)||yo,Ao=ur.a.create()(_o),Yo=(ur.a.Item,wr.a.Option,Object(u.b)("userAdmin","global")(vo=Object(u.c)(vo=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(ta.a)(this,Object(aa.a)(t).call(this,e))).getUserList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props.form.validateFields(function(t,r){if(t)console.log("getUserList error");else{var n=Object(E.a)({},r);e.current||(e.current=1),e.size||(e.size=20),n.timeRange&&(0!==n.timeRange.length?(n.start_at=parseInt(n.timeRange[0].valueOf()),n.end_at=parseInt(n.timeRange[1].valueOf())):(n.start_at=0,n.end_at=0)),n=Object(E.a)({},n,e),a.props.userAdmin.getUserList({data:Object(E.a)({},n),callback:function(e){0===e.code&&a.setState({loading:!1})}})}})},a.EnableShutdown=function(e){a.props.userAdmin.EnableShutdown({data:{id:e.id},callback:function(e){200===e.code?(_r.a.success(e.msg||"\u64cd\u4f5c\u6210\u529f"),a.getUserList()):_r.a.error(e.msg||"\u64cd\u4f5c\u5931\u8d25")}})},a.handleTableChange=function(e,t,r){var n=Object(E.a)({},a.state.pagination);n.current=e.current||1,a.setState({pagination:n}),a.getUserList({size:e.pageSize,current:e.current}),window.scroll(0,0)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.getUserList(t)})},a.state={loading:!0,visible:!1,currItem:{},pagination:{total:20,pageSize:20,current:1},columns:[{title:"\u7528\u6237\u540d\u79f0",dataIndex:"name"},{title:"\u5934\u50cf",dataIndex:"city",render:function(e,t){return l.a.createElement(Cn,{src:e,alt:"img"})}},{title:"\u624b\u673a\u53f7",dataIndex:"phone"},{title:"\u5269\u4f59\u79ef\u5206",dataIndex:"star"},{title:"\u51fa\u884c\u6b21\u6570",dataIndex:"num"},{title:"\u53d1\u5e03\u6e38\u8bb0",dataIndex:"tour"},{title:"\u5206\u4eab\u6b21\u6570",dataIndex:"share"},{title:"\u72b6\u6001",dataIndex:"status"},{title:"\u64cd\u4f5c",dataIndex:"play",render:function(e,t){return l.a.createElement("span",null,l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u542f\u7528\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.EnableShutdown(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u542f\u7528")),l.a.createElement(li.a,{type:"vertical"}),l.a.createElement(Nr.a,{title:"\u4f60\u786e\u5b9a\u505c\u7528\u5417\uff1f",icon:l.a.createElement(pa.a,{type:"question-circle-o",style:{color:"red"}}),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){return a.EnableShutdown(t)}},l.a.createElement("a",{href:"javacript:void(0);"},"\u505c\u7528")))}}]},a}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getUserList(),this.props.global.getCityList({data:{}})}},{key:"render",value:function(){var e=this.props.userAdmin.userList;this.props.form.getFieldDecorator,this.props.global.cityList;return l.a.createElement(yr.a,{title:"\u7528\u6237\u5217\u8868",bordered:!1,loading:this.state.loading},l.a.createElement("div",{className:"tableList"},l.a.createElement(Er.a,{className:"ant-back-top-inner"}),l.a.createElement(dr.a,{span:24},l.a.createElement(Or.a,{columns:this.state.columns,rowKey:"id",dataSource:e.records,pagination:Object(E.a)({},this.state.pagination,{total:e.total,current:e.current,pageSize:e.size,showQuickJumper:!0}),onChange:this.handleTableChange}))))}}]),t}(l.a.Component))||vo)||vo),qo=ur.a.create()(Yo),Ho=[{path:"/user/login",component:hr,meta:{title:"\u767b\u5f55"}},{path:"/admin/client",component:Mr,meta:{title:"\u83dc\u5355\u7ba1\u7406"}},{path:"/admin/supply",component:Fr,meta:{title:"\u4f9b\u5e94\u5546\u7ba1\u7406"}},{path:"/resources/basescenery",component:Zr,meta:{title:"\u666f\u70b9"}},{path:"/resources/basehotel",component:on,meta:{title:"\u9152\u5e97"}},{path:"/resources/baserestaurant",component:fn,meta:{title:"\u9910\u5385"}},{path:"/resources/basetirp",component:wn,meta:{title:"\u51fa\u884c\u65b9\u5f0f"}},{path:"/resources/baseimage",component:Rn,meta:{title:"\u56fe\u7247"}},{path:"/resources/basevideo",component:qn,meta:{title:"\u89c6\u9891"}},{path:"/resources/baseproduct",component:si,meta:{title:"\u57fa\u7840\u4ea7\u54c1"}},{path:"/bmtourproduct/tourism",component:ki,meta:{title:"\u57fa\u7840\u4ea7\u54c1"}},{path:"/admin/bmtourtag",component:Ni,meta:{title:"\u51fa\u884c\u6807\u7b7e\u7ba1\u7406"}},{path:"/admin/bmadvert",component:cc,meta:{title:"\u5e7f\u544a\u7ba1\u7406"}},{path:"/strategy/picture",component:vc,meta:{title:"\u56fe\u96c6\u653b\u7565"}},{path:"/strategy/video",component:xc,meta:{title:"\u89c6\u9891\u653b\u7565"}},{path:"/admin/bmcarousel",component:So,meta:{title:"\u9996\u9875\u8f6e\u64ad\u7ba1\u7406"}},{path:"/usercompose/usercompose",component:Ic,meta:{title:"\u8bc4\u8bba\u7ba1\u7406"}},{path:"/strategy/city",component:Xc,meta:{title:"\u57ce\u5e02\u653b\u7565"}},{path:"/useranswers/useranswers",component:no,meta:{title:"\u95ee\u7b54\u7ba1\u7406"}},{path:"/usertravels/usertravels",component:Lo,meta:{title:"\u6e38\u8bb0\u7ba1\u7406"}},{path:"/shoppingorder/shoppingorder",component:Ao,meta:{title:"\u8ba2\u5355\u7ba1\u7406"}},{path:"/userlist/userlist",component:qo,meta:{title:"\u7528\u6237\u5217\u8868"}}];function Ko(){return Ho}var Go=Ko,Jo=Ko(),Qo=function(e){function t(){return Object(f.a)(this,t),Object(ta.a)(this,Object(aa.a)(t).apply(this,arguments))}return Object(ra.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return!!this.props.user.userInfo.username||!!localStorage.getItem("user_cloud")?l.a.createElement(ir,this.props,Jo.filter(function(e){return"/user/login"!==e.path}).map(function(e){return l.a.createElement(na.a,{key:e.path,path:e.path,component:e.component})}),l.a.createElement(ia.a,{to:{pathname:"/resources/basehotel"}})):l.a.createElement(lr,this.props,l.a.createElement(na.a,{path:"/user/login",component:hr}),l.a.createElement(ia.a,{to:{pathname:"/user/login"}}))}}]),t}(l.a.Component),Wo=a(19);_t.a.locale("en");Go(),t.a=function(){if(localStorage.getItem("user_cloud"))try{var e=JSON.parse(localStorage.getItem("user_cloud")||"{}");$t.user.userInfo=e}catch(t){console.error(t)}return l.a.createElement("div",null,l.a.createElement(Wo.b,{locale:m.a},l.a.createElement(u.a,$t,l.a.createElement(Xt.a,null,l.a.createElement(ea.a,null,l.a.createElement(Qo,{user:$t.user}))))))}},567:function(e,t,a){e.exports=a(568)},568:function(e,t,a){"use strict";a.r(t),function(e){var t=a(0),r=a.n(t),n=a(14),i=a.n(n),c=a(559),o=(a(573),a(560)),s=a(558);Object(c.hot)(e)(r.a.createElement("div",null)),i.a.render(r.a.createElement(o.a,null),document.getElementById("root")),"https:"===window.location.protocol&&s.a()}.call(this,a(440)(e))},573:function(e,t,a){},575:function(e,t,a){},663:function(e,t){},664:function(e,t){},683:function(e,t,a){},695:function(e,t,a){e.exports={header:"header___IFkxT"}},709:function(e,t,a){e.exports={logo:"logo___QK8Sl","nav-link":"nav-link___2nzKy"}},711:function(e,t,a){},713:function(e,t,a){e.exports={"user-layout-container":"user-layout-container___34W3M","user-layout-content":"user-layout-content___FmFpJ","user-layout-top":"user-layout-top___sgP6q","user-layout-header":"user-layout-header___WRvRq","user-layout-logo":"user-layout-logo___NQBPw","user-layout-title":"user-layout-title___MSzCR","user-layout-desc":"user-layout-desc___1tO1M"}},715:function(e,t,a){},92:function(e,t,a){}},[[567,2,1]]]);
//# sourceMappingURL=main.db81d0d3.chunk.js.map